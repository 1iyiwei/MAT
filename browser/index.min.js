!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.FloMat=e()}}(function(){return function e(t,r,n){function a(i,u){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!u&&l)return l(i,!0);if(o)return o(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var s=r[i]={exports:{}};t[i][0].call(s.exports,function(e){var r=t[i][1][e];return a(r||e)},s,s.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t,r){"use strict";t.exports=e("./index").default},{"./index":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./lib/mat/functions/smoothen"),a=e("./lib/mat/functions/find-mat"),o=e("./lib/mat/functions/to-scale-axis"),i=e("./lib/mat/classes/mat-tree"),u=e("./lib/mat/functions/get-nodes-as-array"),l=e("./lib/geometry/classes/point-on-shape"),f=e("./lib/linked-list/linked-loop"),s=e("./lib/geometry/classes/shape"),c=e("./lib/geometry/classes/circle"),d=e("./lib/svg/svg"),v={findMat:a.default,toScaleAxis:o.default,smoothen:n.default,MatTree:i.default,PointOnShape:l.default,LinkedLoop:f.default,Shape:s.default,Circle:c.default,Svg:d.default,fs:{getNodesAsArray:u.default}};r.default=v},{"./lib/geometry/classes/circle":6,"./lib/geometry/classes/point-on-shape":9,"./lib/geometry/classes/shape":10,"./lib/linked-list/linked-loop":16,"./lib/mat/classes/mat-tree":25,"./lib/mat/functions/find-mat":32,"./lib/mat/functions/get-nodes-as-array":33,"./lib/mat/functions/smoothen":35,"./lib/mat/functions/to-scale-axis":36,"./lib/svg/svg":38}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../mat-constants"),i=e("flo-vector2d"),u=e("flo-memoize"),l=e("flo-bezier3"),f=e("./circle"),s=u.default.m1,c=function(){function e(t,r,a,o,i){n(this,e),this.bezierNode=t,this.t=r,this.type=a,this.order=o,this.order2=i;var u=l.default.evaluate(t.item.bezier3,r);this.p=u,this[0]=u[0],this[1]=u[1]}return a(e,null,[{key:"calcOsculatingCircle",value:function(e,t){var r=e.bezier3,n=-l.default.κ(r,t),a=void 0;a=n<=1/o.default.maxOsculatingCircleRadius?o.default.maxOsculatingCircleRadius:Math.min(1/n,o.default.maxOsculatingCircleRadius);var i=l.default.normal(r,t),u=l.default.evaluate(r,t),s=[u[0]+i[0]*a,u[1]+i[1]*a];return new f.default(s,a)}},{key:"dullCornerAt",value:function(t,r){return t.dullCornerHash[e.makeSimpleKey(r)]||null}},{key:"copy",value:function(t){return new e(t.bezierNode,t.t,t.type,t.order,t.order2)}},{key:"typeToStr",value:function(e){for(var t in o.default.pointType)if(o.default.pointType[t]===e)return t}}]),e}();c.getOsculatingCircle=s(function(e){if(e.type===o.default.pointType.sharp)return new f.default(e.p,0);if(e.type===o.default.pointType.extreme){var t=o.default.maxOsculatingCircleRadius,r=[e.p[0],e.p[1]-t];return new f.default(r,t)}return c.calcOsculatingCircle(e.bezierNode.item,e.t)}),c.compare=function(e,t){if(void 0!==e&&void 0!==t){var r=void 0;return 0!==(r=e.bezierNode.item.indx-t.bezierNode.item.indx)?r:0!==(r=e.t-t.t)?r:0!==(r=e.order-t.order)?r:r=e.order2-t.order2}},c.isPointingStraightUp=function(e){var t=c.getOsculatingCircle(e);if(!t)return!1;var r=i.default.toUnitVector(i.default.fromTo(e.p,t.center));return!(Math.abs(r[0])>1e-6||r[1]>0)},c.setPointOrder=function(e,t,r){var n=c.dullCornerAt(e,r.p);if(n){var a=n.beziers[0],o=l.default.tangent(a,1),u=[o[1],-o[0]],f=i.default.toUnitVector(i.default.fromTo(r.p,t.center));return r.order=-i.default.dot(u,f),r.order}},c.makeSimpleKey=function(e){return e[0]+", "+e[1]},c.toHumanString=function(e){return e[0]+", "+e[1]+" | bz: "+e.bezierNode.item.indx+" | t: "+e.t+" | ord: "+e.order+" | ord2: "+e.order2+" | "+c.typeToStr(e.type)},r.default=c},{"../../mat-constants":18,"./circle":6,"flo-bezier3":39,"flo-memoize":46,"flo-vector2d":55}],4:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("flo-vector2d"),i=e("./circle"),u=e("../geometry"),l=function(){function e(t,r,a,o,i,u,l){n(this,e),this.circle=t,this.sinAngle1=r,this.sinAngle2=o,this.cosAngle1=a,this.cosAngle2=i,this.startpoint=u,this.endpoint=l}return a(e,null,[{key:"closestPointOnArc",value:function(t,r){if(null!==r.circle){var n=r.circle.center[0],a=r.circle.center[1],l=o.default.translate([-n,-a]),f=new e(new i.default([0,0],r.circle.radius),r.sinAngle1,r.cosAngle1,r.sinAngle2,r.cosAngle2,l(r.startpoint),l(r.endpoint)),s=l(t),c=o.default.len(s),d=-s[1]/c,v=s[0]/c;if(u.default.isAngleBetween(d,v,f.sinAngle1,f.cosAngle1,f.sinAngle2,f.cosAngle2)){var p=f.circle.radius;return{p:o.default.translate([n,a],[p*v,p*-d]),position:0}}var h=r.startpoint,m=r.endpoint;return o.default.distanceBetween(h,t)<o.default.distanceBetween(m,t)?{p:h,position:1}:{p:m,position:2}}var y=r.startpoint,g=r.endpoint,b=o.default.distanceBetween(y,t),w=o.default.distanceBetween(g,t),T=Math.sqrt(o.default.squaredDistanceBetweenPointAndLineSegment(t,[y,g]));if(b<=w&&b<=T)return{p:y,position:1};if(w<=b&&w<=T)return{p:g,position:2};var _=o.default.fromTo(y,g),O=[t[0]+_[1],t[1]+-_[0]];return{p:u.default.lineLineIntersection([t,O],[y,g]),position:0}}}]),e}();r.default=l},{"../geometry":15,"./circle":6,"flo-vector2d":55}],5:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r){n(this,e),this.bezierNode=t,this.tRange=r};r.default=a},{}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("flo-vector2d"),i=function(){function e(t,r){n(this,e),this.center=t,this.radius=r}return a(e,null,[{key:"scale",value:function(t,r){return new e(t.center,t.radius*r)}},{key:"engulfsCircle",value:function(e,t){if(e.radius<=t.radius)return!1;var r=o.default.squaredDistanceBetween(e.center,t.center),n=e.radius-t.radius;return n*n>r}},{key:"toString",value:function(e){return"c: "+e.center+" radius: "+e.radius}}]),e}();r.default=i},{"flo-vector2d":55}],7:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r){n(this,e),this.beziers=t,this.tans=r};r.default=a},{}],8:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r){n(this,e),this.indx=t,this.bezier3=r};a.reverse=function(e,t){var r=e.bezier3.slice().reverse();return new a(t,r)},r.default=a},{}],9:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../mat-constants"),i=e("flo-vector2d"),u=e("flo-memoize"),l=e("flo-bezier3"),f=e("./circle"),s=u.default.m1,c=function(){function e(t,r,a,o,i){n(this,e),this.bezierNode=t,this.t=r,this.type=a,this.order=o,this.order2=i;var u=l.default.evaluate(t.item.bezier3,r);this.p=u,this[0]=u[0],this[1]=u[1]}return a(e,null,[{key:"calcOsculatingCircle",value:function(e,t){var r=e.bezier3,n=-l.default.κ(r,t),a=void 0;a=n<=1/o.default.maxOsculatingCircleRadius?o.default.maxOsculatingCircleRadius:Math.min(1/n,o.default.maxOsculatingCircleRadius);var i=l.default.normal(r,t),u=l.default.evaluate(r,t),s=[u[0]+i[0]*a,u[1]+i[1]*a];return new f.default(s,a)}},{key:"dullCornerAt",value:function(t,r){return t.dullCornerHash[e.makeSimpleKey(r)]||null}},{key:"copy",value:function(t){return new e(t.bezierNode,t.t,t.type,t.order,t.order2)}},{key:"typeToStr",value:function(e){for(var t in o.default.pointType)if(o.default.pointType[t]===e)return t}}]),e}();c.getOsculatingCircle=s(function(e){if(e.type===o.default.pointType.sharp)return new f.default(e.p,0);if(e.type===o.default.pointType.extreme){var t=o.default.maxOsculatingCircleRadius,r=[e.p[0],e.p[1]-t];return new f.default(r,t)}return c.calcOsculatingCircle(e.bezierNode.item,e.t)}),c.compare=function(e,t){if(void 0!==e&&void 0!==t){var r=void 0;return 0!==(r=e.bezierNode.item.indx-t.bezierNode.item.indx)?r:0!==(r=e.t-t.t)?r:0!==(r=e.order-t.order)?r:r=e.order2-t.order2}},c.isPointingStraightUp=function(e){var t=c.getOsculatingCircle(e);if(!t)return!1;var r=i.default.toUnitVector(i.default.fromTo(e.p,t.center));return!(Math.abs(r[0])>1e-6||r[1]>0)},c.setPointOrder=function(e,t,r){var n=c.dullCornerAt(e,r.p);if(n){var a=n.beziers[0],o=l.default.tangent(a,1),u=[o[1],-o[0]],f=i.default.toUnitVector(i.default.fromTo(r.p,t.center));return r.order=-i.default.dot(u,f),r.order}},c.makeSimpleKey=function(e){return e[0]+", "+e[1]},c.toHumanString=function(e){return e[0]+", "+e[1]+" | bz: "+e.bezierNode.item.indx+" | t: "+e.t+" | ord: "+e.order+" | ord2: "+e.order2+" | "+c.typeToStr(e.type)},r.default=c},{"../../mat-constants":18,"./circle":6,"flo-bezier3":39,"flo-memoize":46,"flo-vector2d":55}],10:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=[],n=function(e,t){return T.default.compare(e.item,t.item)},a=0;a<t.length;a++){for(var o=t[a],i=new g.default([],n,a),u=void 0,l=0;l<o.length;l++){var f=o[l],s=new T.default(f,void 0);u=i.insert(s,u,void 0);O.default.create(_.default.getOsculatingCircle(f),[u]);u.prevOnCircle=u,u.nextOnCircle=u}r.push(i)}return r}function i(e){if(e.map(S)[0])return e.map(function(e,t){return u(e,t)});return e}function u(e,t){for(var r=[],n=e.getAsArray(),a=0,o=n.length-1;o>=0;o--){var i=y.default.reverse(n[o],a);a++,r.push(i)}return new g.default(r,void 0,t)}function l(e){return e>1?0:e<-1?Math.PI:Math.acos(e)}function f(e,t){for(var r=new g.default([],void 0,t),n=void 0,a=0;a<e.length;a++){var o=e[a];n=r.insert(o,n,void 0)}return r}function s(e){var t=[e.item.bezier3,e.next.item.bezier3],r=[m.default.tangent(t[0])(1),m.default.tangent(t[0])(0)],n=p.default.dot(r[0],r[1]),a=p.default.cross(r[0],r[1]),o=l(n);return a>=0?o:-o}function c(e){return function(t){var r=t.head,n=0;do{n+=e(r),r=r.next}while(r!==t.head);return n}}var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var v=e("../../mat-constants"),p=e("flo-vector2d"),h=e("flo-memoize"),m=e("flo-bezier3"),y=e("../../geometry/classes/path-curve"),g=e("../../linked-list/linked-loop"),b=e("../../linked-list/list-node"),w=e("../../geometry/classes/bezier-piece"),T=e("../../mat/classes/contact-point"),_=e("../../geometry/classes/point-on-shape"),O=e("../../mat/classes/mat-circle"),M=h.default.m1,I=e("../functions/get-contact-circles-at-bezier-bezier-interface"),x=e("../functions/get-bezier-osculating-circles"),P=function(){function e(t){var r=this;a(this,e),this.skip2ProngHash={},this.straightUpHash={},this.dullCornerHash={},this.holeClosers=[],"undefined"!=typeof window&&window._debug_&&(window._debug_.generated.timing.start=performance.now());var n=t.map(function(e,t){return new g.default(e,void 0,t)});this.bezierLoops=i(n),this.extremes=this.bezierLoops.map(C),this.extremes.sort(function(e,t){return e.p[1]-t.p[1]}),this.bezierLoops.sort(function(e,t){var r=C(e),n=C(t);return r.p[1]-n.p[1]});for(var u=0;u<this.bezierLoops.length;u++)this.bezierLoops[u].indx=u;this.shapeBoundingBox=N(n[0]).shapeBoundingBox;var l=e.getInterestingPointsOnShape(this);this.pointsOnShapePerLoop=l.map(function(e,t){return f(e,t)});var s=e.getPotential2Prongs(this),c=s.sharpCornersArray,d=s.for2ProngsArray;if(this.for2ProngsArray=d,e.forEachPointOnShape(this,function(e){if(e.type===v.default.pointType.sharp){if("undefined"!=typeof window&&window._debug_){var t=window._debug_;t.generated.sharpCorners.push({pos:e})}}else{if(_.default.isPointingStraightUp(e)){var n=_.default.makeSimpleKey(e.p);r.straightUpHash[n]=e}if("undefined"!=typeof window&&window._debug_&&e.type===v.default.pointType.dull){window._debug_.generated.dullCorners.push({pos:e})}}}),this.contactPointsPerLoop=o(this,c),"undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.after1Prongs=performance.now()}}return d(e,null,[{key:"forEachPointOnShape",value:function(e,t){for(var r=e.pointsOnShapePerLoop,n=0;n<r.length;n++){var a=r[n],o=a.head;do{t(o.item),o=o.next}while(o!==a.head)}}},{key:"getPotential2Prongs",value:function(e){for(var t=e.pointsOnShapePerLoop,r=[],n=[],a=0;a<t.length;a++){var o=t[a],i=[],u=[],l=o.head;do{var f=l.item;f.type===v.default.pointType.sharp?i.push(f):u.push(l),l=l.next}while(l!==o.head);r.push(i),n.push(u)}return{sharpCornersArray:r,for2ProngsArray:n}}},{key:"getInterestingPointsOnShape",value:function(t){for(var r=t.bezierLoops,n=[],a=0;a<r.length;a++){var o=r[a];n.push(e.getInterestingPointsOnLoop(t,o))}return n}},{key:"getInterestingPointsOnLoop",value:function(e,t){var r=e.dullCornerHash,a=[],o=t.head;do{var i=I.default([o.prev,o],r);a.push.apply(a,n(i));var u=x.default(o);a.push.apply(a,n(u));for(var l=1;l<2;l++){var f=new _.default(o,l/2,v.default.pointType.standard,0,0);a.push(f)}o=o.next}while(o!==t.head);var s=a[0],c=a[a.length-1];_.default.compare(s,c)>0&&(a.push(s),a.splice(0,1)),a.sort(_.default.compare);for(var d=!1,p=0;p<a.length;p++)if(a[p].type!==v.default.pointType.sharp){d=!0;break}if(!d){var h=t.head,m=new _.default(h,.4999995,v.default.pointType.standard,0,0);a.push(m)}return a}},{key:"getNeighbouringPoints",value:function(e,t){var r=t.bezierNode.loop.indx,n=e.contactPointsPerLoop[r].cptree,a=n.findBounds(new b.default(void 0,new T.default(t,void 0),void 0,void 0));return a[0]||a[1]?a[0]&&a[1]?[a[0].data,a[1].data]:[n.max(n.root),n.min(n.root)]:[void 0,void 0]}}]),e}();P.getBoundaryBeziers=function(e,t){var r=e.bezierLoops[t],n=[];return r.forEach(function(e){var t=new w.default(e,[0,1]);n.push(t)}),n},P.getTotalCurvature=c(function(e){return m.default.totalCurvature(e.item.bezier3,[0,1])+s(e)}),P.getTotalAbsoluteCurvature=c(function(e){return m.default.totalAbsoluteCurvature(e.item.bezier3,[0,1])+Math.abs(s(e))}),P.forAllBeziers=function(e,t){for(var r=t.bezierLoops,n=0;n<r.length;n++){var a=r[n],o=a.head;do{e(o.item.bezier3),o=o.next}while(o!==a.head)}},P.getBoundaryPieceBeziers=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e[0],n=e[1],a=[],o=!0;do{if(o||t){o=!1;var i=r.item.pointOnShape,u=r.next.item.pointOnShape;if(u.bezierNode===i.bezierNode&&(u.t>i.t||u.t===i.t&&u.order>i.order)){var l=r.item.pointOnShape,f=new w.default(l.bezierNode,[l.t,u.t]);a.push(f)}else{var s=r.item.pointOnShape,c=new w.default(s.bezierNode,[s.t,1]);a.push(c),function(e,t,r,n){var a=0,o=t;do{if(a++,(o=o.next)===r){var i=new w.default(o,[0,n]);e.push(i)}else{var u=new w.default(o,[0,1]);e.push(u)}}while(o!==r&&a<100);100===a&&console.log("maxed")}(a,i.bezierNode,u.bezierNode,u.t)}r=r.next}else o=!0,r=r.prevOnCircle}while(r!==n);return a};var N=M(function(e){var t=Number.POSITIVE_INFINITY,r=[[t,t],[-t,-t]],n=[[void 0,void 0],[void 0,void 0]];return e.forEach(function(e){for(var t=e.item.bezier3,a=m.default.getBoundingBox(t),o=0;o<2;o++)for(var i=0;i<2;i++){var u=a[o][i],l=0===o?1:-1;l*u<l*r[o][i]&&(r[o][i]=u,n[o][i]=e)}}),{shapeBoundingBox:r,extremeBeziers:n}}),S=function(e){var t=N(e),r=t.extremeBeziers,n=r[1][0],a=n.item.bezier3,o=m.default.getBounds(a).ts,i=o[1][0],u=m.default.tangent(a)(i);if(1!==i)return u[1]>0;var l=n.next.item.bezier3,f=m.default.tangent(l)(0);return u[1]*f[1]>0?u[1]>0:p.default.cross(u,f)>0},C=M(function(e){var t=N(e),r=t.extremeBeziers,n=r[0][1],a=m.default.getBounds(n.item.bezier3).ts,o=a[0][1];return{p:m.default.evaluate(n.item.bezier3)(o),bezierNode:n,t:o}});r.default=P},{"../../geometry/classes/bezier-piece":5,"../../geometry/classes/path-curve":8,"../../geometry/classes/point-on-shape":9,"../../linked-list/linked-loop":16,"../../linked-list/list-node":17,"../../mat-constants":18,"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23,"../functions/get-bezier-osculating-circles":12,"../functions/get-contact-circles-at-bezier-bezier-interface":14,"flo-bezier3":39,"flo-memoize":46,"flo-vector2d":55}],11:[function(e,t,r){"use strict";function n(e){var t=u(e,4),r=u(t[0],2),n=r[0],o=r[1],f=u(t[1],2),s=f[0],c=f[1],d=u(t[2],2),v=d[0],p=d[1],h=u(t[3],2),m=h[0],y=h[1],g=[],b=s-n,w=c-o,T=v-n,_=p-o,O=m-n,M=y-o,I=b,x=T-b,P=O-T,N=w,S=_-w,C=M-_;Math.abs(I-2*x+P)<l&&Math.abs(N-2*S+C);var E=O-3*T+3*b,z=M-3*_+3*w,k=E*E,A=z*z,B=k/A+1,L=Math.sqrt(B),R=1/L,F=void 0;F=0===R?1:E/(z*L);var j=b*R-w*F,D=b*F+w*R,q=T*R-_*F,H=T*F+_*R,G=O*R-M*F,V=O*F+M*R;I=j,x=q-j,P=G-q,N=D,S=H-D,C=V-H;var Y=3*(N-2*S+C),U=q-2*j;if(0===U){if(0===I)return[]}else{U<0&&(j=-j,q=-q,G=-G,I=-I,x=-x,P=-P,U=-U);var K=6*U,Q=3*Y*I/(K*K),X=3*Y*N/(K*K),W=3*(S-N)/K,Z=Q*Q-2*W*Q+X,J=2*(W-Q),$=i(Q,K,Y);if(Z>0){var ee=Math.sqrt(Z),te=-ee,re=ee;g=[[Number.NEGATIVE_INFINITY,te],[te,re],[re,Number.POSITIVE_INFINITY]].map($).map(a)}else if(Z<0){var ne=2*J*J-8*Z-3;if(ne<0)g=[[0,Math.sqrt(-3*Z)]].map($).map(a);else{var ae=Math.sqrt(5*ne),oe=(-5*J-ae)/10,ie=(-5*J+ae)/10;g=[[Number.NEGATIVE_INFINITY,oe],[oe,Math.min(0,ie)],[Math.max(0,ie),Math.sqrt(-3*Z)]].map($).map(a)}}}return g}function a(e){var t=e[0],r=e[1];if(!(t<0&&r<0||t>1&&r>1))return t<0&&(t=0),t>1&&(t=1),r<0&&(r=0),r>1&&(r=1),[t,r]}function o(e,t,r){return function(n){return t/r*(n-e)}}function i(e,t,r){return function(n){return n.map(o(e,t,r))}}var u=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var l=1e-6;r.default=n},{}],12:[function(e,t,r){"use strict";function n(e){for(var t=[],r=e.item.bezier3,n=s.default(r),o=u.default.κ(r),l=n.length,c=0;c<l;c++){var d=n[c];if(d){var v=a(r,d);if(v){var p=-o(v),h=-o(d[0]),m=-o(d[1]);if(p>h&&p>m);else if(p<=h&&p<=m)continue;var y=new f.default(e,v,i.default.pointType.standard,0,0);t.push(y)}}}return t.sort(f.default.compare),t}function a(e,t){var r=o(t,2),n=r[0],a=r[1];if(!(u.default.dκMod(e)(n)*u.default.dκMod(e)(a)>=0))return l.default.brent(u.default.dκMod(e),n,a)}var o=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../mat-constants"),u=e("flo-bezier3"),l=e("flo-poly"),f=e("../../geometry/classes/point-on-shape"),s=e("./calc-bezier-curvature-extrema");r.default=n},{"../../geometry/classes/point-on-shape":9,"../../mat-constants":18,"./calc-bezier-curvature-extrema":11,"flo-bezier3":39,"flo-poly":47}],13:[function(e,t,r){"use strict";function n(e,t,r,n){var o=a(e,t),i=Number.POSITIVE_INFINITY,u=void 0,f=!0,s=!1,d=void 0;try{for(var v,h=o[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){var y=v.value,g=l(y.bezierNode,t,y.tRange,r,n),b=void 0===g?Number.POSITIVE_INFINITY:p.default.distanceBetween(g.p,t);b<i&&(u=new m.default(y.bezierNode,g.t,c.default.pointType.standard,0,0),i=b)}}catch(e){s=!0,d=e}finally{try{!f&&h.return&&h.return()}finally{if(s)throw d}}return u}function a(e,t){if(e.length>5){var r=o(e,t);e=i(e,t,r),e=u(e,t,r)}return e}function o(e,t){var r=Number.POSITIVE_INFINITY,n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value,f=l.bezierNode.item.bezier3,s=h.default.evaluate(f),c=s(l.tRange[0]),d=s(l.tRange[1]),v=p.default.squaredDistanceBetween(t,c),m=p.default.squaredDistanceBetween(t,d),y=Math.min(v,m);y<r&&(r=y)}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r+.01}function i(e,t,r){var n=[],a=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value,s=f.bezierNode.item.bezier3,c=h.default.getBoundingBox(s);v.default.getClosestSquareDistanceToRect(c,t)<=r&&n.push(f)}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}function u(e,t,r){var n=[],a=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value,s=f.bezierNode.item.bezier3,c=h.default.getBoundingBoxTight(s);v.default.closestSquaredDistanceToRotatedRect(c,t)<=r&&n.push(f)}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}function l(e,t,r,n,a){var o=e.item.bezier3,i=s(o,4),u=s(i[0],2),l=u[0],c=u[1],v=s(i[1],2),m=v[0],y=v[1],g=s(i[2],2),b=g[0],w=g[1],T=s(i[3],2),_=T[0],O=T[1],M=s(t,2),I=M[0],x=M[1],P=l-I,N=m-I,S=b-I,C=_-I,E=c-x,z=y-x,k=w-x,A=O-x,B=P*P,L=6*P*N,R=6*P*S,F=2*P*C,j=9*N*N,D=18*N*S,q=6*N*C,H=9*S*S,G=6*S*C,V=C*C,Y=E*E,U=6*E*z,K=6*E*k,Q=2*E*A,X=9*z*z,W=18*z*k,Z=6*z*A,J=9*k*k,$=6*k*A,ee=A*A,te=6*(V-G+q-F+H-D+R+j-L+B+(ee-$+Z-Q+J-W+K+X-U+Y)),re=5*(G-2*q+3*F-2*H+3*D-4*R-4*j+5*L-6*B+($-2*Z+3*Q-2*J+3*W-4*K-4*X+5*U-6*Y)),ne=4*(q-3*F+H-3*D+6*R+6*j-10*L+15*B+(Z-3*Q+J-3*W+6*K+6*X-10*U+15*Y)),ae=3*(F+D-4*R-4*j+10*L-20*B+(Q+W-4*K-4*X+10*U-20*Y)),oe=2*(R+j-5*L+15*B+(K+X-5*U+15*Y)),ie=L-6*B+(U-6*Y),ue=[te,re,ne,ae,oe,ie];if(e===n){ue=d.default.deflate(ue,a)}var le=d.default.allRoots(ue,r[0],r[1]),fe=!0,se=!0;return(1===a&&e===n.next||e===n&&0===a)&&(fe=!1),(0===a&&e===n.prev||e===n&&1===a)&&(se=!1),0===r[0]?fe&&le.push(r[0]):1===r[0]?se&&le.push(r[0]):le.push(r[0]),0===r[1]?fe&&le.push(r[1]):1===r[1]?se&&le.push(r[1]):le.push(r[1]),f(t,le.map(function(e){return{p:h.default.evaluate(o)(e),t:e}}),function(e,t){return p.default.squaredDistanceBetween(e,t.p)})}function f(e,t,r){for(var n=void 0,a=Number.POSITIVE_INFINITY,o=0;o<t.length;o++){var i=t[o],u=r(e,i);u<a&&(n=i,a=u)}return n}var s=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var c=e("../../mat-constants"),d=e("flo-poly"),v=e("../geometry"),p=e("flo-vector2d"),h=e("flo-bezier3"),m=e("../classes/Point-on-shape");r.default=n},{"../../mat-constants":18,"../classes/Point-on-shape":3,"../geometry":15,"flo-bezier3":39,"flo-poly":47,"flo-vector2d":55}],14:[function(e,t,r){"use strict";function n(e,t){var r=[1,0],n=[0,1].map(function(t){return e[t].item.bezier3}),f=[0,1].map(function(e){return o.default.tangent(n[e],r[e])}),c=+a.default.cross(f[0],f[1]),d=-a.default.dot(f[0],f[1]);if(0===c||-1===d)return[];var v=n[0][3];if(c<-s){return[new u.default(e[0],1,i.default.pointType.sharp,0,0)]}if(c>0){t[u.default.makeSimpleKey(v)]=new l.default(n,f)}if(c<=s){return[new u.default(e[0],.9,i.default.pointType.standard,0,0)]}for(var p=[],h=[-1,d],m=0;m<2;m++){var y=new u.default(e[m],r[m],i.default.pointType.dull,h[m],0);p.push(y)}return p}Object.defineProperty(r,"__esModule",{value:!0});var a=e("flo-vector2d"),o=e("flo-bezier3"),i=e("../../mat-constants"),u=e("../../geometry/classes/point-on-shape"),l=e("../classes/corner"),f={0:0,.25:.005,1:.0167,4:.0698,15:.2588,16:.2756},s=f[.25];r.default=n},{"../../geometry/classes/point-on-shape":9,"../../mat-constants":18,"../classes/corner":7,"flo-bezier3":39,"flo-vector2d":55}],15:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){var r=h(e,2),n=h(r[0],2),a=n[0],o=n[1],i=h(r[1],2),u=i[0],l=i[1],f=h(t,2),s=h(f[0],2),c=s[0],d=s[1],v=h(f[1],2),p=v[0],m=v[1],y=u-a,g=l-o,b=p-c,w=m-d,T=b*g-w*y;if(0!==T){var _=((d-o)*y-(c-a)*g)/T;return[c+_*b,d+_*w]}}function o(e,t){for(var r=[],n=b.default.getBoundaryPieceBeziers(t),a=0;a<n.length;a++)for(var o=n[a],i=o.bezierNode.item.bezier3,u=p(e,i,o.tRange),l=0;l<u.length;l++)r.push(u[l].p);return r}function i(e,t){var r=e,a=[0,1,2,3].map(function(e){return y.default.squaredDistanceBetweenPointAndLineSegment(t,[r[e],r[(e+1)%4]])});return Math.min.apply(Math,n(a))}function u(e,t){var r=h(e,2),n=h(r[0],2),a=n[0],o=n[1],i=h(r[1],2),u=i[0],l=i[1],f=h(t,2),s=f[0],c=f[1];if(s<a){if(c<o)return y.default.squaredDistanceBetween(e[0],t);if(c>l)return y.default.squaredDistanceBetween([a,l],t);var d=a-s;return d*d}if(s>u){if(c<o)return y.default.squaredDistanceBetween([u,o],t);if(c>l)return y.default.squaredDistanceBetween(e[1],t);var v=s-u;return v*v}if(c<o){var p=o-c;return p*p}if(c>l){var m=c-l;return m*m}return 0}function l(e,t){var r=function(e){return e*(180/Math.PI)};return 0===t?e>0?90:270:t>0?r(Math.atan(e/t)):180+r(Math.atan(e/t))}function f(e){var t=y.default.mean([e[0],e[1]]),r=y.default.mean([e[1],e[2]]),n=y.default.fromTo(e[0],e[1]),o=y.default.fromTo(e[1],e[2]),i=[n[1],-n[0]],u=[o[1],-o[0]],l=[t,y.default.translate(i,t)],f=[r,y.default.translate(u,r)],s=a(l,f);if(s){var c=y.default.fromTo(s,e[0]),v=y.default.fromTo(s,e[1]),p=y.default.fromTo(s,e[2]),h=y.default.len(c),m=-c[1]/h,b=c[0]/h,T=-p[1]/h,_=p[0]/h;return d(-v[1]/h,v[0]/h,m,b,T,_)?new w.default(new g.default(s,h),m,b,T,_,e[0],e[2]):new w.default(new g.default(s,h),T,_,m,b,e[2],e[0])}}function s(e,t){return e>=0?t>=0?1:2:t>=0?4:3}function c(e,t,r,n){var a=s(e,t),o=s(r,n);return a>o||!(a<o)&&(1===a||4===a?e>=r:e<=r)}function d(e,t,r,n,a,o){var i=c(r,n,a,o),u=c(e,t,a,o),l=c(e,t,r,n);return i?l||!u:l&&!u}function v(e,t){var r=[-t[1],t[0]];return[e,[e[0]+r[0],e[1]+r[1]]]}function p(e,t,r){var n=[-e[0][0],-e[0][1]],a=[e[1][0]+n[0],e[1][1]+n[1]],o=y.default.len(a),i=-a[1]/o,u=a[0]/o,l=y.default.translateThenRotatePs(n,i,u,t);return m.default.allRoots(T.default.getY(l),0,1).map(function(e){return{p:T.default.evaluate(t)(e),t:e}})}var h=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var m=e("flo-poly"),y=e("flo-vector2d"),g=e("./classes/circle"),b=e("./classes/shape"),w=e("./classes/arc"),T=e("flo-bezier3"),_={lineLineIntersection:a,getLineBoundaryIntersectionPoints:o,closestSquaredDistanceToRotatedRect:i,getClosestSquareDistanceToRect:u,degAngleFromSinCos:l,arcFrom3Points:f,quadrant:s,isAngle1LargerOrEqual:c,isAngleBetween:d,lineThroughPointAtRightAngleTo:v,getLineBezierIntersectionPoints:p};r.default=_},{"./classes/arc":4,"./classes/circle":6,"./classes/shape":10,"flo-bezier3":39,"flo-poly":47,"flo-vector2d":55}],16:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("flo-ll-rb-tree"),i=e("./list-node"),u=function(){function e(t,r,a){n(this,e),r&&(this.cptree=new o.default(r,[],!0)),this.indx=a,this.addAllFromScratch(t||[])}return a(e,[{key:"addAllFromScratch",value:function(e){if(0!==e.length){for(var t=void 0,r=null,n=void 0,a=0;a<e.length;a++)n=new i.default(this,e[a],r,null),r&&(r.next=n),r=n,0===a&&(t=n),this.cptree&&this.cptree.insert(n);t.prev=n,n.next=t,this.head=t}}},{key:"insert",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this,a=new i.default(n,e,void 0,void 0),o=void 0,u=void 0;return n.head?(o=t,u=o.next):(o=a,u=a,n.head=a),u.prev=a,o.next=a,a.prev=o,a.next=u,a.coupledNode=r,n.cptree&&n.cptree.insert(a),a}},{key:"remove",value:function(e){var t=this,r=e.prev,n=e.next;e===t.head&&(t.head=n),r.next=n,n.prev=r,t.cptree&&t.cptree.remove(e,!1)}},{key:"getAsArray",value:function(){var e=this,t=[],r=e.head;do{t.push(r.item),r=r.next}while(r!==e.head);return t}},{key:"forEach",value:function(e){var t=this,r=t.head;do{e(r),r=r.next}while(r!==t.head)}},{key:"getByIndx",value:function(e){var t=this;return i.default.advanceNSteps(t.head,e)}}]),e}();r.default=u},{"./list-node":17,"flo-ll-rb-tree":42}],17:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(t,r,a,o){n(this,e),this.prevOnCircle=void 0,this.nextOnCircle=void 0,this.loop=t,this.item=r,this.prev=a,this.next=o}return a(e,null,[{key:"advanceNSteps",value:function(e,t){for(var r=0;r<t;r++)e=e.next;return e}}]),e}();r.default=o},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={maxOsculatingCircleRadius:800,pointType:{standard:0,sharp:1,dull:2,extreme:3}};r.default=n},{}],19:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("flo-vector2d"),i=e("../../geometry/classes/point-on-shape"),u=function(){function e(t,r){
n(this,e),this.pointOnShape=t,this.matCircle=r,this.key=i.default.toHumanString(t),this[0]=t[0],this[1]=t[1]}return a(e,null,[{key:"compare",value:function(e,t){return i.default.compare(e.pointOnShape,t.pointOnShape)}},{key:"equal",value:function(e,t){return o.default.equal(e.pointOnShape.p,t.pointOnShape.p)}}]),e}();r.default=u},{"../../geometry/classes/point-on-shape":9,"flo-vector2d":55}],20:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../../geometry/classes/point-on-shape"),o=function e(t,r,o,i){n(this,e),this.threeProng=t,this.deltas=r,this.bestIndx=o,this.candidateThreeProngs=i,this.deltasSimple=r.map(function(e){return[a.default.toHumanString(e[0].item.pointOnShape),a.default.toHumanString(e[1].item.pointOnShape)]})};r.default=o},{"../../../geometry/classes/point-on-shape":9}],21:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r,a,o,i,u,l,f,s){n(this,e),this.pos=t,this.δ=r,this.y=a,this.z=o,this.x=i,this.circle=u,this.xs=l,this.failed=f,this.holeClosing=s};r.default=a},{}],22:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r,a,o,i,u){n(this,e),this.k1=t,this.k2=r,this.cpNodeA2=a,this.cpNodeA1=o,this.cpNodeB1=i,this.cpNodeB2=u};r.default=a},{}],23:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(t,r){n(this,e),this.circle=t,this.cpNodes=r,this.visited=0}return a(e,null,[{key:"create",value:function(t,r){for(var n=new e(t,void 0),a=0;a<r.length;a++)r[a].item.matCircle=n;return n.cpNodes=r,n}}]),e}();r.default=o},{}],24:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(t,r){n(this,e),this.matCircle=t,this.branches=r}return a(e,null,[{key:"copy",value:function(t){function r(t,n,a){var o=[],i=new e(t.matCircle,o),u=!0,l=!1,f=void 0;try{for(var s,c=t.branches[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var d=s.value;d!==n?o.push(r(d,t,i)):o.push(a)}}catch(e){l=!0,f=e}finally{try{!u&&c.return&&c.return()}finally{if(l)throw f}}return i}return r(t)}}]),e}();r.default=o},{}],25:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../mat/functions/traverse"),o=function e(t){n(this,e),this.startNode=t};o.traverse=a.default,r.default=o},{"../../mat/functions/traverse":37}],26:[function(e,t,r){"use strict";function n(e,t,r,n,s){s&&(r.order2=1,n.order2=-1);var c=new o.default(n,void 0),d=u.default.getNeighbouringPoints(e,n),v=void 0===d[0]?void 0:o.default.compare(d[0].item,c),p=void 0===d[1]?void 0:o.default.compare(c,d[1].item);if("undefined"!=typeof window&&window._debug_,0!==v&&0!==p){var h=n.bezierNode.loop.indx,m=e.contactPointsPerLoop[h].insert(c,d[0]),y=new o.default(r,void 0),g=u.default.getNeighbouringPoints(e,r),b=void 0===g[0]?void 0:o.default.compare(g[0].item,y),w=void 0===g[1]?void 0:o.default.compare(y,g[1].item);if("undefined"!=typeof window&&window._debug_,0===b||0===w)return void e.contactPointsPerLoop[h].remove(m);var T=r.bezierNode.loop.indx,_=e.contactPointsPerLoop[T].insert(y,g[0]);i.default.create(t,[_,m]);if(_.prevOnCircle=m,_.nextOnCircle=m,m.prevOnCircle=_,m.nextOnCircle=_,s){var O=n,M=l.default.copy(O);M.order2=1;var I=new o.default(M,void 0),x=e.contactPointsPerLoop[h].insert(I,m),P=r,N=l.default.copy(P);N.order2=-1;var S=new o.default(N,void 0),C=e.contactPointsPerLoop[T].insert(S,_.prev);i.default.create(t,[C,x]),C.prevOnCircle=x,C.nextOnCircle=x,x.prevOnCircle=C,x.nextOnCircle=C,m.next=_,_.prev=m,C.next=x,x.prev=C,e.holeClosers.push(new f.default(T,h,_,m,C,x))}if("undefined"!=typeof window&&window._debug_){var E=window._debug_;a(_,E),a(m,E)}}}function a(e,t){var r=l.default.makeSimpleKey(e.item.pointOnShape.p),n=t.generated.cpHash,a=t.generated.cpArr;n[r]||(n[r]={cp:e,arrIndx:a.length},a.push(e));var o=n[r];o.visitedPointsArr=o.visitedPointsArr||[]}Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../mat/classes/contact-point"),i=e("../../mat/classes/mat-circle"),u=e("../../geometry/classes/shape"),l=e("../../geometry/classes/point-on-shape"),f=e("../classes/hole-closing-2-prong");r.default=n},{"../../geometry/classes/point-on-shape":9,"../../geometry/classes/shape":10,"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23,"../classes/hole-closing-2-prong":22}],27:[function(e,t,r){"use strict";function n(e,t){var r=t.circle,n=t.ps,i=t.delta3s,u=[0,1,2].map(function(e){return new o.default(n[e],void 0)});"undefined"!=typeof window&&window._debug_;for(var l=[],f=0;f<3;f++){var s=n[f],c=s.bezierNode.loop.indx;l.push(e.contactPointsPerLoop[c].insert(u[f],i[f][0]))}for(var d=a.default.create(r,l),v=[2,0,1],p=[1,2,0],h=0;h<3;h++)l[h].prevOnCircle=l[v[h]],l[h].nextOnCircle=l[p[h]];return d}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../mat/classes/mat-circle"),o=e("../../mat/classes/contact-point");r.default=n},{"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23}],28:[function(e,t,r){"use strict";function n(e,t,r,u,l){var f=void 0;do{f=o(t),"undefined"!=typeof window&&window._debug_,f.length>2&&i(e,f)}while(f.length>2);if(1===t.item.matCircle.cpNodes.length){return a(t,r?[r]:[])}if(1===f.length){return a(t,r?[r]:[])}if(2===f.length){for(var s=r?[r]:[],c=a(t,s),d=t,v=0;d.nextOnCircle!==t&&d.next!==d.nextOnCircle;){v++;var p=void 0;if(1===v)p=d.next,t.item.matCircle.visited++;else if(2===v&&(p=d,1!==d.item.matCircle.visited))break;var h=n(e,p,c,d,!1);s.push(h),d=d.nextOnCircle}return c}}function a(e,t){var r=new s.default(e.item.matCircle,t);if("undefined"!=typeof window&&window._debug_){u(e,r,window._debug_)}return r}function o(e){var t=void 0,r=e;t=[];do{t.push(r);r=r.next.prevOnCircle}while(r!==e);return t}function i(e,t){for(var r=[],n=0;n<t.length;n++){var a=t[n];r.push([a,a.next])}for(var o=0;o<r.length;o++){var i=o+1;i===r.length&&(i=0);var u=r[o][1].item,s=r[i][0].item;if(c.default.equal(u,s)){!0;break}}for(var v=l.default(e,r),p=0;p<3;p++)d.default.setPointOrder(e,v.circle,v.ps[p]);f.default(e,v)}function u(e,t,r){var n=e.item.matCircle.circle,a=d.default.makeSimpleKey(n.center),o=r.generated.nodeHash;o[a]=o[a]||{},o[a].matNode=t;var i=d.default.makeSimpleKey(e.item.pointOnShape.p),u=r.generated.cpHash,l=r.generated.cpArr;u[i]||(u[i]={cp:e,arrIndx:l.length},l.push(e));var f=u[i];f.visitedPointsArr=f.visitedPointsArr||[]}Object.defineProperty(r,"__esModule",{value:!0});var l=e("./find-3-prong"),f=e("./add-3-prong"),s=e("../../mat/classes/mat-node"),c=e("../../mat/classes/contact-point"),d=e("../../geometry/classes/point-on-shape");r.default=n},{"../../geometry/classes/point-on-shape":9,"../../mat/classes/contact-point":19,"../../mat/classes/mat-node":24,"./add-3-prong":27,"./find-3-prong":31}],29:[function(e,t,r){"use strict";function n(e){return new o.default(a.default.copy(e.startNode))}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../mat/classes/mat-node"),o=e("../classes/mat-tree");r.default=n},{"../../mat/classes/mat-node":24,"../classes/mat-tree":25}],30:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){var a=!1,v=t.bezierNode,h=t.t,y=b.default.getOsculatingCircle(t),w=y.center,T=y.radius,O=T*T,M=void 0,I=void 0,x=t.bezierNode.loop.indx;if(r){I=[];for(var P=0;P<x;P++){var N,S=g.default.getBoundaryBeziers(e,P);(N=I).push.apply(N,n(S))}}else{var C=g.default.getNeighbouringPoints(e,t);M=[C[0],C[0]],I=C[0]?g.default.getBoundaryPieceBeziers(M):g.default.getBoundaryBeziers(e,x)}var E=[],z=void 0,k=void 0,A=0;do{A++;var B=p.default.squaredDistanceBetween(w,t.p);I=u(I,w,B),z=_.default(I,w,v,h),"undefined"!=typeof window&&window._debug_&&E.push({x:w,y:t,z:z,t:h});var L=p.default.squaredDistanceBetween(w,z.p);if(1===A&&L+c>=B)return void o(e,t);if(p.default.squaredDistanceBetween(t.p,z.p)<=s){a=!0;break}var R=l(w,t.p,z.p);k=p.default.squaredDistanceBetween(w,R);var F=p.default.squaredDistanceBetween(t.p,R);F<O&&(O=F),w=R}while(k>d&&A<f);"undefined"!=typeof window&&window._debug_&&E.push({x:w,y:t,z:z,t:h}),A===f&&(a=!0);var j=new m.default(w,p.default.distanceBetween(w,z.p));if(b.default.setPointOrder(e,j,t),b.default.setPointOrder(e,j,z),"undefined"!=typeof window&&window._debug_){var D=window._debug_;i(a,t,j,t.p,z.p,M,E,r,D)}if(!a)return{circle:j,z:z}}function o(e,t){if(t.type!==v.default.pointType.dull){var r=new w.default(t,void 0),n=g.default.getNeighbouringPoints(e,t),a=void 0===n[0]?void 0:w.default.compare(n[0].item,r),o=void 0===n[1]?void 0:w.default.compare(r,n[1].item);if("undefined"!=typeof window&&window._debug_,0!==a&&0!==o){var i=t.bezierNode.loop.indx,u=e.contactPointsPerLoop[i].insert(r,n[0]);T.default.create(b.default.getOsculatingCircle(t),[u]);if(u.prevOnCircle=u,u.nextOnCircle=u,"undefined"!=typeof window&&window._debug_){window._debug_.generated.oneProngs.push({pos:t})}}}else if("undefined"!=typeof window&&window._debug_){var l=window._debug_,f=b.default.getOsculatingCircle(t);Number.isNaN(f.center[0])||l.generated.oneProngsAtDullCorner.push({pos:t})}}function i(e,t,r,n,a,o,i,u,l){var f=new O.default(t,o,n,a,r.center,r,i,e,u);l.generated.twoProngs.push(f)}function u(e,t,r){if(e.length<=5)return e;var n=[],a=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value,s=f.bezierNode.item.bezier3,c=h.default.getBoundingBox(s);y.default.getClosestSquareDistanceToRect(c,t)<=r+.1&&n.push(f)}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}function l(e,t,r){var n=Math.abs((e[1]-t[1])/(e[0]-t[0]))>1,a=void 0,o=void 0,i=void 0,u=void 0,l=void 0,f=void 0;n?(a=e[1],o=e[0],i=t[1],u=t[0],l=r[1],f=r[0]):(a=e[0],o=e[1],i=t[0],u=t[1],l=r[0],f=r[1]);var s=(o-u)/(a-i),c=u-s*i,d=i*i+u*u-l*l-f*f+2*c*(f-u),v=i-l+s*(u-f),p=d/(2*v),h=s*p+c;return n?[h,p]:[p,h]}Object.defineProperty(r,"__esModule",{value:!0});var f=50,s=1e-6,c=1e-8,d=1e-8,v=e("../../mat-constants"),p=e("flo-vector2d"),h=e("flo-bezier3"),m=e("../../geometry/classes/circle"),y=e("../../geometry/geometry"),g=e("../../geometry/classes/shape"),b=e("../../geometry/classes/Point-on-shape"),w=e("../../mat/classes/contact-point"),T=e("../../mat/classes/mat-circle"),_=e("../../geometry/functions/get-closest-boundary-point-to-point"),O=e("../classes/debug/two-prong-for-debugging");r.default=a},{"../../geometry/classes/Point-on-shape":3,"../../geometry/classes/circle":6,"../../geometry/classes/shape":10,"../../geometry/functions/get-closest-boundary-point-to-point":13,"../../geometry/geometry":15,"../../mat-constants":18,"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23,"../classes/debug/two-prong-for-debugging":21,"flo-bezier3":39,"flo-vector2d":55}],31:[function(e,t,r){"use strict";function n(e,t){for(var r=t.map(function(e){return p.default.getBoundaryPieceBeziers(e)}),n=[],o=void 0,i=void 0,u=Number.POSITIVE_INFINITY,l=1;l<t.length-1;l++){var f=a(e,t,l,r),s=f.circle,c=f.ps,d=f.error;if("undefined"!=typeof window&&window._debug_){window._debug_;n.push({circle:s,ps:c})}d<u&&(u=d,i=l-1,o={circle:s,ps:c,delta3s:void 0})}var v=[t[0],t[i+1],t[t.length-1]];if(o.delta3s=v,"undefined"!=typeof window&&window._debug_){var h=window._debug_,y=new m.default(o,t,i,n);h.generated.threeProngs.push(y)}return o}function a(e,t,r,n){for(var a=[t[0],t[r],t[t.length-1]],u=[n[0],n[r],n[t.length-1]],f=void 0,p=void 0,m=0,g=i(e,a,u),b=Number.POSITIVE_INFINITY;b>1e-7&&m<10;){m++,f=l(g,u),p=s.default.circumCenter(f.map(function(e){return e.p}));var w=y(g,p),T=o(u,g,w);g=T.newX;var _=s.default.len(w);f=T.newPs,b=Math.abs(_-T.newV)}for(var O=(s.default.distanceBetween(g,f[0].p)+s.default.distanceBetween(g,f[1].p)+s.default.distanceBetween(g,f[2].p))/3,M=new d.default(g,O),I=0,x=0;x<3;x++){var P=f[x],N=s.default.toUnitVector(s.default.fromTo(P.p,g)),S=s.default.rotate90Degrees(N),C=v.default.makeSimpleKey(P.p),E=e.dullCornerHash[C];if(E){var z=E.tans,k=z.map(s.default.rotate90Degrees);if("undefined"!=typeof window&&window._debug_){window._debug_.log}var A=s.default.cross(k[0],N),B=s.default.cross(N,k[1]),L=Math.asin(A),R=Math.asin(B),F=0;L>0&&(F+=L),R>0&&(F+=R),I+=F}else{var j=P.bezierNode.item.bezier3,D=s.default.toUnitVector(c.default.tangent(j)(P.t));I+=Math.abs(Math.asin(s.default.cross(S,D)))}}for(var q=[],H=0;H<n.length;H++){var G=h.default(n[H],g,void 0,void 0);q.push(s.default.distanceBetween(G.p,g))}var V=Math.min.apply(Math,q);return{ps:f,circle:M,error:1*Math.abs(O-V)+1*I}}function o(e,t,r){var n=s.default.len(r),a=1,o=void 0,i=void 0,u=void 0,f=void 0,c=0;do{var d=s.default.scale(r,a);i=s.default.translate(d,t),u=l(i,e);var v=s.default.circumCenter(u.map(function(e){return e.p})),p=s.default.fromTo(i,v);f=s.default.len(p),o=f<n,a/=2,c++}while(!o&&c<3);return{newX:i,newV:f,newPs:u}}function i(e,t,r){var n=s.default.mean([t[0][0].item.pointOnShape.p,t[2][1].item.pointOnShape.p]),a=h.default(r[1],n,void 0,void 0),o=[t[0][0].item.pointOnShape.p,a.p,t[2][1].item.pointOnShape.p],i=void 0;if(i=t[0][0].item.pointOnShape.type===f.default.pointType.sharp?s.default.mean([o[0],o[1]]):s.default.circumCenter(o),Number.isFinite(i[0])||"undefined"!=typeof window&&window._debug_,!Number.isFinite(i[0])){var l=u(o);return s.default.mean([o[l[0]],o[l[1]]])}return i}function u(e){return e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0,2]:e[1][0]===e[2][0]&&e[1][1]===e[2][1]?[0,2]:e[2][0]===e[0][0]&&e[2][1]===e[0][1]?[1,2]:[]}function l(e,t){return t.map(function(t){return h.default(t,e,void 0,void 0)})}Object.defineProperty(r,"__esModule",{value:!0});var f=e("../../mat-constants"),s=e("flo-vector2d"),c=e("flo-bezier3"),d=e("../../geometry/classes/circle"),v=e("../../geometry/classes/point-on-shape"),p=e("../../geometry/classes/shape"),h=e("../../geometry/functions/get-closest-boundary-point-to-point"),m=e("../classes/debug/three-prong-for-debugging"),y=s.default.fromTo;r.default=n},{"../../geometry/classes/circle":6,"../../geometry/classes/point-on-shape":9,"../../geometry/classes/shape":10,"../../geometry/functions/get-closest-boundary-point-to-point":13,"../../mat-constants":18,"../classes/debug/three-prong-for-debugging":20,"flo-bezier3":39,"flo-vector2d":55}],32:[function(e,t,r){"use strict";function n(e){if(a(e),o(e),"undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.after2Prongs=performance.now()}var t=e.contactPointsPerLoop[0],r=t.head;do{if(2===r.item.matCircle.cpNodes.length&&r.next.prevOnCircle!==r)break;r=r.next}while(r!==t.head);var n=r.prevOnCircle,i=h.default(e,n,void 0,void 0,!1),l=h.default(e,n.prevOnCircle,void 0,void 0,!1);i.branches.push(l.branches[0]),l.branches[0].branches[0]=i;var f=new s.default(i);if("undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.after3Prongs=performance.now()}return u(f)}function a(e){for(var t=e.extremes,r=1;r<t.length;r++){var n=t[r],a=f.default.maxOsculatingCircleRadius,o=[n.p[0],n.p[1]-a],i=(new c.default(o,a),new d.default(n.bezierNode,n.t,f.default.pointType.extreme,0,0)),u=p.default(e,i,!0),l=u.circle,s=u.z,h=s,m=d.default.makeSimpleKey(i.p);e.straightUpHash[m]&&(e.skip2ProngHash[m]=i),v.default(e,l,i,h,!0)}}function o(e){for(var t=e.for2ProngsArray,r=0;r<t.length;r++){i(e,r,t[r])}}function i(e,t,r){for(var n=r.length,a=l(n),o=0;o<n;o++){var i=r[a[o]],u=i.item,f=d.default.makeSimpleKey(u.p);if(!e.skip2ProngHash[f]){var s=p.default(e,u,!1);if(s){var c=s.circle,h=s.z;v.default(e,c,u,h,!1)}}}}function u(e){function t(e,r){if(3===e.branches.length&&e.branches[2].matCircle===e.matCircle){var n=e.branches[2],a=n.branches[1];e.branches[2]=a,a.branches[0]=e}var o=!0,i=!1,u=void 0;try{for(var l,f=e.branches[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var s=l.value;s!==r&&t(s,e)}}catch(e){i=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw u}}}return t(e.startNode,void 0),e}function l(e){for(var t=[],r=0;r<e;r++)t.push(r);return t}Object.defineProperty(r,"__esModule",{value:!0});var f=e("../../mat-constants"),s=e("../classes/mat-tree"),c=e("../../geometry/classes/circle"),d=e("../../geometry/classes/Point-on-shape"),v=e("./add-2-prong"),p=e("./find-2-prong"),h=e("./build-mat");r.default=n},{"../../geometry/classes/Point-on-shape":3,"../../geometry/classes/circle":6,"../../mat-constants":18,"../classes/mat-tree":25,"./add-2-prong":26,"./build-mat":28,"./find-2-prong":30}],33:[function(e,t,r){"use strict";function n(e){var t=[];return a.default(e,function(e){t.push(e)}),t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./traverse");r.default=n},{"./traverse":37}],34:[function(e,t,r){"use strict";function n(e){var t={};return o.default(e,function(e){var r=a.default.makeSimpleKey(e.matCircle.circle.center);t[r]=e}),t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../geometry/classes/point-on-shape"),o=e("./traverse");r.default=n},{"../../geometry/classes/point-on-shape":9,"./traverse":37}],35:[function(e,t,r){"use strict";function n(e){function t(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],a=0;a<t.length;a++){var o=t[a];if(n.next===o)return[n,o]}}var r=[],n=[],s=[];return f.default.traverse(e,function(e,f){function c(e,t,r){var n=e.item,a=r?e.nextOnCircle.item:e.prevOnCircle.item,i=void 0;if(n!==a){var f=l.default.fromTo(n.pointOnShape.p,a.pointOnShape.p);i=l.default.rotate90Degrees(f)}else if(n.pointOnShape.type===o.default.pointType.sharp){var s=void 0,c=void 0;0===n.pointOnShape.t?(s=n.pointOnShape.bezierNode,c=n.pointOnShape.bezierNode.prev):1===n.pointOnShape.t&&(s=n.pointOnShape.bezierNode.next,c=n.pointOnShape.bezierNode);var d=u.default.tangent(s.item.bezier3)(0),v=l.default.reverse(u.default.tangent(c.item.bezier3)(1)),p=l.default.dot(d,v),h=Math.sqrt((1+p)/2),m=Math.sqrt((1-p)/2);i=l.default.rotate(m,h,v)}else i=l.default.fromTo(n.pointOnShape.p,t);return[t,l.default.translate(l.default.toLength(i,1),t)]}if(f){var d=f.matCircle,v=d.circle.center,p=d.cpNodes,h=e.matCircle,m=h.circle.center,y=h.cpNodes,g=t(p,y),b=a(g,2),w=b[0],T=b[1],_=c(w,v,!0),O=c(T,m,!1),M=i.default.lineLineIntersection(_,O),I=void 0;if(M){var x=l.default.fromTo(v,M),P=l.default.fromTo(m,M),N=l.default.fromTo(v,m),S=l.default.dot(x,N),C=l.default.dot(P,N);I=S<0||C>0}if(M)if(I){var E=l.default.mean([v,m]),z=l.default.fromTo(v,m),k=l.default.rotate90Degrees(z),A=l.default.translate(k,E),B=[E,A],L=i.default.lineLineIntersection(_,B),R=i.default.lineLineIntersection(O,B);s.push([v,L,R,m])}else n.push([v,M,m]);else r.push([v,m])}}),{lines:r,quads:n,cubes:s}}var a=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../mat-constants"),i=e("../../geometry/geometry"),u=e("flo-bezier3"),l=e("flo-vector2d"),f=e("../classes/mat-tree");r.default=n},{"../../geometry/geometry":15,"../../mat-constants":18,"../classes/mat-tree":25,"flo-bezier3":39,"flo-vector2d":55}],36:[function(e,t,r){"use strict";function n(e,t){var r=p.default(e),n=h.default(r),a=-Number.POSITIVE_INFINITY,l=void 0;for(var s in n){var d=n[s],v=d.matCircle.circle.radius;v>a&&(l=d,a=v)}var m=o(t,n);if("undefined"!=typeof window&&window._debug_){window._debug_.generated.sat.tree=m}var g=new y.default(l),b={};u(m,i,{s:t,tree:m,cullHash:b});var w=[];if(f(b,w,g.startNode),c(w),"undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.afterSat=performance.now()}return g}function a(e,t,r,n,o,i,u){var l=o.matCircle.circle,f=d(e,r,n,l),s=f.groups,c=f.newLimits;if(1===s.length&&6!==u){var v=s[0];t[v]||(t[v]={});return void a(e,t[v],r?0:1,c,o,i,u+1)}t[5]||(t[5]=new Map),t[5].set(i,o)}function o(e,t){var r=[[0,g],[0,b]],n={};for(var o in t){a(e,n,0,r,t[o],o,0)}return n}function i(e,t,r){var n=r.s,a=r.tree,o=r.cullHash;if(0!==e.matCircle.circle.radius&&!o[t]){var i=l(n,a,e);for(var u in i)o[u]||(o[u]=e)}}function u(e,t,r){function n(e){if(e){if(e.size)return void e.forEach(function(e,n){t(e,n,r)});e[5]&&n(e[5]),e[0]&&n(e[0]),e[2]&&n(e[2]),e[4]&&n(e[4]),e[1]&&n(e[1]),e[3]&&n(e[3])}}n(e)}function l(e,t,r){function n(t){var r=t[5];r&&r.forEach(function(t,n){var a=v.default.scale(t.matCircle.circle,e);v.default.engulfsCircle(o,a)&&(i[n]=t,r.delete(n))})}function a(t,r,o,i){if(null!==o){var u=d(e,r,o,l),f=u.groups,s=u.newLimits;if(1!==f.length){n(t);for(var c=0;c<=4;c++){var v=t[c];v&&a(v,0,null,i+1)}}else{n(t);var p=f[0],h=r?0:1;if(1===p||3===p){var m=t[p];m&&a(m,h,s,i+1)}else{var y=[];y.push(t[p]),p>0&&y.push(t[p-1]),p<4&&y.push(t[p+1]);var g=!0,b=!1,w=void 0;try{for(var T,_=y[Symbol.iterator]();!(g=(T=_.next()).done);g=!0){var O=T.value;O&&a(O,h,s,i+1)}}catch(e){b=!0,w=e}finally{try{!g&&_.return&&_.return()}finally{if(b)throw w}}}}}else{n(t);for(var M=0;M<=4;M++){var I=t[M];I&&a(I,0,null,i+1)}}}var o=v.default.scale(r.matCircle.circle,e),i={},u=[[0,g],[0,b]],l=r.matCircle.circle;return a(t,0,u,0),i}function f(e,t,r,n){var a=m.default.makeSimpleKey(r.matCircle.circle.center),o=!e[a],i=!0,u=!1,l=void 0;try{for(var s,c=r.branches[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value;d!==n&&(f(e,t,d,r)&&(o=!0))}}catch(e){u=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(u)throw l}}return!!o||(t.push({satNode:r,priorNode:n}),!1)}function s(e){var t=e.satNode,r=e.priorNode,n=r.branches.indexOf(t);n>=0&&r.branches.splice(n,1)}function c(e){var t=!0,r=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){s(a.value)}}catch(e){r=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw n}}}function d(e,t,r,n){var a=r[t],o=a[0],i=a[1],u=(i-o)/4,l=u+u,f=n.radius,s=n.center[t]-o,c=s-f*e,d=s+f*e,v=[,],p=[],h=Math.floor(c/u),m=Math.floor(d/u)+1,y=m-h,g=void 0;if(1===y){g=2*Math.floor(h/2)+1,p.push(g);var b=o+u*(g-1);v=[b,b+l]}else if(2===y){g=h+1,p.push(g);var w=o+u*(g-1);v=[w,w+l]}var T=[,];if(1===p.length){var _=t?0:1;T[_]=r[_],T[t]=v}return{groups:p,newLimits:T}}Object.defineProperty(r,"__esModule",{value:!0});var v=e("../../geometry/classes/circle"),p=e("./copy-mat"),h=e("./get-nodes-as-hash"),m=e("../../geometry/classes/point-on-shape"),y=e("../classes/mat-tree"),g=1620,b=1560;r.default=n},{"../../geometry/classes/circle":6,"../../geometry/classes/point-on-shape":9,"../classes/mat-tree":25,"./copy-mat":29,"./get-nodes-as-hash":34}],37:[function(e,t,r){"use strict";function n(e,t){function r(e,n){t(e,n);for(var a=0;a<e.branches.length;a++){var o=e.branches[a];o!==n&&r(o,e)}}r(e.startNode)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],38:[function(e,t,r){"use strict";function n(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return i.default.manhattanLength(e)<t}function r(e){for(var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],1);t<e.length;t++){var r=e[t-1],n=e[t];if(i.default.manhattanDistanceBetween(r,n)>l)return!1}return!0}function n(e,t,r){var n=[[0,i.default.manhattanDistanceBetween(t[0],t[1]),i.default.manhattanDistanceBetween(t[0],t[2]),i.default.manhattanDistanceBetween(t[0],t[3])],[i.default.manhattanDistanceBetween(t[1],t[0]),0,i.default.manhattanDistanceBetween(t[1],t[2]),i.default.manhattanDistanceBetween(t[1],t[3])],[i.default.manhattanDistanceBetween(t[2],t[0]),i.default.manhattanDistanceBetween(t[2],t[1]),0,i.default.manhattanDistanceBetween(t[2],t[3])],[i.default.manhattanDistanceBetween(t[3],t[0]),i.default.manhattanDistanceBetween(t[3],t[1]),i.default.manhattanDistanceBetween(t[3],t[2]),0]],a=t;(n[0][1]<l&&n[1][2]<l||n[1][2]<l&&n[2][3]<l)&&(a=[t[0],i.default.interpolate(t[0],t[3],1/3),i.default.interpolate(t[0],t[3],2/3),t[3]]),n[0][1]<l&&(a[1]=i.default.interpolate(t[0],t[2],.1)),n[2][3]<l&&(a[2]=i.default.interpolate(t[1],t[3],.9)),n[1][2]<l&&(a[1]=i.default.interpolate(t[0],t[1],.9),a[2]=i.default.interpolate(t[2],t[3],.1)),e.push(new u.default(r,a))}var a="Invalid SVG - every new path must start with an M or m.",o=e.getElementsByTagName("path"),f=o[0],s=f.pathSegList;if(s.numberOfItems<2)return[];for(var c=!1,d=void 0,v=void 0,p=[],h=[],m=void 0,y=void 0,g=void 0,b=void 0,w=0;w<s.numberOfItems;w++){var T=s.getItem(w),_=T.pathSegTypeAsLetter,O=0,M=0;_==_.toLowerCase()&&(O=g,M=b);var I=_;_=_.toUpperCase();var x=void 0;switch(_){case"M":var P=T,N=[P.x,P.y];if(c&&"Z"!==I){var S=(N[0]+O-g)/3,C=(N[1]+M-b)/3;x=[[g,b],[g+1*S,b+1*C],[g+2*S,b+2*C],[g+3*S,b+3*C]],d=void 0,v=void 0,t([S,C])||n(h,x,m++)}h.length&&(p.push(h),h=[]),c=!0,g=N[0],b=N[1],y=[g,b],m=0;break;case"C":if(!c)throw new Error(a);var E=T,z=[E.x,E.y,E.x1,E.y1,E.x2,E.y2];x=[[g,b],[O+z[0],M+z[1]],[O+z[2],M+z[3]],[O+z[4],M+z[5]]],d=x[2],v=void 0,g=x[3][0],b=x[3][1],r(x)||n(h,x,m++);break;case"S":if(!c)throw new Error(a);var k=T,A=[k.x,k.y,k.x2,k.y2],B=void 0,L=void 0;d?(B=g-d[0]+g,L=b-d[1]+b):(B=g,L=b),x=[[g,b],[B,L],[O+A[0],M+A[1]],[O+A[2],M+A[3]]],d=x[2],v=void 0,g=x[3][0],b=x[3][1],r(x)||n(h,x,m++);break;case"L":if(!c)throw new Error(a);var R=T,F=[R.x,R.y],j=(F[0]+O-g)/3,D=(F[1]+M-b)/3;x=[[g,b],[g+1*j,b+1*D],[g+2*j,b+2*D],[g+3*j,b+3*D]],d=void 0,v=void 0,g=x[3][0],b=x[3][1],t([j,D])||n(h,x,m++);break;case"H":if(!c)throw new Error(a);var q=T,H=[q.x],G=(H[0]+O-g)/3;x=[[g,b],[g+1*G,b],[g+2*G,b],[g+3*G,b]],d=void 0,v=void 0,g=x[3][0],b=x[3][1],Math.abs(G)>l&&n(h,x,m++);break;case"V":if(!c)throw new Error(a);var V=T,Y=[V.y],U=(Y[0]+M-b)/3;x=[[g,b],[g,b+1*U],[g,b+2*U],[g,b+3*U]],d=void 0,v=void 0,g=x[3][0],b=x[3][1],Math.abs(U)>l&&n(h,x,m++);break;case"Q":if(!c)throw new Error(a);var K=T,Q=[K.x,K.y,K.x1,K.y1],X=[g,b],W=[O+Q[0],M+Q[1]],Z=[O+Q[2],M+Q[3]];x=[X,[X[0]+2/3*(W[0]-X[0]),X[1]+2/3*(W[1]-X[1])],[Z[0]+2/3*(W[0]-Z[0]),Z[1]+2/3*(W[1]-Z[1])],Z],d=void 0,v=W,g=x[3][0],b=x[3][1],r(x)||n(h,x,m++);break;case"T":if(!c)throw new Error(a);var J=T,$=[J.x,J.y],ee=void 0,te=void 0;v?(ee=g-v[0]+g,te=b-v[1]+b):(ee=g,te=b);var re=[g,b],ne=[ee,te],ae=[O+$[0],M+$[1]];x=[re,[re[0]+2/3*(ne[0]-re[0]),re[1]+2/3*(ne[1]-re[1])],[ae[0]+2/3*(ne[0]-ae[0]),ae[1]+2/3*(ne[1]-ae[1])],ae],d=void 0,v=ne,g=x[3][0],b=x[3][1],r(x)||n(h,x,m++);break;case"A":if(!c)throw new Error(a);d=void 0,v=void 0,n(h,x,m++);break;case"Z":if(!c)throw new Error(a);var oe=(y[0]+O-g)/3,ie=(y[1]+M-b)/3;x=[[g,b],[g+1*oe,b+1*ie],[g+2*oe,b+2*ie],[g+3*oe,b+3*ie]],d=void 0,v=void 0,g=x[3][0],b=x[3][1],t([oe,ie])||n(h,x,m++);break;default:throw new Error("Invalid SVG - command not recognized.")}}return h.length&&(p.push(h),h=[]),p}function a(e){var t=e.getAsArray().map(function(e){return e.item});return f.getPathStrFromBeziers(t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=t,n="",a=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var f=u.value;f===e[0]&&(n="M "+f[0][0].toFixed(r)+" "+f[0][1].toFixed(r)+"\n"),n+="C "+f[1][0].toFixed(r)+" "+f[1][1].toFixed(r)+" "+f[2][0].toFixed(r)+" "+f[2][1].toFixed(r)+" "+f[3][0].toFixed(r)+" "+f[3][1].toFixed(r)+" \n"}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return n}Object.defineProperty(r,"__esModule",{value:!0});var i=e("flo-vector2d"),u=e("../geometry/classes/path-curve"),l=1e-6,f={getBeziersFromSvgElem:n,getPathStrFromBezierLoop:a,getPathStrFromBeziers:o};r.default=f},{"../geometry/classes/path-curve":8,"flo-vector2d":55}],39:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){var t=Y(e,2),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=o[0],u=o[1],l=(i-n)/3,f=(u-a)/3;return[[n,a],[n+l,a+f],[n+2*l,a+2*f],[i,u]]}function o(e,t){function r(e){return 0===e?[o,i]:1===e?[l,f]:[s(e),c(e)]}var n=Y(e,4),a=Y(n[0],2),o=a[0],i=a[1],u=Y(n[3],2),l=u[0],f=u[1],s=m(e),c=y(e);return void 0===t?r:r(t)}function i(e,t){function r(e){var t=n(e),r=a(e),u=o(e);return(t*i(e)-r*u)/Math.sqrt(Math.pow(t*t+r*r,3))}var n=g(e),a=b(e),o=w(e),i=T(e);return void 0===t?r:r(t)}function u(e,t){function r(e){var t=n(e),r=a(e),u=o(e);return(t*i(e)-r*u)/(t*t+r*r)}var n=g(e),a=b(e),o=w(e),i=T(e);return void 0===t?r:r(t)}function l(e,t){function r(e){var t=e*e,r=1-e,n=t*p,a=t*h,u=2*e-3*t,s=(3*e-1)*r,v=r*r,m=3*(n+u*c-s*l-v*o),y=3*(a+u*d-s*f-v*i),g=6*(e*h-(3*e-1)*d+(3*e-2)*f+r*i),b=Math.sqrt(m*m+y*y);return 4*(m*(h-3*d+3*f-i)-y*(p-3*c+3*l-o))*Math.pow(b,3)-(m*g-a*y)*(2*g*y+2*a*m)*b}var n=Y(e,4),a=Y(n[0],2),o=a[0],i=a[1],u=Y(n[1],2),l=u[0],f=u[1],s=Y(n[2],2),c=s[0],d=s[1],v=Y(n[3],2),p=v[0],h=v[1];return void 0===t?r:r(t)}function f(e,t){function r(e){var t=n(e),r=a(e),o=Math.sqrt(t*t+r*r);return[t/o,r/o]}var n=g(e),a=b(e);return void 0===t?r:r(t)}function s(e,t){function r(e){var t=n(e);return[t[1],-t[0]]}var n=f(e);return void 0===t?r:r(t)}function c(e,t){function r(t){return X.default(u(e),t)}f(e);return void 0===t?r:r(t)}function d(e,t){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1];return X.default(function(t){return Math.abs(u(e)(t))},t)}return void 0===t?r:r(t)}function v(e,t){function r(t){if(e[0]===e[1])return 0;var r=Y(t,4),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2),u=i[0],l=i[1],f=Y(r[2],2),s=f[0],c=f[1],d=Y(r[3],2),v=d[0],p=d[1];if(a===u&&u===s&&s===v&&o===l&&l===c&&c===p)return 0;var m=h(t);return X.default(m,e)}return void 0===t?r:r(t)}function p(e,t){function r(e){return U.default.brent(function(t){return n(t)-e},0,1)}var n=function(t){return v([0,t],e)};return void 0===t?r:r(t)}function h(e,t){function r(e){var t=n(e),r=a(e);return Math.sqrt(t*t+r*r)}var n=g(e),a=b(e);return void 0===t?r:r(t)}function m(e,t){function r(t){return 0===t?e[0][0]:1===t?e[3][0]:a(t)}var n=te(e),a=U.default.evaluate(n);return void 0===t?r:r(t)}function y(e,t){function r(t){return 0===t?e[0][1]:1===t?e[3][1]:a(t)}var n=re(e),a=U.default.evaluate(n);return void 0===t?r:r(t)}function g(e,t){var r=ne(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function b(e,t){var r=ae(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function w(e,t){var r=oe(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function T(e,t){var r=ie(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function _(e,t){var r=ue(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function O(e,t){var r=le(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function M(e,t,r){var n=K.default.transform(e[0],function(e){return-e}),a=K.default.translateThenRotatePs(n,-t,r,e);return de(a)}function I(e){return function(t,r){if(t===r){var n=o(e,t);return[n,n,n,n]}return x(P(e,t),(r-t)/(1-t))}}function x(e,t){var r=Y(e,4),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2),u=i[0],l=i[1],f=Y(r[2],2),s=f[0],c=f[1],d=Y(r[3],2),v=d[0],p=d[1],h=1-t,m=t*t,y=m*t,g=h*h,b=g*h
;return[[a,o],[t*u+h*a,t*l+h*o],[m*s+2*h*t*u+g*a,m*c+2*h*t*l+g*o],[y*v+3*h*m*s+3*g*t*u+b*a,y*p+3*h*m*c+3*g*t*l+b*o]]}function P(e,t){var r=Y(e,4),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2),u=i[0],l=i[1],f=Y(r[2],2),s=f[0],c=f[1],d=Y(r[3],2),v=d[0],p=d[1],h=1-t,m=t*t,y=m*t,g=h*h,b=g*h;return[[y*v+3*h*m*s+3*g*t*u+b*a,y*p+3*h*m*c+3*g*t*l+b*o],[m*v+2*t*h*s+g*u,m*p+2*t*h*c+g*l],[t*v+h*s,t*p+h*c],[v,p]]}function N(e,t){var r=Y(e,4),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2),u=i[0],l=i[1],f=Y(r[2],2),s=f[0],c=f[1],d=Y(r[3],2),v=d[0],p=d[1],h=1-t,m=t*t,y=m*t,g=h*h,b=g*h,w=[[a,o],[t*u+h*a,t*l+h*o],[m*s+2*h*t*u+g*a,m*c+2*h*t*l+g*o],[y*v+3*h*m*s+3*g*t*u+b*a,y*p+3*h*m*c+3*g*t*l+b*o]];return[w,[w[3],[m*v+2*t*h*s+g*u,m*p+2*t*h*c+g*l],[t*v+h*s,t*p+h*c],[v,p]]]}function S(e,t){return e.map(function(e){return[e[0]*t,e[1]*t]})}function C(e,t){var r=Y(t,2),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2),u=i[0],l=i[1],f=u-a,s=l-o;if(0===f&&0===s)return[];e=$([-a,-o],e);var c=Math.sqrt(f*f+s*s);return e=J(-s/c,f/c,e),U.default.allRoots(re(e),0,1)}function E(e,t){return e=e.map(function(e){return[e[0],e[1]-t]}),U.default.allRoots(re(e),0,1)}function z(e,t){return e=e.map(function(e){return[e[0]-t,e[1]]}),U.default.allRoots(te(e),0,1)}function k(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=o[0],u=o[1],l=Y(t[2],2),f=l[0],s=l[1],c=Y(t[3],2),d=c[0],v=c[1];return[[.95*n+.15*i+-.15*f+.05*d,.95*a+.15*u+-.15*s+.05*v],[-.25*n+.75*i+.75*f+-.25*d,-.25*a+.75*u+.75*s+-.25*v],[.05*n+-.15*i+.15*f+.95*d,.05*a+-.15*u+.15*s+.95*v]]}function A(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=o[0],u=o[1],l=Y(t[2],2),f=l[0],s=l[1],c=Y(t[3],2),d=c[0],v=c[1];return[[n,a],[[(3*i-n)/2,(3*u-a)/2],[(3*f-d)/2,(3*s-v)/2]],[d,v]]}function B(e,t,r){var n=e[0],a=(e[1],e[2]);return F([n,L(e[1],r),a],t)}function L(e,t){var r=Y(e,2),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2);return[a*(1-t)+i[0]*t,o*(1-t)+i[1]*t]}function R(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=o[0],u=o[1],l=Y(t[2],2),f=l[0],s=l[1],c=Y(t[3],2);return[[n,a],[i,u],[f,s],[c[0],c[1]]]}function F(e,t){var r=Y(e,3),n=Y(r[0],2),a=n[0],o=n[1],i=Y(r[1],2),u=i[0],l=i[1],f=Y(r[2],2),s=f[0],c=f[1];return[a*Math.pow(1-t,2)+2*u*(1-t)*t+s*Math.pow(t,2),o*Math.pow(1-t,2)+2*l*(1-t)*t+c*Math.pow(t,2)]}function j(e){var t=Y(e,3),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=o[0],u=o[1],l=Y(t[2],2),f=l[0],s=l[1];return[[n,a],[1/3*n+2/3*i,1/3*a+2/3*u],[2/3*i+1/3*f,2/3*u+1/3*s],[f,s]]}function D(e,t){function r(e,t,r){var n=o(e)(r),a=s(e)(0),i=K.default.translate(n,a),u=C(t,[n,i]),l=void 0,f=void 0,c=Number.POSITIVE_INFINITY,d=!0,v=!1,p=void 0;try{for(var h,m=u[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var y=h.value,g=o(t)(y),b=K.default.distanceBetween(g,n);b<c&&(l=y,f=g,c=b)}}catch(e){v=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(v)throw p}}return{pp:n,t:l,p:f,d:c}}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6,a=Y(e,4),i=(a[0],a[1],a[2],a[3],Y(t,4)),u=(i[0],i[1],i[2],i[3],r(e,t,0)),l=(u.pp,u.t),f=(u.p,u.d),c=r(e,t,1),d=(c.pp,c.t),v=(c.p,c.d),p=r(t,e,0),h=(p.pp,p.t),m=(p.p,p.d),y=r(t,e,1),g=(y.pp,y.t),b=(y.p,y.d),w=0,T=1,_=0,O=1,M=0;if(f<=n&&(w=l,M++),v<=n&&(T=d,M++),m<=n&&(_=h,M++),b<=n&&(O=g,M++),!(M<2)){if(_>O){var I=[O,_];_=I[0],O=I[1]}if(w>T){var x=[T,w];w=x[0],T=x[1]}for(var P=O-_,N=1;N<10;N++){var S=_+P*(N/10),E=r(e,t,S);E.pp,E.t,E.p;if(E.d>n)return}return{p:[_,O],q:[w,T]}}}function q(e,t,r,a){function i(n,a,o,s,c){var v=0===c?1:0,p=l(a,n),h=Y(p,2);a=h[0],n=h[1];var m=n,y=Y(m,4),g=y[0],b=(y[1],y[2],y[3]),w=a,T=Y(w,4),_=(T[0],T[1],T[2],T[3],G([g,b])),O=function(e){return _(n[e])},M=[1,2].map(O),x=Y(M,2),P=x[0],N=x[1],S=P*N>0?.75:4/9,C=S*Math.min(0,P,N),E=S*Math.max(0,P,N),z=u(a,_,C,E),k=z.tMin,A=z.tMax;if(k!==Number.POSITIVE_INFINITY){if(A-k>.7){var B=s[1]-s[0],L=o[1]-o[0];if(void 0!==D(a,n))return;if(B<=L){v=c;var R=[n,a];a=R[0],n=R[1];var F=[o,s];s=F[0],o=F[1]}var j=s[1]-s[0],q=s[0],H=q+j/2,V=H,U=s[1],K=I(a)(0,.5),Q=I(a)(.5,1);return i(K,n,[q,H],o,v),void i(Q,n,[V,U],o,v)}var X=s[1]-s[0],W=k*X+s[0],Z=A*X+s[0];if(a=I(a)(k,A),Math.abs(Z-W)<r){var J=(Z+W)/2,$=0===c?[e,t]:[t,e],ee=f(J,$[0],$[1]);if(void 0===ee)return;var te=0===c?[ee,J]:[J,ee];return void d.push(te)}i(a,n,[W,Z],o,v)}}function u(e,t,r,a){var o=function(r){return t(e[r])},i=[0,1,2,3].map(o),u=Y(i,4),l=(u[0],u[1],u[2],u[3],A(e)),f=t(l[0]),s=t(l[2]),c=t(l[1][0]),d=t(l[1][1]),v=Math.min(c,d),p=Math.max(c,d),h=[f-2*v+s,-2*f+2*v,f],m=[f-2*p+s,-2*f+2*p,f],y=2*Math.max(U.default.hornerErrorBound(h,1),U.default.hornerErrorBound(m,1));r-=y,a+=y;var g=h.slice();g[2]=g[2]-r;var b=h.slice();b[2]=b[2]-a;var w=m.slice();w[2]=w[2]-r;var T=m.slice();T[2]=T[2]-a;var _=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY,M=U.default.allRoots(g,0,1),I=U.default.allRoots(b,0,1),x=U.default.allRoots(w,0,1),P=U.default.allRoots(T,0,1);return _=Math.min.apply(Math,n(M).concat(n(I),n(x),n(P))),O=Math.max.apply(Math,n(M).concat(n(I),n(x),n(P))),f>=r&&f<=a&&(_=0),s>=r&&s<=a&&(O=1),_<0&&(_=0),O>1&&(O=1),{tMin:_,tMax:O}}function l(e,t){var r=e,n=Y(r,4),a=n[0],o=n[1],i=n[2],u=n[3],l=t,f=Y(l,4),c=f[0],d=f[1],v=f[2],p=f[3],h=s(a,o)+s(o,i)+s(i,u),m=s(c,d)+s(d,v)+s(v,p),y=void 0,g=void 0;return m<h?(y=(c[0]+d[0]+v[0]+p[0])/4,g=(c[1]+d[1]+v[1]+p[1])/4):(y=(a[0]+o[0]+i[0]+u[0])/4,g=(a[1]+o[1]+i[1]+u[1])/4),e=e.map(function(e){return[e[0]-y,e[1]-g]}),t=t.map(function(e){return[e[0]-y,e[1]-g]}),[e,t]}function f(e,t,r){var a=o(t)(e),i=Y(a,2),u=i[0],l=i[1],f=E(r,l),c=z(r,u);if(f.length||c.length){var d=[].concat(n(f),n(c)),v=void 0,p=Number.POSITIVE_INFINITY,h=!0,m=!1,y=void 0;try{for(var g,b=d[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var w=g.value,T=o(r)(w),_=s(a,T);_<p&&(p=_,v=w)}}catch(e){m=!0,y=e}finally{try{!h&&b.return&&b.return()}finally{if(m)throw y}}return v}}var s=(K.default.distanceBetween,K.default.squaredDistanceBetween),c=24*Number.EPSILON;void 0===r&&(r=0),r=Math.max(r,c),void 0===a&&(a=1e-6),a=Math.max(a,1e-6);var d=[];return i(e,t,[0,1],[0,1],1),d}function H(e){var t=Y(e,2),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=o[0],u=o[1];return[a-u,i-n,n*u-i*a]}function G(e){var t=H(e),r=Y(t,3),n=r[0],a=r[1],o=r[2];return function(e){return n*e[0]+a*e[1]+o}}function V(e){return e.slice().reverse()}var Y=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var U=e("flo-poly"),K=e("flo-vector2d"),Q=e("flo-memoize"),X=e("flo-gauss-quadrature"),W=e("flo-graham-scan"),Z=K.default,J=Z.rotatePs,$=Z.translatePs,ee=Q.default.m1,te=ee(function(e){var t=Y(e,4),r=Y(t[0],1),n=r[0],a=Y(t[1],1),o=a[0],i=Y(t[2],1),u=i[0];return[Y(t[3],1)[0]-3*u+3*o-n,3*u-6*o+3*n,3*o-3*n,n]}),re=ee(function(e){var t=Y(e,4),r=Y(t[0],2),n=r[1],a=Y(t[1],2),o=a[1],i=Y(t[2],2),u=i[1];return[Y(t[3],2)[1]-3*u+3*o-n,3*u-6*o+3*n,3*o-3*n,n]}),ne=ee(function(e){return U.default.differentiate(te(e))}),ae=ee(function(e){return U.default.differentiate(re(e))}),oe=ee(function(e){return U.default.differentiate(ne(e))}),ie=ee(function(e){return U.default.differentiate(ae(e))}),ue=ee(function(e){return U.default.differentiate(oe(e))}),le=ee(function(e){return U.default.differentiate(ie(e))}),fe=ee(W.default),se=i,ce=ee(function(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],o=Y(t[1],2),i=(o[0],o[1],Y(t[2],2)),u=(i[0],i[1],Y(t[3],2)),l=u[0],f=u[1],s=Math.sqrt((l-n)*(l-n)+(f-a)*(f-a)),c=(f-a)/s,d=(l-n)/s,v=M(e,c,d),p=Y(v,2),h=Y(p[0],2),m=h[0],y=h[1],g=Y(p[1],2),b=g[0],w=g[1],T=[v[0],[b,y],v[1],[m,w]];return K.default.rotateThenTranslatePs(c,d,e[0],T)}),de=ee(function(e){return ve(e).box}),ve=ee(function(e){var t=[ne(e),ae(e)].map(function(e){return U.default.allRoots(e,0,1)});t[0].push(0,1),t[1].push(0,1);for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,i=void 0,u=void 0,l=void 0,f=void 0,s=0;s<t[0].length;s++){var c=t[0][s],d=m(e,c);d<r&&(r=d,i=c),d>n&&(n=d,l=c)}for(var v=0;v<t[1].length;v++){var p=t[1][v],h=y(e,p);h<a&&(a=h,u=p),h>o&&(o=h,f=p)}return{ts:[[i,u],[l,f]],box:[[r,a],[n,o]]}}),pe={rotate:J,getX:te,getY:re,getDx:ne,getDy:ae,getDdx:oe,getDdy:ie,getDddx:ue,getDddy:le,getBounds:ve,bezier3Intersection:q,lineIntersection:C,tsAtX:z,tsAtY:E,getBoundingHull:fe,fromLine:a,translate:$,evaluate:o,"κ":i,"dκMod":l,curvature:se,tangent:f,normal:s,totalCurvature:c,totalAbsoluteCurvature:d,len:v,getTAtLength:p,evaluateX:m,evaluateY:y,evaluateDx:g,evaluateDy:b,evaluateDdx:w,evaluateDdy:T,evaluateDddx:_,evaluateDddy:O,getBoundingBoxTight:ce,getBoundingBox:de,fromTo:I,splitAt:N,scale:S,toCubic:j,toQuadratic:k,toHybridQuadratic:A,evaluateHybridQuadratic:B,evaluateQuadratic:F,evaluateLinear:L,coincident:D,from0ToT:x,fromTTo1:P,clone:R,reverse:V};r.default=pe},{"flo-gauss-quadrature":40,"flo-graham-scan":41,"flo-memoize":46,"flo-poly":47,"flo-vector2d":55}],40:[function(e,t,r){"use strict";function n(e,t,r){r=void 0===r?16:r;for(var n=o[r],i=n.weights,u=n.abscissas,l=a(t,2),f=l[0],s=l[1],c=0,d=(s-f)/2,v=(s+f)/2,p=0;p<=r-1;p++)c+=i[p]*e(d*u[p]+v);return d*c}var a=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}};t.exports=n},{}],41:[function(e,t,r){"use strict";function n(e,t){for(var r=[],n=0;n<e.length;n++)r.push(n);r.sort(function(r,n){var a=t(e[r],e[n]);return 0!==a?a:r-n});for(var a=[],o=0;o<e.length;o++)a.push(e[r[o]]);return a}function a(e,t,r){if(t!==r){var n=e[t];e[t]=e[r],e[r]=n}}function o(e){for(var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],r=void 0,n=0;n<e.length;n++){var a=e[n][1];(a<t[1]||a===t[1]&&e[n][0]<t[0])&&(r=n,t=e[n])}return r}function i(e,t,r){t=!!t,r=void 0===r?f:r;var i=e.slice(),s=i.length,c=o(i),d=i.splice(c,1),v=u(d,1),p=v[0];i=n(i,function(e,t){var n=l.cross(l.fromTo(p,t),l.fromTo(p,e));return 0!==(n=Math.abs(n)<r?0:n)?n:(n=e[1]-t[1],n=Math.abs(n)<r?0:n,0!==n?n:e[0]-t[0])}),i.unshift(p);for(var h=1,m=2;m<s;m++){for(;function(e,n,a){var o=l.ccw(e,n,a,r);return t?o<0:o<=0}(i[h-1],i[h],i[m]);)if(h>1)h-=1;else{if(m===s-1){h-=1;break}m+=1}h+=1,a(i,h,m)}return i.slice(0,h+1)}var u=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=e("flo-vector2d"),f=1e-10;t.exports=i},{"flo-vector2d":55}],42:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e&&e.color===h.default.RED}function o(e,t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}function i(e,t){var r=e?m.default.LEFT:m.default.RIGHT,n=t[r];return t[r]=n[e],n[e]&&(n[e].parent=t),n[e]=t,t.parent=n,n.color=t.color,t.color=h.default.RED,n}function u(e){return e[m.default.LEFT]?(a(e[m.default.LEFT])||a(e[m.default.LEFT][m.default.LEFT])||(e=s(e)),e[m.default.LEFT]=u(e[m.default.LEFT]),e[m.default.LEFT]&&(e[m.default.LEFT].parent=e),d(e)):null}function l(e){return e===h.default.RED?h.default.BLACK:h.default.RED}function f(e){e.color=l(e.color),e[m.default.LEFT].color=l(e[m.default.LEFT].color),e[m.default.RIGHT].color=l(e[m.default.RIGHT].color)}function s(e){if(f(e),a(e[m.default.RIGHT][m.default.LEFT])){var t=i(m.default.RIGHT,e[m.default.RIGHT]);e[m.default.RIGHT]=t,t.parent=e,e=i(m.default.LEFT,e),f(e)}return e}function c(e){return f(e),a(e[m.default.LEFT][m.default.LEFT])&&(e=i(m.default.RIGHT,e),f(e)),e}function d(e){return a(e[m.default.RIGHT])&&(e=i(m.default.LEFT,e)),a(e[m.default.LEFT])&&a(e[m.default.LEFT][m.default.LEFT])&&(e=i(m.default.RIGHT,e)),a(e[m.default.LEFT])&&a(e[m.default.RIGHT])&&f(e),e}var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var p=e("./src/tree-node"),h=e("./src/tree-node-color"),m=e("./src/tree-node-direction"),y=function(){function e(t,r,a){n(this,e),this.getMinNode=this.getMinOrMaxNode(m.default.LEFT),this.getMaxNode=this.getMinOrMaxNode(m.default.RIGHT);var o=this;if(o.setComparator(t,a),o.replaceDups=a,o.root=null,r){var i=!0,u=!1,l=void 0;try{for(var f,s=r[Symbol.iterator]();!(i=(f=s.next()).done);i=!0){var c=f.value;o.insert(c)}}catch(e){u=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(u)throw l}}}}return v(e,[{key:"setComparator",value:function(e,t){this.compare=t?e:function(t,r){return e(t,r[0])}}},{key:"isEmpty",value:function(){return!this.root}},{key:"find",value:function(e){for(var t=this,r=this.root;r;){var n=t.compare(e,r.data);if(0===n)return r;r=r[n>0?m.default.RIGHT:m.default.LEFT]}return null}},{key:"toArrayInOrder",value:function(){function e(r){r&&(e(r[m.default.LEFT]),t.push(r),e(r[m.default.RIGHT]))}var t=[];return e(this.root),t}},{key:"insert",value:function(e){function t(e,n){if(!e)return new p.default(n,!r.replaceDups);var o=r.compare(n,e.data);if(0===o)r.replaceDups?e.data=n:e.data.push(n);else{var u=o>0?m.default.RIGHT:m.default.LEFT;e[u]=t(e[u],n),e[u].parent=e}return a(e[m.default.RIGHT])&&!a(e[m.default.LEFT])&&(e=i(m.default.LEFT,e)),a(e[m.default.LEFT])&&a(e[m.default.LEFT][m.default.LEFT])&&(e=i(m.default.RIGHT,e)),a(e[m.default.LEFT])&&a(e[m.default.RIGHT])&&f(e),e}var r=this;r.root=t(r.root,e),r.root.color=h.default.BLACK,r.root.parent=void 0}},{key:"remove",value:function(e,t){function r(e,l){var f=n.compare(l,e.data);return!n.replaceDups&&0===f&&!t&&e.data.length>1?(o(l,e.data),e):f<0&&!e[m.default.LEFT]||f>0&&!e[m.default.RIGHT]?e:f<0?(a(e[m.default.LEFT])||a(e[m.default.LEFT][m.default.LEFT])||(e=s(e)),e[m.default.LEFT]=r(e[m.default.LEFT],l),e[m.default.LEFT]&&(e[m.default.LEFT].parent=e),d(e)):a(e[m.default.LEFT])&&(e=i(m.default.RIGHT,e),f=n.compare(l,e.data),!n.replaceDups&&0===f&&!t&&e.data.length>1)?(o(l,e.data),e):0!==f||e[m.default.RIGHT]?a(e[m.default.RIGHT])||a(e[m.default.RIGHT][m.default.LEFT])||(e=c(e),f=n.compare(l,e.data),n.replaceDups||0!==f||t||!(e.data.length>1))?(0===f?(e.data=n.min(e[m.default.RIGHT]),e[m.default.RIGHT]=u(e[m.default.RIGHT])):e[m.default.RIGHT]=r(e[m.default.RIGHT],l),e[m.default.RIGHT]&&(e[m.default.RIGHT].parent=e),d(e)):(o(l,e.data),e):null}var n=this;n.root=r(n.root,e),n.root&&(n.root.color=h.default.BLACK,n.root.parent=void 0)}},{key:"findBounds",value:function(e){var t=this,r=t.root,n=[void 0,void 0];if(null===r)return n;for(;r;){var a=t.compare(e,r.data);a>=0?n[0]=r:n[1]=r,r=r[a>=0?m.default.RIGHT:m.default.LEFT]}return n}},{key:"findBoundsExcl",value:function(e){function t(n){for(;n;){var o=r.compare(e,n.data);if(0===o)return t(n[m.default.LEFT]),void t(n[m.default.RIGHT]);o>0?a[0]=n:o<0&&(a[1]=n),n=n[o>0?m.default.RIGHT:m.default.LEFT]}}var r=this,n=r.root,a=[void 0,void 0];return null===n?a:(t(n),a)}},{key:"findAllInOrder",value:function(e){function t(a){for(;a;){var o=r.compare(e,a.data);if(0===o)return t(a[m.default.LEFT]),n.push(a),void t(a[m.default.RIGHT]);a=a[o>0?m.default.RIGHT:m.default.LEFT]}}var r=this,n=[];return t(r.root),n}},{key:"getMinOrMaxNode",value:function(e){return function(t){if(t){for(;t[e];)t=t[e];return t}}}},{key:"min",value:function(e){return this.getMinNode(e).data}},{key:"max",value:function(e){return this.getMaxNode(e).data}}]),e}();r.default=y},{"./src/tree-node":45,"./src/tree-node-color":43,"./src/tree-node-direction":44}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n;!function(e){e[e.BLACK=0]="BLACK",e[e.RED=1]="RED"}(n||(n={})),r.default=n},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(n||(n={})),r.default=n},{}],45:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./tree-node-color"),o=function e(t,r){n(this,e),this.data=r?[t]:t,this.color=a.default.RED};r.default=o},{"./tree-node-color":43}],46:[function(e,t,r){"use strict";function n(e){if(!a)return e;var t=new WeakMap;return function(r){var n=t.get(r);return void 0!==n?n:(n=e(r),t.set(r,n),n)}}Object.defineProperty(r,"__esModule",{value:!0});var a="function"==typeof WeakMap,o={m1:n};r.default=o},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./src/core-operators"),a=e("./src/root-operators"),o=e("./src/root-bounds"),i=e("./src/all-roots-recursive"),u=e("./src/random"),l=e("./src/error-analysis"),f=e("./src/from-roots"),s=(n.default.multiply,Object.assign({},n.default,a.default,o.default,l.default,{random:u.default,fromRoots:f.default,allRoots:i.default}));r.default=s},{"./src/all-roots-recursive":48,"./src/core-operators":49,"./src/error-analysis":50,"./src/from-roots":51,"./src/random":52,"./src/root-bounds":53,"./src/root-operators":54}],48:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-b,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+b;e=s(e);var i=e.length-1,u=a(t,r);if(2===i)return h(e).filter(u);if(i>2){var l=void 0,f=void 0;t===-b||r===+b?(l=t===-b?g(e):t,f=r===+b?y(e):r):(l=t,f=r);var c=d(e),v=n(c,l,f).filter(u);return v[0]!==l&&v.unshift(l),v[v.length-1]!==f&&v.push(f),o(e,v)}return 1===i?[-e[1]/e[0]].filter(u):[]}function a(e,t){return function(r){return r>=e&&r<=t}}function o(e,t){for(var r=[],n=c(e),a=void 0,o=t[0],i=1;i<t.length;i++){var u=void 0,l=t[i],f=n(o),s=n(l);0===f*s?0===f?u=o:0===s&&i===t.length-1&&(u=l):f*s<0&&(u=p(n,o,l)),void 0!==u&&u!==a&&(r.push(u),a=u),o=l}return r}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./core-operators"),u=e("./root-operators"),l=e("./root-bounds"),f=i.default,s=f.clip0,c=f.evaluate,d=f.differentiate,v=(f.toCasStr,u.default),p=v.brent,h=v.quadraticRoots,m=l.default,y=(m.rootMagnitudeUpperBound_fujiwara,m.positiveRootUpperBound_LMQ),g=(m.positiveRootLowerBound_LMQ,m.negativeRootUpperBound_LMQ,m.negativeRootLowerBound_LMQ),b=Number.POSITIVE_INFINITY;r.default=n},{"./core-operators":49,"./root-bounds":53,"./root-operators":54}],49:[function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t){var r=e.length-1,n=t.length-1,a=r-n,o=0,i=0;a>0?i=-a:a<0&&(o=+a);for(var u=Math.max(r,n),l=[],f=0;f<u+1;f++){var s=e[f+o],c=t[f+i];l.push((s||0)+(c||0))}return w(l)}function o(e,t){var r=e.length-1,n=t.length-1,a=r-n,o=0,i=0;a>0?i=-a:a<0&&(o=+a);for(var u=Math.max(r,n),l=[],f=0;f<u+1;f++){var s=e[f+o],c=t[f+i];l.push((s||0)-(c||0))}return w(l)}function i(e){return f(-1,e)}function u(e){for(var t=[],r=e.length-1,n=0;n<r;n++)t.push((r-n)*e[n]);return t}function l(e,t){for(var r=e.length-1,n=t.length-1,a=r+n,o=new Array(a+1).fill(0),i=0;i<r+1;i++)for(var u=0;u<n+1;u++)o[a-(i+u)]+=e[r-i]*t[n-u];return w(o)}function f(e,t){if(0===e)return[];for(var r=t.length-1,n=[],a=0;a<r+1;a++)n.push(e*t[a]);return w(n)}function s(e){return e.length-1}function c(e,t){function r(t){for(var r=e[0],n=1;n<e.length;n++)r=e[n]+r*t;return r}return void 0===t?r:r(t)}function d(e){return e[e.length-1]}function v(e){for(var t=e.length-1,r=0,n=Math.sign(e[0]),a=1;a<t+1;a++){var o=Math.sign(e[a]);o!==n&&0!==o&&(r++,n=o)}return r}function p(e,t){for(var r=e.length-1,n=[e[0]],a=1;a<r;a++)n.push(e[a]+t*n[a-1]);return n}function h(e){return e.slice().reverse()}function m(e,t,r){for(var n=e.length-1,a=[],o=0;o<n+1;o++)a.push(new Array(n+1).fill(0));a[0][0]=1;for(var i=1;i<=n;i++){a[0][i]=r*a[0][i-1];for(var u=1;u<=i;u++)a[u][i]=r*a[u][i-1]+t*a[u-1][i-1]}for(var l=new Array(n+1).fill(0),f=0;f<=n;f++){l[n-f]=0;for(var s=f;s<=n;s++){var c=a[f][s]*e[n-s];l[n-f]+=c}}return l}function y(e){for(var t=e.length-1,r=e.slice(),n=0;n<t+1;n++)n%2&&(r[n]=-r[n]);return r}function g(e){var t=[];t.push(e),t.push(u(e));for(var r=1;t[r].length-1>0;){for(var n=function(e,t){var r=(e.length,t.length,e[1]/e[0]-t[1]/t[0]);return o(l(f(e[0]/t[0],t),[1,r]),e)}(t[r-1],t[r]);t[r].length-n.length<1;)n.shift();t.push(n),r++}return t}function b(e,t){t=void 0===t?Number.EPSILON:t;var r=T(e);if(0===r)return[];if(Math.abs(e[0])>t*r)return e;for(var n=e.slice(1);Math.abs(n[0])<t*r;)n=n.slice(1);return b(n,t)}function w(e){return 0!==e[0]?e:w(e.slice(1))}function T(e){for(var t=0,r=0;r<e.length;r++){var n=Math.abs(e[r]);n>t&&(t=n)}return t}function _(e){for(var t=e.length-1,r="",n=0;n<t+1;n++){var a=e[n].toString();r+=n===t?a:n===t-1?"x*"+a+" + ":"x^"+(t-n).toString()+"*"+a+" + "}return r}Object.defineProperty(r,"__esModule",{value:!0});var O={equal:n,add:a,subtract:o,multiplyByConst:f,negate:i,differentiate:u,multiply:l,degree:s,evaluate:c,evaluateAt0:d,signChanges:v,invert:h,changeVariables:m,reflectAboutYAxis:y,sturmChain:g,clip:b,clip0:w,deflate:p,maxCoefficient:T,toCasStr:_};r.default=O},{}],50:[function(e,t,r){"use strict";function n(e,t){for(var r=e.length-1,n=0,a=0;a<r;a++)n+=Math.abs(e[a]*Math.pow(t,r-a));return n}function a(e,t){var r=Number.EPSILON;return 2*(e.length-1)*r*n(e,t)}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./core-operators"),i=(o.default.evaluate,{hornerErrorBound:a});r.default=i},{"./core-operators":49}],51:[function(e,t,r){"use strict";function n(e){for(var t=[1],r=0;r<e.length;r++)t=o(t,[1,-e[r]]);return t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./core-operators"),o=a.default.multiply;r.default=n},{"./core-operators":49}],52:[function(e,t,r){"use strict";function n(e){return function(t,r,n,a){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=[],l=0;l<t;l++){var f=e(r,n,a,o,i),c=f.p;o=f.seed,u.push(c)}return u}}function a(e){return(134775813*e+1)%c}function o(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=[],l=0;l<e;l++){n=a(n);n=i(n,u,n/c*(r-t)+t,o)}return u=u.slice(0,e),{vs:u,seed:n}}function i(e,t,r,n){return e=a(e),t.push(r),e/c<n&&(e=i(e,t,r,n)),e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=o(e,t,r,n,a);return n=i.seed,{p:f.default(i.vs),seed:n}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s;t=void 0===t?-1:t,r=void 0===r?1:r,n=void 0===n?s:n;var a=o(e,t,r,n);return n=a.seed,{p:a.vs,seed:n}}Object.defineProperty(r,"__esModule",{value:!0});var f=e("./from-roots"),s=123456789,c=4294967296,d=n(u),v=n(l),p={flatRoots:u,flatRootsArr:d,flatCoefficients:l,flatCoefficientsArr:v};r.default=p},{"./from-roots":51}],53:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){return Math.max.apply(Math,n(e.map(function(e){return Math.abs(e)})))}function o(e){e.length;return 1+1/e[0]*a(e.slice(1))}function i(e){for(var t=e.length-1,r=e[0],n=[],a=1;a<t;a++){var o=Math.pow(Math.abs(e[a]/r),1/a);n.push(o)}return n.push(Math.pow(Math.abs(e[t]/2*r),1/t)),2*Math.max.apply(void 0,n)}function u(e){var t=e.length-1;if(t<1)return 0;e[0]<0&&(e=p(e));for(var r=[],n=0;n<t;n++)r.push(1);for(var a=0,o=0;o<=t;o++)if(!(e[o]>=0)){for(var i=Number.POSITIVE_INFINITY,u=!1,l=0;l<o;l++)if(!(e[l]<=0)){var f=r[l],s=void 0;s=f>20?Math.pow(2,f):m[f];var c=Math.pow(-e[o]/(e[l]/s),1/(o-l));r[l]++,i>c&&(i=c),u=!0}u&&a<i&&(a=i)}return a}function l(e){var t=u(v(e));return 0===t?0:1/t}function f(e){return-l(h(e))}function s(e){return-u(h(e))}Object.defineProperty(r,"__esModule",{value:!0});var c=e("./core-operators"),d=c.default,v=d.invert,p=d.negate,h=d.reflectAboutYAxis,m=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152],y={rootMagnitudeUpperBound_fujiwara:i,positiveRootUpperBound_LMQ:u,positiveRootLowerBound_LMQ:l,negativeRootUpperBound_LMQ:f,negativeRootLowerBound_LMQ:s,rootMagnitudeUpperBound_rouche:o};r.default=y},{"./core-operators":49}],54:[function(e,t,r){"use strict";function n(e){var t=u(e,3),r=t[0],n=t[1],a=t[2],o=n*n-4*r*a;if(o<0)return[];if(0===o)return[-n/(2*r)];o=Math.sqrt(o);var i=void 0,l=void 0;return n>=0?(i=(-n-o)/(2*r),l=2*a/(-n-o)):(i=2*a/(-n+o),l=(-n+o)/(2*r)),i<l?[i,l]:[l,i]}function a(e,t,r){var n=s(e),a=(c(e),n.map(function(e){return c(e)(t)})),o=n.map(function(e){return c(e)(r)});return d(a)-d(o)}function o(e,t,r){if(t===r)return t;if(r<t){var n=[r,t];t=n[0],r=n[1]}var a=e(t),o=e(r);if(0===a)return t;if(0===o)return r;if(a*o>0)throw new Error("Root not bracketed");for(;;){var i=t+(r-t)/2,u=e(i);if(0===u)return i;a*u<0?r=i:t=i;var l=2*Number.EPSILON*Math.abs(r);if(Math.abs(t-r)<=l)return r}}function i(e,t,r){if(t===r)return t;var n=e(t),a=e(r);if(n*a>0)throw new Error("Root not bracketed");var o=void 0;if(Math.abs(n)<Math.abs(a)){o=t,t=r,r=o;var i=n;n=a,a=i}o=t;for(var u=!0,l=void 0;;){var f=2*Number.EPSILON*Math.abs(r),s=e(o),c=void 0;if(n!==s&&a!==s){var d=n-s,v=n-a,p=a-s;c=((t*a*p-r*n*d)*s+o*n*v*a)/(v*d*p)}else c=r-a*((r-t)/(a-n));var h=(3*t+r)/4,m=Math.abs(r-o),y=Math.abs(c-r),g=Math.abs(o-l);!(c>h&&c<r||c<h&&c>r)||u&&(y>=m/2||m<f)||!u&&(y>=g/2||g<f)?(c=(t+r)/2,u=!0):u=!1;var b=e(c);if(l=o,o=r,n*b<0?r=c:t=c,Math.abs(n)<Math.abs(a)){var w=t;t=r,r=w}if(0===a)return r;if(0===b)return c;if(Math.abs(t-r)<=f)return r;n=e(t),a=e(r)}}var u=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var l=e("./core-operators"),f=l.default,s=f.sturmChain,c=f.evaluate,d=f.signChanges,v={quadraticRoots:n,numRootsWithin:a,brent:i,bisection:o};r.default=v},{"./core-operators":49}],55:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(){n(this,e)}return o(e,null,[{key:"dot",value:function(e,t){return e[0]*t[0]+e[1]*t[1]}},{key:"cross",value:function(e,t){return e[0]*t[1]-e[1]*t[0]}},{key:"ccw",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-10,a=(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0]);return Math.abs(a)<=n?0:a}},{key:"segSegIntersection",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,n=a(e,2),o=n[0],i=n[1],u=a(t,2),l=u[0],f=u[1],s=(i[0]-o[0])*(f[1]-l[1])-(i[1]-o[1])*(f[0]-l[0]),c=(o[1]-l[1])*(f[0]-l[0])-(o[0]-l[0])*(f[1]-l[1]),d=(o[1]-l[1])*(i[0]-o[0])-(o[0]-l[0])*(i[1]-o[1]);if(Math.abs(s)<=r)return void Math.abs(c);var v=c/s,p=d/s;return 0<=v&&v<=1&&0<=p&&p<=1?[o[0]+v*(i[0]-o[0]),o[1]+v*(i[1]-o[1])]:void 0}},{key:"doesSegSegIntersect",value:function(t,r){var n=e.ccw;return!(n(t[0],t[1],r[0])*n(t[0],t[1],r[1])>0)&&!(n(r[0],r[1],t[0])*n(r[0],r[1],t[1])>0)}},{key:"squaredDistanceBetween",value:function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}},{key:"scale",value:function(e,t){return[e[0]*t,e[1]*t]}},{key:"reverse",value:function(e){return[-e[0],-e[1]]}},{key:"toUnitVector",value:function(t){var r=1/e.len(t);return[t[0]*r,t[1]*r]}},{key:"toLength",value:function(t,r){var n=r/e.len(t);return[t[0]*n,t[1]*n]}},{key:"fromTo",value:function(e,t){return[t[0]-e[0],t[1]-e[1]]}},{key:"interpolate",value:function(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}},{key:"mean",value:function(e){var t=e[0],r=e[1];return[(t[0]+r[0])/2,(t[1]+r[1])/2]}},{key:"distanceBetween",value:function(t,r){return Math.sqrt(e.squaredDistanceBetween(t,r))}},{key:"len",value:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}},{key:"lengthSquared",value:function(e){return e[0]*e[0]+e[1]*e[1]}},{key:"manhattanDistanceBetween",value:function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])}},{key:"manhattanLength",value:function(e){return Math.abs(e[0])+Math.abs(e[1])}},{key:"distanceBetweenPointAndLine",value:function(e,t){var r=a(e,2),n=r[0],o=r[1],i=a(t,2),u=a(i[0],2),l=u[0],f=u[1],s=a(i[1],2),c=s[0],d=s[1],v=d-f,p=c-l,h=v*n-p*o+c*f-d*l,m=Math.sqrt(p*p+v*v);return Math.abs(h/m)}},{key:"squaredDistanceBetweenPointAndLineSegment",value:function(t,r){var n=e.squaredDistanceBetween,a=r[0],o=r[1],i=n(a,o);if(0==i)return n(t,a);var u=((t[0]-a[0])*(o[0]-a[0])+(t[1]-a[1])*(o[1]-a[1]))/i;return u=Math.max(0,Math.min(1,u)),n(t,[a[0]+u*(o[0]-a[0]),a[1]+u*(o[1]-a[1])])}},{key:"circumCenter",value:function(t){var r=t[0],n=t[1],a=t[2],o=e.lengthSquared,i=.5*e.det3([o(r),r[1],1],[o(n),n[1],1],[o(a),a[1],1]),u=.5*e.det3([r[0],o(r),1],[n[0],o(n),1],[a[0],o(a),1]),l=e.det3([r[0],r[1],1],[n[0],n[1],1],[a[0],a[1],1]);e.det3([r[0],r[1],o(r)],[n[0],n[1],o(n)],[a[0],a[1],o(a)]);return[i/l,u/l]}},{key:"inCenter",value:function(t){
var r=e.distanceBetween,n=t[0],a=t[1],o=t[2],i=r(a,o),u=r(n,o),l=r(n,a),f=i+u+l;return[(i*n[0]+u*a[0]+l*o[0])/f,(i*n[1]+u*a[1]+l*o[1])/f]}},{key:"centroid",value:function(e){if(3===e.length){var t=e[0],r=e[1],n=e[2];return[(t[0]+r[0]+n[0])/3,(t[1]+r[1]+n[1])/3]}for(var a=0,o=0;o<e.length;o++){var i=e[o],u=o===e.length-1?e[0]:e[o+1];a+=i[0]*u[1]-u[0]*i[1]}a/=2;for(var l=[0,0],f=0;f<e.length;f++){var s=e[f],c=f===e.length-1?e[0]:e[f+1];l[0]=l[0]+(s[0]+c[0])*(s[0]*c[1]-c[0]*s[1]),l[1]=l[1]+(s[1]+c[1])*(s[0]*c[1]-c[0]*s[1])}return[l[0]/(6*a),l[1]/(6*a)]}},{key:"det3",value:function(e,t,r){return e[0]*(t[1]*r[2]-t[2]*r[1])-e[1]*(t[0]*r[2]-t[2]*r[0])+e[2]*(t[0]*r[1]-t[1]*r[0])}},{key:"translate",value:function(e,t){function r(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?r:r(t)}},{key:"rotate",value:function(t,r,n){function a(e){return[e[0]*r-e[1]*t,e[0]*t+e[1]*r]}e.translatePs([1,2]);return void 0===n?a:a(n)}},{key:"equal",value:function(e,t){return e[0]===t[0]&&e[1]===t[1]}},{key:"reverseRotate",value:function(e,t,r){return[+r[0]*t+r[1]*e,-r[0]*e+r[1]*t]}},{key:"rotate90Degrees",value:function(e){return[-e[1],e[0]]}},{key:"rotateNeg90Degrees",value:function(e){return[e[1],-e[0]]}},{key:"transform",value:function(e,t){return[t(e[0]),t(e[1])]}},{key:"getClosestTo",value:function(t,r){for(var n=void 0,a=Number.POSITIVE_INFINITY,o=0;o<r.length;o++){var i=r[o],u=e.squaredDistanceBetween(t,i);u<a&&(n=i,a=u)}return n}},{key:"translateThenRotatePs",value:function(t,r,n,a){var o=e.translate(t);return a.map(function(t){return e.rotate(r,n,o(t))})}},{key:"rotateThenTranslatePs",value:function(t,r,n,a){return a.map(function(a){return e.translate(n,e.rotate(t,r,a))})}}]),e}();i.translatePs=function(e){function t(t,r){var n=e(t),a=function(e){return e.map(n)};return void 0===r?a:a(r)}return t}(i.translate),i.rotatePs=function(e){function t(t,r,n){var a=e(t,r),o=function(e){return e.map(a)};return void 0===n?o:o(n)}return t}(i.rotate),r.default=i},{}]},{},[1])(1)});
//# sourceMappingURL=index.min.js.map

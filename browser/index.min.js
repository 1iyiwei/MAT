!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.FloMat=e()}}(function(){var e;return function e(t,r,n){function a(o,u){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!u&&l)return l(o,!0);if(i)return i(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){var r=t[o][1][e];return a(r||e)},f,f.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,r){"use strict";t.exports=e("./index").default},{"./index":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./lib/mat/functions/smoothen");r.smoothen=n.default;var a=e("./lib/mat/functions/find-mat");r.findMat=a.default;var i=e("./lib/mat/functions/to-scale-axis");r.toScaleAxis=i.default;var o=e("./lib/mat/functions/get-nodes-as-array");r.getNodesAsArray=o.default;var u=e("./lib/mat/classes/mat-tree");r.MatTree=u.default;var l=e("./lib/geometry/classes/point-on-shape");r.PointOnShape=l.default;var s=e("./lib/linked-list/linked-loop");r.LinkedLoop=s.default;var f=e("./lib/linked-list/list-node");r.ListNode=f.default;var c=e("./lib/mat/classes/mat-node");r.MatNode=c.default;var d=e("./lib/geometry/classes/path-curve");r.PathCurve=d.default;var v=e("./lib/geometry/classes/shape");r.Shape=v.default;var h=e("./lib/geometry/classes/circle");r.Circle=h.default;var p=e("./lib/mat/classes/contact-point");r.ContactPoint=p.default;var m=e("./lib/geometry/classes/bezier-piece");r.BezierPiece=m.default;var y=e("./lib/svg/svg");r.Svg=y.default;var g={findMat:a.default,toScaleAxis:i.default,smoothen:n.default,getNodesAsArray:o.default,MatTree:u.default,PointOnShape:l.default,LinkedLoop:s.default,ListNode:f.default,MatNode:c.default,PathCurve:d.default,Shape:v.default,Circle:h.default,ContactPoint:p.default,BezierPiece:m.default,Svg:y.default};r.default=g},{"./lib/geometry/classes/bezier-piece":5,"./lib/geometry/classes/circle":6,"./lib/geometry/classes/path-curve":8,"./lib/geometry/classes/point-on-shape":9,"./lib/geometry/classes/shape":10,"./lib/linked-list/linked-loop":16,"./lib/linked-list/list-node":17,"./lib/mat/classes/contact-point":19,"./lib/mat/classes/mat-node":24,"./lib/mat/classes/mat-tree":25,"./lib/mat/functions/find-mat":32,"./lib/mat/functions/get-nodes-as-array":33,"./lib/mat/functions/smoothen":35,"./lib/mat/functions/to-scale-axis":36,"./lib/svg/svg":39}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../mat-constants"),o=e("flo-vector2d"),u=e("flo-memoize"),l=e("flo-bezier3"),s=e("./circle"),f=u.default.m1,c=function(){function e(t,r,a,i,o){n(this,e),this.bezierNode=t,this.t=r,this.type=a,this.order=i,this.order2=o;var u=l.default.evaluate(t.item.bezier3,r);this.p=u,this[0]=u[0],this[1]=u[1]}return a(e,null,[{key:"calcOsculatingCircle",value:function(e,t){var r=e.bezier3,n=-l.default.κ(r,t),a=void 0;a=n<=1/i.default.maxOsculatingCircleRadius?i.default.maxOsculatingCircleRadius:Math.min(1/n,i.default.maxOsculatingCircleRadius);var o=l.default.normal(r,t),u=l.default.evaluate(r,t),f=[u[0]+o[0]*a,u[1]+o[1]*a];return new s.default(f,a)}},{key:"dullCornerAt",value:function(t,r){return t.dullCornerHash[e.makeSimpleKey(r)]||null}},{key:"copy",value:function(t){return new e(t.bezierNode,t.t,t.type,t.order,t.order2)}},{key:"typeToStr",value:function(e){for(var t in i.default.pointType)if(i.default.pointType[t]===e)return t}}]),e}();c.getOsculatingCircle=f(function(e){if(e.type===i.default.pointType.sharp)return new s.default(e.p,0);if(e.type===i.default.pointType.extreme){var t=i.default.maxOsculatingCircleRadius,r=[e.p[0],e.p[1]-t];return new s.default(r,t)}return c.calcOsculatingCircle(e.bezierNode.item,e.t)}),c.compare=function(e,t){if(void 0!==e&&void 0!==t){var r=void 0;return 0!==(r=e.bezierNode.item.indx-t.bezierNode.item.indx)?r:0!==(r=e.t-t.t)?r:0!==(r=e.order-t.order)?r:r=e.order2-t.order2}},c.isPointingStraightUp=function(e){var t=c.getOsculatingCircle(e);if(!t)return!1;var r=o.default.toUnitVector(o.default.fromTo(e.p,t.center));return!(Math.abs(r[0])>1e-6||r[1]>0)},c.setPointOrder=function(e,t,r){var n=c.dullCornerAt(e,r.p);if(n){var a=n.beziers[0],i=l.default.tangent(a,1),u=[i[1],-i[0]],s=o.default.toUnitVector(o.default.fromTo(r.p,t.center));return r.order=-o.default.dot(u,s),r.order}},c.makeSimpleKey=function(e){return e[0]+", "+e[1]},c.toHumanString=function(e){return e[0]+", "+e[1]+" | bz: "+e.bezierNode.item.indx+" | t: "+e.t+" | ord: "+e.order+" | ord2: "+e.order2+" | "+c.typeToStr(e.type)},r.default=c},{"../../mat-constants":18,"./circle":6,"flo-bezier3":40,"flo-memoize":47,"flo-vector2d":56}],4:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("flo-vector2d"),o=e("./circle"),u=e("../geometry"),l=function(){function e(t,r,a,i,o,u,l){n(this,e),this.circle=t,this.sinAngle1=r,this.sinAngle2=i,this.cosAngle1=a,this.cosAngle2=o,this.startpoint=u,this.endpoint=l}return a(e,null,[{key:"closestPointOnArc",value:function(t,r){if(null!==r.circle){var n=r.circle.center[0],a=r.circle.center[1],l=i.default.translate([-n,-a]),s=new e(new o.default([0,0],r.circle.radius),r.sinAngle1,r.cosAngle1,r.sinAngle2,r.cosAngle2,l(r.startpoint),l(r.endpoint)),f=l(t),c=i.default.len(f),d=-f[1]/c,v=f[0]/c;if(u.default.isAngleBetween(d,v,s.sinAngle1,s.cosAngle1,s.sinAngle2,s.cosAngle2)){var h=s.circle.radius;return{p:i.default.translate([n,a],[h*v,h*-d]),position:0}}var p=r.startpoint,m=r.endpoint;return i.default.distanceBetween(p,t)<i.default.distanceBetween(m,t)?{p:p,position:1}:{p:m,position:2}}var y=r.startpoint,g=r.endpoint,b=i.default.distanceBetween(y,t),w=i.default.distanceBetween(g,t),_=Math.sqrt(i.default.squaredDistanceBetweenPointAndLineSegment(t,[y,g]));if(b<=w&&b<=_)return{p:y,position:1};if(w<=b&&w<=_)return{p:g,position:2};var I=i.default.fromTo(y,g),x=[t[0]+I[1],t[1]+-I[0]];return{p:u.default.lineLineIntersection([t,x],[y,g]),position:0}}}]),e}();r.default=l},{"../geometry":15,"./circle":6,"flo-vector2d":56}],5:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r){n(this,e),this.bezierNode=t,this.tRange=r};r.default=a},{}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("flo-vector2d"),o=function(){function e(t,r){n(this,e),this.center=t,this.radius=r}return a(e,null,[{key:"scale",value:function(t,r){return new e(t.center,t.radius*r)}},{key:"engulfsCircle",value:function(e,t){if(e.radius<=t.radius)return!1;var r=i.default.squaredDistanceBetween(e.center,t.center),n=e.radius-t.radius;return n*n>r}},{key:"toString",value:function(e){return"c: "+e.center+" radius: "+e.radius}}]),e}();r.default=o},{"flo-vector2d":56}],7:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r){n(this,e),this.beziers=t,this.tans=r};r.default=a},{}],8:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r){n(this,e),this.indx=t,this.bezier3=r};a.reverse=function(e,t){var r=e.bezier3.slice().reverse();return new a(t,r)},r.default=a},{}],9:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../mat-constants"),o=e("flo-vector2d"),u=e("flo-memoize"),l=e("flo-bezier3"),s=e("./circle"),f=u.default.m1,c=function(){function e(t,r,a,i,o){n(this,e),this.bezierNode=t,this.t=r,this.type=a,this.order=i,this.order2=o;var u=l.default.evaluate(t.item.bezier3,r);this.p=u,this[0]=u[0],this[1]=u[1]}return a(e,null,[{key:"calcOsculatingCircle",value:function(e,t){var r=e.bezier3,n=-l.default.κ(r,t),a=void 0;a=n<=1/i.default.maxOsculatingCircleRadius?i.default.maxOsculatingCircleRadius:Math.min(1/n,i.default.maxOsculatingCircleRadius);var o=l.default.normal(r,t),u=l.default.evaluate(r,t),f=[u[0]+o[0]*a,u[1]+o[1]*a];return new s.default(f,a)}},{key:"dullCornerAt",value:function(t,r){return t.dullCornerHash[e.makeSimpleKey(r)]||null}},{key:"copy",value:function(t){return new e(t.bezierNode,t.t,t.type,t.order,t.order2)}},{key:"typeToStr",value:function(e){for(var t in i.default.pointType)if(i.default.pointType[t]===e)return t}}]),e}();c.getOsculatingCircle=f(function(e){if(e.type===i.default.pointType.sharp)return new s.default(e.p,0);if(e.type===i.default.pointType.extreme){var t=i.default.maxOsculatingCircleRadius,r=[e.p[0],e.p[1]-t];return new s.default(r,t)}return c.calcOsculatingCircle(e.bezierNode.item,e.t)}),c.compare=function(e,t){if(void 0!==e&&void 0!==t){var r=void 0;return 0!==(r=e.bezierNode.item.indx-t.bezierNode.item.indx)?r:0!==(r=e.t-t.t)?r:0!==(r=e.order-t.order)?r:r=e.order2-t.order2}},c.isPointingStraightUp=function(e){var t=c.getOsculatingCircle(e);if(!t)return!1;var r=o.default.toUnitVector(o.default.fromTo(e.p,t.center));return!(Math.abs(r[0])>1e-6||r[1]>0)},c.setPointOrder=function(e,t,r){var n=c.dullCornerAt(e,r.p);if(n){var a=n.beziers[0],i=l.default.tangent(a,1),u=[i[1],-i[0]],s=o.default.toUnitVector(o.default.fromTo(r.p,t.center));return r.order=-o.default.dot(u,s),r.order}},c.makeSimpleKey=function(e){return e[0]+", "+e[1]},c.toHumanString=function(e){return e[0]+", "+e[1]+" | bz: "+e.bezierNode.item.indx+" | t: "+e.t+" | ord: "+e.order+" | ord2: "+e.order2+" | "+c.typeToStr(e.type)},r.default=c},{"../../mat-constants":18,"./circle":6,"flo-bezier3":40,"flo-memoize":47,"flo-vector2d":56}],10:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=[],n=function(e,t){return _.default.compare(e.item,t.item)},a=0;a<t.length;a++){for(var i=t[a],o=new g.default([],n,a),u=void 0,l=0;l<i.length;l++){var s=i[l],f=new _.default(s,void 0);u=o.insert(f,u,void 0);x.default.create(I.default.getOsculatingCircle(s),[u]);u.prevOnCircle=u,u.nextOnCircle=u}r.push(o)}return r}function o(e){if(e.map(S)[0])return e.map(function(e,t){return u(e,t)});return e}function u(e,t){for(var r=[],n=e.getAsArray(),a=0,i=n.length-1;i>=0;i--){var o=y.default.reverse(n[i],a);a++,r.push(o)}return new g.default(r,void 0,t)}function l(e){return e>1?0:e<-1?Math.PI:Math.acos(e)}function s(e,t){for(var r=new g.default([],void 0,t),n=void 0,a=0;a<e.length;a++){var i=e[a];n=r.insert(i,n,void 0)}return r}function f(e){var t=[e.item.bezier3,e.next.item.bezier3],r=[m.default.tangent(t[0])(1),m.default.tangent(t[0])(0)],n=h.default.dot(r[0],r[1]),a=h.default.cross(r[0],r[1]),i=l(n);return a>=0?i:-i}function c(e){return function(t){var r=t.head,n=0;do{n+=e(r),r=r.next}while(r!==t.head);return n}}var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var v=e("../../mat-constants"),h=e("flo-vector2d"),p=e("flo-memoize"),m=e("flo-bezier3"),y=e("../../geometry/classes/path-curve"),g=e("../../linked-list/linked-loop"),b=e("../../linked-list/list-node"),w=e("../../geometry/classes/bezier-piece"),_=e("../../mat/classes/contact-point"),I=e("../../geometry/classes/point-on-shape"),x=e("../../mat/classes/mat-circle"),T=p.default.m1,M=e("../functions/get-contact-circles-at-bezier-bezier-interface"),P=e("../functions/get-bezier-osculating-circles"),O=function(){function e(t){var r=this;a(this,e),this.skip2ProngHash={},this.straightUpHash={},this.dullCornerHash={},this.holeClosers=[],"undefined"!=typeof window&&window._debug_&&(window._debug_.generated.timing.start=performance.now());var n=t.map(function(e,t){return new g.default(e,void 0,t)});this.bezierLoops=o(n),this.extremes=this.bezierLoops.map(C),this.extremes.sort(function(e,t){return e.p[1]-t.p[1]}),this.bezierLoops.sort(function(e,t){var r=C(e),n=C(t);return r.p[1]-n.p[1]});for(var u=0;u<this.bezierLoops.length;u++)this.bezierLoops[u].indx=u;this.shapeBoundingBox=N(n[0]).shapeBoundingBox;var l=e.getInterestingPointsOnShape(this);this.pointsOnShapePerLoop=l.map(function(e,t){return s(e,t)});var f=e.getPotential2Prongs(this),c=f.sharpCornersArray,d=f.for2ProngsArray;if(this.for2ProngsArray=d,e.forEachPointOnShape(this,function(e){if(e.type===v.default.pointType.sharp){if("undefined"!=typeof window&&window._debug_){var t=window._debug_;t.generated.sharpCorners.push({pos:e})}}else{if(I.default.isPointingStraightUp(e)){var n=I.default.makeSimpleKey(e.p);r.straightUpHash[n]=e}if("undefined"!=typeof window&&window._debug_&&e.type===v.default.pointType.dull){window._debug_.generated.dullCorners.push({pos:e})}}}),this.contactPointsPerLoop=i(this,c),"undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.after1Prongs=performance.now()}}return d(e,null,[{key:"forEachPointOnShape",value:function(e,t){for(var r=e.pointsOnShapePerLoop,n=0;n<r.length;n++){var a=r[n],i=a.head;do{t(i.item),i=i.next}while(i!==a.head)}}},{key:"getPotential2Prongs",value:function(e){for(var t=e.pointsOnShapePerLoop,r=[],n=[],a=0;a<t.length;a++){var i=t[a],o=[],u=[],l=i.head;do{var s=l.item;s.type===v.default.pointType.sharp?o.push(s):u.push(l),l=l.next}while(l!==i.head);r.push(o),n.push(u)}return{sharpCornersArray:r,for2ProngsArray:n}}},{key:"getInterestingPointsOnShape",value:function(t){for(var r=t.bezierLoops,n=[],a=0;a<r.length;a++){var i=r[a];n.push(e.getInterestingPointsOnLoop(t,i))}return n}},{key:"getInterestingPointsOnLoop",value:function(e,t){var r=e.dullCornerHash,a=[],i=t.head;do{var o=M.default([i.prev,i],r);a.push.apply(a,n(o));var u=P.default(i);a.push.apply(a,n(u));for(var l=1;l<2;l++){var s=new I.default(i,l/2,v.default.pointType.standard,0,0);a.push(s)}i=i.next}while(i!==t.head);var f=a[0],c=a[a.length-1];I.default.compare(f,c)>0&&(a.push(f),a.splice(0,1)),a.sort(I.default.compare);for(var d=!1,h=0;h<a.length;h++)if(a[h].type!==v.default.pointType.sharp){d=!0;break}if(!d){var p=t.head,m=new I.default(p,.4999995,v.default.pointType.standard,0,0);a.push(m)}return a}},{key:"getNeighbouringPoints",value:function(e,t){var r=t.bezierNode.loop.indx,n=e.contactPointsPerLoop[r].cptree,a=n.findBounds(new b.default(void 0,new _.default(t,void 0),void 0,void 0));return a[0]||a[1]?a[0]&&a[1]?[a[0].data,a[1].data]:[n.max(n.root),n.min(n.root)]:[void 0,void 0]}}]),e}();O.getBoundaryBeziers=function(e,t){var r=e.bezierLoops[t],n=[];return r.forEach(function(e){var t=new w.default(e,[0,1]);n.push(t)}),n},O.getTotalCurvature=c(function(e){return m.default.totalCurvature(e.item.bezier3,[0,1])+f(e)}),O.getTotalAbsoluteCurvature=c(function(e){return m.default.totalAbsoluteCurvature(e.item.bezier3,[0,1])+Math.abs(f(e))}),O.forAllBeziers=function(e,t){for(var r=t.bezierLoops,n=0;n<r.length;n++){var a=r[n],i=a.head;do{e(i.item.bezier3),i=i.next}while(i!==a.head)}},O.getBoundaryPieceBeziers=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e[0],n=e[1],a=[],i=!0;do{if(i||t){i=!1;var o=r.item.pointOnShape,u=r.next.item.pointOnShape;if(u.bezierNode===o.bezierNode&&(u.t>o.t||u.t===o.t&&u.order>o.order)){var l=r.item.pointOnShape,s=new w.default(l.bezierNode,[l.t,u.t]);a.push(s)}else{var f=r.item.pointOnShape,c=new w.default(f.bezierNode,[f.t,1]);a.push(c),function(e,t,r,n){var a=0,i=t;do{if(a++,(i=i.next)===r){var o=new w.default(i,[0,n]);e.push(o)}else{var u=new w.default(i,[0,1]);e.push(u)}}while(i!==r&&a<100);100===a&&console.log("maxed")}(a,o.bezierNode,u.bezierNode,u.t)}r=r.next}else i=!0,r=r.prevOnCircle}while(r!==n);return a};var N=T(function(e){var t=Number.POSITIVE_INFINITY,r=[[t,t],[-t,-t]],n=[[void 0,void 0],[void 0,void 0]];return e.forEach(function(e){for(var t=e.item.bezier3,a=m.default.getBoundingBox(t),i=0;i<2;i++)for(var o=0;o<2;o++){var u=a[i][o],l=0===i?1:-1;l*u<l*r[i][o]&&(r[i][o]=u,n[i][o]=e)}}),{shapeBoundingBox:r,extremeBeziers:n}}),S=function(e){var t=N(e),r=t.extremeBeziers,n=r[1][0],a=n.item.bezier3,i=m.default.getBounds(a).ts,o=i[1][0],u=m.default.tangent(a)(o);if(1!==o)return u[1]>0;var l=n.next.item.bezier3,s=m.default.tangent(l)(0);return u[1]*s[1]>0?u[1]>0:h.default.cross(u,s)>0},C=T(function(e){var t=N(e),r=t.extremeBeziers,n=r[0][1],a=m.default.getBounds(n.item.bezier3).ts,i=a[0][1];return{p:m.default.evaluate(n.item.bezier3)(i),bezierNode:n,t:i}});r.default=O},{"../../geometry/classes/bezier-piece":5,"../../geometry/classes/path-curve":8,"../../geometry/classes/point-on-shape":9,"../../linked-list/linked-loop":16,"../../linked-list/list-node":17,"../../mat-constants":18,"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23,"../functions/get-bezier-osculating-circles":12,"../functions/get-contact-circles-at-bezier-bezier-interface":14,"flo-bezier3":40,"flo-memoize":47,"flo-vector2d":56}],11:[function(e,t,r){"use strict";function n(e){var t=u(e,4),r=u(t[0],2),n=r[0],i=r[1],s=u(t[1],2),f=s[0],c=s[1],d=u(t[2],2),v=d[0],h=d[1],p=u(t[3],2),m=p[0],y=p[1],g=[],b=f-n,w=c-i,_=v-n,I=h-i,x=m-n,T=y-i,M=b,P=_-b,O=x-_,N=w,S=I-w,C=T-I;Math.abs(M-2*P+O)<l&&Math.abs(N-2*S+C);var E=x-3*_+3*b,k=T-3*I+3*w,A=E*E,z=k*k,L=A/z+1,B=Math.sqrt(L),F=1/B,R=void 0;R=0===F?1:E/(k*B);var D=b*F-w*R,j=b*R+w*F,q=_*F-I*R,H=_*R+I*F,V=x*F-T*R,G=x*R+T*F;M=D,P=q-D,O=V-q,N=j,S=H-j,C=G-H;var Y=3*(N-2*S+C),U=q-2*D;if(0===U){if(0===M)return[]}else{U<0&&(D=-D,q=-q,V=-V,M=-M,P=-P,O=-O,U=-U);var Q=6*U,K=3*Y*M/(Q*Q),Z=3*Y*N/(Q*Q),X=3*(S-N)/Q,W=K*K-2*X*K+Z,J=2*(X-K),$=o(K,Q,Y);if(W>0){var ee=Math.sqrt(W),te=-ee,re=ee;g=[[Number.NEGATIVE_INFINITY,te],[te,re],[re,Number.POSITIVE_INFINITY]].map($).map(a)}else if(W<0){var ne=2*J*J-8*W-3;if(ne<0)g=[[0,Math.sqrt(-3*W)]].map($).map(a);else{var ae=Math.sqrt(5*ne),ie=(-5*J-ae)/10,oe=(-5*J+ae)/10;g=[[Number.NEGATIVE_INFINITY,ie],[ie,Math.min(0,oe)],[Math.max(0,oe),Math.sqrt(-3*W)]].map($).map(a)}}}return g}function a(e){var t=e[0],r=e[1];if(!(t<0&&r<0||t>1&&r>1))return t<0&&(t=0),t>1&&(t=1),r<0&&(r=0),r>1&&(r=1),[t,r]}function i(e,t,r){return function(n){return t/r*(n-e)}}function o(e,t,r){return function(n){return n.map(i(e,t,r))}}var u=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var l=1e-6;r.default=n},{}],12:[function(e,t,r){"use strict";function n(e){for(var t=[],r=e.item.bezier3,n=f.default(r),i=u.default.κ(r),l=n.length,c=0;c<l;c++){var d=n[c];if(d){var v=a(r,d);if(v){var h=-i(v),p=-i(d[0]),m=-i(d[1]);if(h>p&&h>m);else if(h<=p&&h<=m)continue;var y=new s.default(e,v,o.default.pointType.standard,0,0);t.push(y)}}}return t.sort(s.default.compare),t}function a(e,t){var r=i(t,2),n=r[0],a=r[1];if(!(u.default.dκMod(e)(n)*u.default.dκMod(e)(a)>=0))return l.default.brent(u.default.dκMod(e),n,a)}var i=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../mat-constants"),u=e("flo-bezier3"),l=e("flo-poly"),s=e("../../geometry/classes/point-on-shape"),f=e("./calc-bezier-curvature-extrema");r.default=n},{"../../geometry/classes/point-on-shape":9,"../../mat-constants":18,"./calc-bezier-curvature-extrema":11,"flo-bezier3":40,"flo-poly":48}],13:[function(e,t,r){"use strict";function n(e,t,r,n){var i=a(e,t),o=Number.POSITIVE_INFINITY,u=void 0,s=!0,f=!1,d=void 0;try{for(var v,p=i[Symbol.iterator]();!(s=(v=p.next()).done);s=!0){var y=v.value,g=l(y.bezierNode,t,y.tRange,r,n),b=void 0===g?Number.POSITIVE_INFINITY:h.default.distanceBetween(g.p,t);b<o&&(u=new m.default(y.bezierNode,g.t,c.default.pointType.standard,0,0),o=b)}}catch(e){f=!0,d=e}finally{try{!s&&p.return&&p.return()}finally{if(f)throw d}}return u}function a(e,t){if(e.length>5){var r=i(e,t);e=o(e,t,r),e=u(e,t,r)}return e}function i(e,t){var r=Number.POSITIVE_INFINITY,n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value,s=l.bezierNode.item.bezier3,f=p.default.evaluate(s),c=f(l.tRange[0]),d=f(l.tRange[1]),v=h.default.squaredDistanceBetween(t,c),m=h.default.squaredDistanceBetween(t,d),y=Math.min(v,m);y<r&&(r=y)}}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r+.01}function o(e,t,r){var n=[],a=!0,i=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value,f=s.bezierNode.item.bezier3,c=p.default.getBoundingBox(f);v.default.getClosestSquareDistanceToRect(c,t)<=r&&n.push(s)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}function u(e,t,r){var n=[],a=!0,i=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value,f=s.bezierNode.item.bezier3,c=p.default.getBoundingBoxTight(f);v.default.closestSquaredDistanceToRotatedRect(c,t)<=r&&n.push(s)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}function l(e,t,r,n,a){var i=e.item.bezier3,o=f(i,4),u=f(o[0],2),l=u[0],c=u[1],v=f(o[1],2),m=v[0],y=v[1],g=f(o[2],2),b=g[0],w=g[1],_=f(o[3],2),I=_[0],x=_[1],T=f(t,2),M=T[0],P=T[1],O=l-M,N=m-M,S=b-M,C=I-M,E=c-P,k=y-P,A=w-P,z=x-P,L=O*O,B=6*O*N,F=6*O*S,R=2*O*C,D=9*N*N,j=18*N*S,q=6*N*C,H=9*S*S,V=6*S*C,G=C*C,Y=E*E,U=6*E*k,Q=6*E*A,K=2*E*z,Z=9*k*k,X=18*k*A,W=6*k*z,J=9*A*A,$=6*A*z,ee=z*z,te=6*(G-V+q-R+H-j+F+D-B+L+(ee-$+W-K+J-X+Q+Z-U+Y)),re=5*(V-2*q+3*R-2*H+3*j-4*F-4*D+5*B-6*L+($-2*W+3*K-2*J+3*X-4*Q-4*Z+5*U-6*Y)),ne=4*(q-3*R+H-3*j+6*F+6*D-10*B+15*L+(W-3*K+J-3*X+6*Q+6*Z-10*U+15*Y)),ae=3*(R+j-4*F-4*D+10*B-20*L+(K+X-4*Q-4*Z+10*U-20*Y)),ie=2*(F+D-5*B+15*L+(Q+Z-5*U+15*Y)),oe=B-6*L+(U-6*Y),ue=[te,re,ne,ae,ie,oe];if(e===n){ue=d.default.deflate(ue,a)}var le=d.default.allRoots(ue,r[0],r[1]),se=!0,fe=!0;return(1===a&&e===n.next||e===n&&0===a)&&(se=!1),(0===a&&e===n.prev||e===n&&1===a)&&(fe=!1),0===r[0]?se&&le.push(r[0]):1===r[0]?fe&&le.push(r[0]):le.push(r[0]),0===r[1]?se&&le.push(r[1]):1===r[1]?fe&&le.push(r[1]):le.push(r[1]),s(t,le.map(function(e){return{p:p.default.evaluate(i)(e),t:e}}),function(e,t){return h.default.squaredDistanceBetween(e,t.p)})}function s(e,t,r){for(var n=void 0,a=Number.POSITIVE_INFINITY,i=0;i<t.length;i++){var o=t[i],u=r(e,o);u<a&&(n=o,a=u)}return n}var f=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var c=e("../../mat-constants"),d=e("flo-poly"),v=e("../geometry"),h=e("flo-vector2d"),p=e("flo-bezier3"),m=e("../classes/Point-on-shape");r.default=n},{"../../mat-constants":18,"../classes/Point-on-shape":3,"../geometry":15,"flo-bezier3":40,"flo-poly":48,"flo-vector2d":56}],14:[function(e,t,r){"use strict";function n(e,t){var r=[1,0],n=[0,1].map(function(t){return e[t].item.bezier3}),s=[0,1].map(function(e){return i.default.tangent(n[e],r[e])}),c=+a.default.cross(s[0],s[1]),d=-a.default.dot(s[0],s[1]);if(0===c||-1===d)return[];var v=n[0][3];if(c<-f){return[new u.default(e[0],1,o.default.pointType.sharp,0,0)]}if(c>0){t[u.default.makeSimpleKey(v)]=new l.default(n,s)}if(c<=f){return[new u.default(e[0],.9,o.default.pointType.standard,0,0)]}for(var h=[],p=[-1,d],m=0;m<2;m++){var y=new u.default(e[m],r[m],o.default.pointType.dull,p[m],0);h.push(y)}return h}Object.defineProperty(r,"__esModule",{value:!0});var a=e("flo-vector2d"),i=e("flo-bezier3"),o=e("../../mat-constants"),u=e("../../geometry/classes/point-on-shape"),l=e("../classes/corner"),s={0:0,.25:.005,1:.0167,4:.0698,15:.2588,16:.2756},f=s[.25];r.default=n},{"../../geometry/classes/point-on-shape":9,"../../mat-constants":18,"../classes/corner":7,"flo-bezier3":40,"flo-vector2d":56}],15:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){var r=p(e,2),n=p(r[0],2),a=n[0],i=n[1],o=p(r[1],2),u=o[0],l=o[1],s=p(t,2),f=p(s[0],2),c=f[0],d=f[1],v=p(s[1],2),h=v[0],m=v[1],y=u-a,g=l-i,b=h-c,w=m-d,_=b*g-w*y;if(0!==_){var I=((d-i)*y-(c-a)*g)/_;return[c+I*b,d+I*w]}}function i(e,t){for(var r=[],n=b.default.getBoundaryPieceBeziers(t),a=0;a<n.length;a++)for(var i=n[a],o=i.bezierNode.item.bezier3,u=h(e,o,i.tRange),l=0;l<u.length;l++)r.push(u[l].p);return r}function o(e,t){var r=e,a=[0,1,2,3].map(function(e){return y.default.squaredDistanceBetweenPointAndLineSegment(t,[r[e],r[(e+1)%4]])});return Math.min.apply(Math,n(a))}function u(e,t){var r=p(e,2),n=p(r[0],2),a=n[0],i=n[1],o=p(r[1],2),u=o[0],l=o[1],s=p(t,2),f=s[0],c=s[1];if(f<a){if(c<i)return y.default.squaredDistanceBetween(e[0],t);if(c>l)return y.default.squaredDistanceBetween([a,l],t);var d=a-f;return d*d}if(f>u){if(c<i)return y.default.squaredDistanceBetween([u,i],t);if(c>l)return y.default.squaredDistanceBetween(e[1],t);var v=f-u;return v*v}if(c<i){var h=i-c;return h*h}if(c>l){var m=c-l;return m*m}return 0}function l(e,t){var r=function(e){return e*(180/Math.PI)};return 0===t?e>0?90:270:t>0?r(Math.atan(e/t)):180+r(Math.atan(e/t))}function s(e){var t=y.default.mean([e[0],e[1]]),r=y.default.mean([e[1],e[2]]),n=y.default.fromTo(e[0],e[1]),i=y.default.fromTo(e[1],e[2]),o=[n[1],-n[0]],u=[i[1],-i[0]],l=[t,y.default.translate(o,t)],s=[r,y.default.translate(u,r)],f=a(l,s);if(f){var c=y.default.fromTo(f,e[0]),v=y.default.fromTo(f,e[1]),h=y.default.fromTo(f,e[2]),p=y.default.len(c),m=-c[1]/p,b=c[0]/p,_=-h[1]/p,I=h[0]/p;return d(-v[1]/p,v[0]/p,m,b,_,I)?new w.default(new g.default(f,p),m,b,_,I,e[0],e[2]):new w.default(new g.default(f,p),_,I,m,b,e[2],e[0])}}function f(e,t){return e>=0?t>=0?1:2:t>=0?4:3}function c(e,t,r,n){var a=f(e,t),i=f(r,n);return a>i||!(a<i)&&(1===a||4===a?e>=r:e<=r)}function d(e,t,r,n,a,i){var o=c(r,n,a,i),u=c(e,t,a,i),l=c(e,t,r,n);return o?l||!u:l&&!u}function v(e,t){var r=[-t[1],t[0]];return[e,[e[0]+r[0],e[1]+r[1]]]}function h(e,t,r){var n=[-e[0][0],-e[0][1]],a=[e[1][0]+n[0],e[1][1]+n[1]],i=y.default.len(a),o=-a[1]/i,u=a[0]/i,l=y.default.translateThenRotatePs(n,o,u,t);return m.default.allRoots(_.default.getY(l),0,1).map(function(e){return{p:_.default.evaluate(t)(e),t:e}})}var p=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var m=e("flo-poly"),y=e("flo-vector2d"),g=e("./classes/circle"),b=e("./classes/shape"),w=e("./classes/arc"),_=e("flo-bezier3"),I={lineLineIntersection:a,getLineBoundaryIntersectionPoints:i,closestSquaredDistanceToRotatedRect:o,getClosestSquareDistanceToRect:u,degAngleFromSinCos:l,arcFrom3Points:s,quadrant:f,isAngle1LargerOrEqual:c,isAngleBetween:d,lineThroughPointAtRightAngleTo:v,getLineBezierIntersectionPoints:h};r.default=I},{"./classes/arc":4,"./classes/circle":6,"./classes/shape":10,"flo-bezier3":40,"flo-poly":48,"flo-vector2d":56}],16:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("flo-ll-rb-tree"),o=e("./list-node"),u=function(){function e(t,r,a){n(this,e),r&&(this.cptree=new i.default(r,[],!0)),this.indx=a,this.addAllFromScratch(t||[])}return a(e,[{key:"addAllFromScratch",value:function(e){if(0!==e.length){for(var t=void 0,r=null,n=void 0,a=0;a<e.length;a++)n=new o.default(this,e[a],r,null),r&&(r.next=n),r=n,0===a&&(t=n),this.cptree&&this.cptree.insert(n);t.prev=n,n.next=t,this.head=t}}},{key:"insert",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this,a=new o.default(n,e,void 0,void 0),i=void 0,u=void 0;return n.head?(i=t,u=i.next):(i=a,u=a,n.head=a),u.prev=a,i.next=a,a.prev=i,a.next=u,a.coupledNode=r,n.cptree&&n.cptree.insert(a),a}},{key:"remove",value:function(e){var t=this,r=e.prev,n=e.next;e===t.head&&(t.head=n),r.next=n,n.prev=r,t.cptree&&t.cptree.remove(e,!1)}},{key:"getAsArray",value:function(){var e=this,t=[],r=e.head;do{t.push(r.item),r=r.next}while(r!==e.head);return t}},{key:"forEach",value:function(e){var t=this,r=t.head;do{e(r),r=r.next}while(r!==t.head)}},{key:"getByIndx",value:function(e){var t=this;return o.default.advanceNSteps(t.head,e)}}]),e}();r.default=u},{"./list-node":17,"flo-ll-rb-tree":43}],17:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(t,r,a,i){n(this,e),this.prevOnCircle=void 0,this.nextOnCircle=void 0,this.loop=t,
this.item=r,this.prev=a,this.next=i}return a(e,null,[{key:"advanceNSteps",value:function(e,t){for(var r=0;r<t;r++)e=e.next;return e}}]),e}();r.default=i},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={maxOsculatingCircleRadius:800,pointType:{standard:0,sharp:1,dull:2,extreme:3}};r.default=n},{}],19:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("flo-vector2d"),o=e("../../geometry/classes/point-on-shape"),u=function(){function e(t,r){n(this,e),this.pointOnShape=t,this.matCircle=r,this.key=o.default.toHumanString(t),this[0]=t[0],this[1]=t[1]}return a(e,null,[{key:"compare",value:function(e,t){return o.default.compare(e.pointOnShape,t.pointOnShape)}},{key:"equal",value:function(e,t){return i.default.equal(e.pointOnShape.p,t.pointOnShape.p)}}]),e}();r.default=u},{"../../geometry/classes/point-on-shape":9,"flo-vector2d":56}],20:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../../geometry/classes/point-on-shape"),i=function e(t,r,i,o){n(this,e),this.threeProng=t,this.deltas=r,this.bestIndx=i,this.candidateThreeProngs=o,this.deltasSimple=r.map(function(e){return[a.default.toHumanString(e[0].item.pointOnShape),a.default.toHumanString(e[1].item.pointOnShape)]})};r.default=i},{"../../../geometry/classes/point-on-shape":9}],21:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r,a,i,o,u,l,s,f){n(this,e),this.pos=t,this.δ=r,this.y=a,this.z=i,this.x=o,this.circle=u,this.xs=l,this.failed=s,this.holeClosing=f};r.default=a},{}],22:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function e(t,r,a,i,o,u){n(this,e),this.k1=t,this.k2=r,this.cpNodeA2=a,this.cpNodeA1=i,this.cpNodeB1=o,this.cpNodeB2=u};r.default=a},{}],23:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(t,r){n(this,e),this.circle=t,this.cpNodes=r,this.visited=0}return a(e,null,[{key:"create",value:function(t,r){for(var n=new e(t,void 0),a=0;a<r.length;a++)r[a].item.matCircle=n;return n.cpNodes=r,n}}]),e}();r.default=i},{}],24:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(t,r){n(this,e),this.matCircle=t,this.branches=r}return a(e,null,[{key:"copy",value:function(t){function r(t,n,a){var i=[],o=new e(t.matCircle,i),u=!0,l=!1,s=void 0;try{for(var f,c=t.branches[Symbol.iterator]();!(u=(f=c.next()).done);u=!0){var d=f.value;d!==n?i.push(r(d,t,o)):i.push(a)}}catch(e){l=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(l)throw s}}return o}return r(t)}}]),e}();r.default=i},{}],25:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../mat/functions/traverse"),i=function e(t){n(this,e),this.startNode=t};i.traverse=a.default,r.default=i},{"../../mat/functions/traverse":37}],26:[function(e,t,r){"use strict";function n(e,t,r,n,f){f&&(r.order2=1,n.order2=-1);var c=new i.default(n,void 0),d=u.default.getNeighbouringPoints(e,n),v=void 0===d[0]?void 0:i.default.compare(d[0].item,c),h=void 0===d[1]?void 0:i.default.compare(c,d[1].item);if("undefined"!=typeof window&&window._debug_,0!==v&&0!==h){var p=n.bezierNode.loop.indx,m=e.contactPointsPerLoop[p].insert(c,d[0]),y=new i.default(r,void 0),g=u.default.getNeighbouringPoints(e,r),b=void 0===g[0]?void 0:i.default.compare(g[0].item,y),w=void 0===g[1]?void 0:i.default.compare(y,g[1].item);if("undefined"!=typeof window&&window._debug_,0===b||0===w)return void e.contactPointsPerLoop[p].remove(m);var _=r.bezierNode.loop.indx,I=e.contactPointsPerLoop[_].insert(y,g[0]);o.default.create(t,[I,m]);if(I.prevOnCircle=m,I.nextOnCircle=m,m.prevOnCircle=I,m.nextOnCircle=I,f){var x=n,T=l.default.copy(x);T.order2=1;var M=new i.default(T,void 0),P=e.contactPointsPerLoop[p].insert(M,m),O=r,N=l.default.copy(O);N.order2=-1;var S=new i.default(N,void 0),C=e.contactPointsPerLoop[_].insert(S,I.prev);o.default.create(t,[C,P]),C.prevOnCircle=P,C.nextOnCircle=P,P.prevOnCircle=C,P.nextOnCircle=C,m.next=I,I.prev=m,C.next=P,P.prev=C,e.holeClosers.push(new s.default(_,p,I,m,C,P))}if("undefined"!=typeof window&&window._debug_){var E=window._debug_;a(I,E),a(m,E)}}}function a(e,t){var r=l.default.makeSimpleKey(e.item.pointOnShape.p),n=t.generated.cpHash,a=t.generated.cpArr;n[r]||(n[r]={cp:e,arrIndx:a.length},a.push(e));var i=n[r];i.visitedPointsArr=i.visitedPointsArr||[]}Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../mat/classes/contact-point"),o=e("../../mat/classes/mat-circle"),u=e("../../geometry/classes/shape"),l=e("../../geometry/classes/point-on-shape"),s=e("../classes/hole-closing-2-prong");r.default=n},{"../../geometry/classes/point-on-shape":9,"../../geometry/classes/shape":10,"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23,"../classes/hole-closing-2-prong":22}],27:[function(e,t,r){"use strict";function n(e,t){var r=t.circle,n=t.ps,o=t.delta3s,u=[0,1,2].map(function(e){return new i.default(n[e],void 0)});"undefined"!=typeof window&&window._debug_;for(var l=[],s=0;s<3;s++){var f=n[s],c=f.bezierNode.loop.indx;l.push(e.contactPointsPerLoop[c].insert(u[s],o[s][0]))}for(var d=a.default.create(r,l),v=[2,0,1],h=[1,2,0],p=0;p<3;p++)l[p].prevOnCircle=l[v[p]],l[p].nextOnCircle=l[h[p]];return d}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../mat/classes/mat-circle"),i=e("../../mat/classes/contact-point");r.default=n},{"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23}],28:[function(e,t,r){"use strict";function n(e,t,r,u,l){var s=void 0;do{s=i(t),"undefined"!=typeof window&&window._debug_,s.length>2&&o(e,s)}while(s.length>2);if(1===t.item.matCircle.cpNodes.length){return a(t,r?[r]:[])}if(1===s.length){return a(t,r?[r]:[])}if(2===s.length){for(var f=r?[r]:[],c=a(t,f),d=t,v=0;d.nextOnCircle!==t&&d.next!==d.nextOnCircle;){v++;var h=void 0;if(1===v)h=d.next,t.item.matCircle.visited++;else if(2===v&&(h=d,1!==d.item.matCircle.visited))break;var p=n(e,h,c,d,!1);f.push(p),d=d.nextOnCircle}return c}}function a(e,t){var r=new f.default(e.item.matCircle,t);if("undefined"!=typeof window&&window._debug_){u(e,r,window._debug_)}return r}function i(e){var t=void 0,r=e;t=[];do{t.push(r);r=r.next.prevOnCircle}while(r!==e);return t}function o(e,t){for(var r=[],n=0;n<t.length;n++){var a=t[n];r.push([a,a.next])}for(var i=0;i<r.length;i++){var o=i+1;o===r.length&&(o=0);var u=r[i][1].item,f=r[o][0].item;if(c.default.equal(u,f)){!0;break}}for(var v=l.default(e,r),h=0;h<3;h++)d.default.setPointOrder(e,v.circle,v.ps[h]);s.default(e,v)}function u(e,t,r){var n=e.item.matCircle.circle,a=d.default.makeSimpleKey(n.center),i=r.generated.nodeHash;i[a]=i[a]||{},i[a].matNode=t;var o=d.default.makeSimpleKey(e.item.pointOnShape.p),u=r.generated.cpHash,l=r.generated.cpArr;u[o]||(u[o]={cp:e,arrIndx:l.length},l.push(e));var s=u[o];s.visitedPointsArr=s.visitedPointsArr||[]}Object.defineProperty(r,"__esModule",{value:!0});var l=e("./find-3-prong"),s=e("./add-3-prong"),f=e("../../mat/classes/mat-node"),c=e("../../mat/classes/contact-point"),d=e("../../geometry/classes/point-on-shape");r.default=n},{"../../geometry/classes/point-on-shape":9,"../../mat/classes/contact-point":19,"../../mat/classes/mat-node":24,"./add-3-prong":27,"./find-3-prong":31}],29:[function(e,t,r){"use strict";function n(e){return new i.default(a.default.copy(e.startNode))}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../mat/classes/mat-node"),i=e("../classes/mat-tree");r.default=n},{"../../mat/classes/mat-node":24,"../classes/mat-tree":25}],30:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){var a=!1,v=t.bezierNode,p=t.t,y=b.default.getOsculatingCircle(t),w=y.center,_=y.radius,x=_*_,T=void 0,M=void 0,P=t.bezierNode.loop.indx;if(r){M=[];for(var O=0;O<P;O++){var N,S=g.default.getBoundaryBeziers(e,O);(N=M).push.apply(N,n(S))}}else{var C=g.default.getNeighbouringPoints(e,t);T=[C[0],C[0]],M=C[0]?g.default.getBoundaryPieceBeziers(T):g.default.getBoundaryBeziers(e,P)}var E=[],k=void 0,A=void 0,z=0;do{z++;var L=h.default.squaredDistanceBetween(w,t.p);M=u(M,w,L),k=I.default(M,w,v,p),"undefined"!=typeof window&&window._debug_&&E.push({x:w,y:t,z:k,t:p});var B=h.default.squaredDistanceBetween(w,k.p);if(1===z&&B+c>=L)return void i(e,t);if(h.default.squaredDistanceBetween(t.p,k.p)<=f){a=!0;break}var F=l(w,t.p,k.p);A=h.default.squaredDistanceBetween(w,F);var R=h.default.squaredDistanceBetween(t.p,F);R<x&&(x=R),w=F}while(A>d&&z<s);"undefined"!=typeof window&&window._debug_&&E.push({x:w,y:t,z:k,t:p}),z===s&&(a=!0);var D=new m.default(w,h.default.distanceBetween(w,k.p));if(b.default.setPointOrder(e,D,t),b.default.setPointOrder(e,D,k),"undefined"!=typeof window&&window._debug_){var j=window._debug_;o(a,t,D,t.p,k.p,T,E,r,j)}if(!a)return{circle:D,z:k}}function i(e,t){if(t.type!==v.default.pointType.dull){var r=new w.default(t,void 0),n=g.default.getNeighbouringPoints(e,t),a=void 0===n[0]?void 0:w.default.compare(n[0].item,r),i=void 0===n[1]?void 0:w.default.compare(r,n[1].item);if("undefined"!=typeof window&&window._debug_,0!==a&&0!==i){var o=t.bezierNode.loop.indx,u=e.contactPointsPerLoop[o].insert(r,n[0]);_.default.create(b.default.getOsculatingCircle(t),[u]);if(u.prevOnCircle=u,u.nextOnCircle=u,"undefined"!=typeof window&&window._debug_){window._debug_.generated.oneProngs.push({pos:t})}}}else if("undefined"!=typeof window&&window._debug_){var l=window._debug_,s=b.default.getOsculatingCircle(t);Number.isNaN(s.center[0])||l.generated.oneProngsAtDullCorner.push({pos:t})}}function o(e,t,r,n,a,i,o,u,l){var s=new x.default(t,i,n,a,r.center,r,o,e,u);l.generated.twoProngs.push(s)}function u(e,t,r){if(e.length<=5)return e;var n=[],a=!0,i=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value,f=s.bezierNode.item.bezier3,c=p.default.getBoundingBox(f);y.default.getClosestSquareDistanceToRect(c,t)<=r+.1&&n.push(s)}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}function l(e,t,r){var n=Math.abs((e[1]-t[1])/(e[0]-t[0]))>1,a=void 0,i=void 0,o=void 0,u=void 0,l=void 0,s=void 0;n?(a=e[1],i=e[0],o=t[1],u=t[0],l=r[1],s=r[0]):(a=e[0],i=e[1],o=t[0],u=t[1],l=r[0],s=r[1]);var f=(i-u)/(a-o),c=u-f*o,d=o*o+u*u-l*l-s*s+2*c*(s-u),v=o-l+f*(u-s),h=d/(2*v),p=f*h+c;return n?[p,h]:[h,p]}Object.defineProperty(r,"__esModule",{value:!0});var s=50,f=1e-6,c=1e-8,d=1e-8,v=e("../../mat-constants"),h=e("flo-vector2d"),p=e("flo-bezier3"),m=e("../../geometry/classes/circle"),y=e("../../geometry/geometry"),g=e("../../geometry/classes/shape"),b=e("../../geometry/classes/Point-on-shape"),w=e("../../mat/classes/contact-point"),_=e("../../mat/classes/mat-circle"),I=e("../../geometry/functions/get-closest-boundary-point-to-point"),x=e("../classes/debug/two-prong-for-debugging");r.default=a},{"../../geometry/classes/Point-on-shape":3,"../../geometry/classes/circle":6,"../../geometry/classes/shape":10,"../../geometry/functions/get-closest-boundary-point-to-point":13,"../../geometry/geometry":15,"../../mat-constants":18,"../../mat/classes/contact-point":19,"../../mat/classes/mat-circle":23,"../classes/debug/two-prong-for-debugging":21,"flo-bezier3":40,"flo-vector2d":56}],31:[function(e,t,r){"use strict";function n(e,t){for(var r=t.map(function(e){return h.default.getBoundaryPieceBeziers(e)}),n=[],i=void 0,o=void 0,u=Number.POSITIVE_INFINITY,l=1;l<t.length-1;l++){var s=a(e,t,l,r),f=s.circle,c=s.ps,d=s.error;if("undefined"!=typeof window&&window._debug_){window._debug_;n.push({circle:f,ps:c})}d<u&&(u=d,o=l-1,i={circle:f,ps:c,delta3s:void 0})}var v=[t[0],t[o+1],t[t.length-1]];if(i.delta3s=v,"undefined"!=typeof window&&window._debug_){var p=window._debug_,y=new m.default(i,t,o,n);p.generated.threeProngs.push(y)}return i}function a(e,t,r,n){for(var a=[t[0],t[r],t[t.length-1]],u=[n[0],n[r],n[t.length-1]],s=void 0,h=void 0,m=0,g=o(e,a,u),b=Number.POSITIVE_INFINITY;b>1e-7&&m<10;){m++,s=l(g,u),h=f.default.circumCenter(s.map(function(e){return e.p}));var w=y(g,h),_=i(u,g,w);g=_.newX;var I=f.default.len(w);s=_.newPs,b=Math.abs(I-_.newV)}for(var x=(f.default.distanceBetween(g,s[0].p)+f.default.distanceBetween(g,s[1].p)+f.default.distanceBetween(g,s[2].p))/3,T=new d.default(g,x),M=0,P=0;P<3;P++){var O=s[P],N=f.default.toUnitVector(f.default.fromTo(O.p,g)),S=f.default.rotate90Degrees(N),C=v.default.makeSimpleKey(O.p),E=e.dullCornerHash[C];if(E){var k=E.tans,A=k.map(f.default.rotate90Degrees);if("undefined"!=typeof window&&window._debug_){window._debug_.log}var z=f.default.cross(A[0],N),L=f.default.cross(N,A[1]),B=Math.asin(z),F=Math.asin(L),R=0;B>0&&(R+=B),F>0&&(R+=F),M+=R}else{var D=O.bezierNode.item.bezier3,j=f.default.toUnitVector(c.default.tangent(D)(O.t));M+=Math.abs(Math.asin(f.default.cross(S,j)))}}for(var q=[],H=0;H<n.length;H++){var V=p.default(n[H],g,void 0,void 0);q.push(f.default.distanceBetween(V.p,g))}var G=Math.min.apply(Math,q);return{ps:s,circle:T,error:1*Math.abs(x-G)+1*M}}function i(e,t,r){var n=f.default.len(r),a=1,i=void 0,o=void 0,u=void 0,s=void 0,c=0;do{var d=f.default.scale(r,a);o=f.default.translate(d,t),u=l(o,e);var v=f.default.circumCenter(u.map(function(e){return e.p})),h=f.default.fromTo(o,v);s=f.default.len(h),i=s<n,a/=2,c++}while(!i&&c<3);return{newX:o,newV:s,newPs:u}}function o(e,t,r){var n=f.default.mean([t[0][0].item.pointOnShape.p,t[2][1].item.pointOnShape.p]),a=p.default(r[1],n,void 0,void 0),i=[t[0][0].item.pointOnShape.p,a.p,t[2][1].item.pointOnShape.p],o=void 0;if(o=t[0][0].item.pointOnShape.type===s.default.pointType.sharp?f.default.mean([i[0],i[1]]):f.default.circumCenter(i),Number.isFinite(o[0])||"undefined"!=typeof window&&window._debug_,!Number.isFinite(o[0])){var l=u(i);return f.default.mean([i[l[0]],i[l[1]]])}return o}function u(e){return e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0,2]:e[1][0]===e[2][0]&&e[1][1]===e[2][1]?[0,2]:e[2][0]===e[0][0]&&e[2][1]===e[0][1]?[1,2]:[]}function l(e,t){return t.map(function(t){return p.default(t,e,void 0,void 0)})}Object.defineProperty(r,"__esModule",{value:!0});var s=e("../../mat-constants"),f=e("flo-vector2d"),c=e("flo-bezier3"),d=e("../../geometry/classes/circle"),v=e("../../geometry/classes/point-on-shape"),h=e("../../geometry/classes/shape"),p=e("../../geometry/functions/get-closest-boundary-point-to-point"),m=e("../classes/debug/three-prong-for-debugging"),y=f.default.fromTo;r.default=n},{"../../geometry/classes/circle":6,"../../geometry/classes/point-on-shape":9,"../../geometry/classes/shape":10,"../../geometry/functions/get-closest-boundary-point-to-point":13,"../../mat-constants":18,"../classes/debug/three-prong-for-debugging":20,"flo-bezier3":40,"flo-vector2d":56}],32:[function(e,t,r){"use strict";function n(e){if(a(e),i(e),"undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.after2Prongs=performance.now()}var t=e.contactPointsPerLoop[0],r=t.head;do{if(2===r.item.matCircle.cpNodes.length&&r.next.prevOnCircle!==r)break;r=r.next}while(r!==t.head);var n=r.prevOnCircle,o=p.default(e,n,void 0,void 0,!1),l=p.default(e,n.prevOnCircle,void 0,void 0,!1);o.branches.push(l.branches[0]),l.branches[0].branches[0]=o;var s=new f.default(o);if("undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.after3Prongs=performance.now()}return u(s)}function a(e){for(var t=e.extremes,r=1;r<t.length;r++){var n=t[r],a=s.default.maxOsculatingCircleRadius,i=[n.p[0],n.p[1]-a],o=(new c.default(i,a),new d.default(n.bezierNode,n.t,s.default.pointType.extreme,0,0)),u=h.default(e,o,!0),l=u.circle,f=u.z,p=f,m=d.default.makeSimpleKey(o.p);e.straightUpHash[m]&&(e.skip2ProngHash[m]=o),v.default(e,l,o,p,!0)}}function i(e){for(var t=e.for2ProngsArray,r=0;r<t.length;r++){o(e,r,t[r])}}function o(e,t,r){for(var n=r.length,a=l(n),i=0;i<n;i++){var o=r[a[i]],u=o.item,s=d.default.makeSimpleKey(u.p);if(!e.skip2ProngHash[s]){var f=h.default(e,u,!1);if(f){var c=f.circle,p=f.z;v.default(e,c,u,p,!1)}}}}function u(e){function t(e,r){if(3===e.branches.length&&e.branches[2].matCircle===e.matCircle){var n=e.branches[2],a=n.branches[1];e.branches[2]=a,a.branches[0]=e}var i=!0,o=!1,u=void 0;try{for(var l,s=e.branches[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var f=l.value;f!==r&&t(f,e)}}catch(e){o=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw u}}}return t(e.startNode,void 0),e}function l(e){for(var t=[],r=0;r<e;r++)t.push(r);return t}Object.defineProperty(r,"__esModule",{value:!0});var s=e("../../mat-constants"),f=e("../classes/mat-tree"),c=e("../../geometry/classes/circle"),d=e("../../geometry/classes/Point-on-shape"),v=e("./add-2-prong"),h=e("./find-2-prong"),p=e("./build-mat");r.default=n},{"../../geometry/classes/Point-on-shape":3,"../../geometry/classes/circle":6,"../../mat-constants":18,"../classes/mat-tree":25,"./add-2-prong":26,"./build-mat":28,"./find-2-prong":30}],33:[function(e,t,r){"use strict";function n(e){var t=[];return a.default(e,function(e){t.push(e)}),t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./traverse");r.default=n},{"./traverse":37}],34:[function(e,t,r){"use strict";function n(e){var t={};return i.default(e,function(e){var r=a.default.makeSimpleKey(e.matCircle.circle.center);t[r]=e}),t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("../../geometry/classes/point-on-shape"),i=e("./traverse");r.default=n},{"../../geometry/classes/point-on-shape":9,"./traverse":37}],35:[function(e,t,r){"use strict";function n(e){function t(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],a=0;a<t.length;a++){var i=t[a];if(n.next===i)return[n,i]}}var r=[],n=[],f=[];return s.default.traverse(e,function(e,s){function c(e,t,r){var n=e.item,a=r?e.nextOnCircle.item:e.prevOnCircle.item,o=void 0;if(n!==a){var s=l.default.fromTo(n.pointOnShape.p,a.pointOnShape.p);o=l.default.rotate90Degrees(s)}else if(n.pointOnShape.type===i.default.pointType.sharp){var f=void 0,c=void 0;0===n.pointOnShape.t?(f=n.pointOnShape.bezierNode,c=n.pointOnShape.bezierNode.prev):1===n.pointOnShape.t&&(f=n.pointOnShape.bezierNode.next,c=n.pointOnShape.bezierNode);var d=u.default.tangent(f.item.bezier3)(0),v=l.default.reverse(u.default.tangent(c.item.bezier3)(1)),h=l.default.dot(d,v),p=Math.sqrt((1+h)/2),m=Math.sqrt((1-h)/2);o=l.default.rotate(m,p,v)}else o=l.default.fromTo(n.pointOnShape.p,t);return[t,l.default.translate(l.default.toLength(o,1),t)]}if(s){var d=s.matCircle,v=d.circle.center,h=d.cpNodes,p=e.matCircle,m=p.circle.center,y=p.cpNodes,g=t(h,y),b=a(g,2),w=b[0],_=b[1],I=c(w,v,!0),x=c(_,m,!1),T=o.default.lineLineIntersection(I,x),M=void 0;if(T){var P=l.default.fromTo(v,T),O=l.default.fromTo(m,T),N=l.default.fromTo(v,m),S=l.default.dot(P,N),C=l.default.dot(O,N);M=S<0||C>0}if(T)if(M){var E=l.default.mean([v,m]),k=l.default.fromTo(v,m),A=l.default.rotate90Degrees(k),z=l.default.translate(A,E),L=[E,z],B=o.default.lineLineIntersection(I,L),F=o.default.lineLineIntersection(x,L);f.push([v,B,F,m])}else n.push([v,T,m]);else r.push([v,m])}}),{lines:r,quads:n,cubes:f}}var a=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("../../mat-constants"),o=e("../../geometry/geometry"),u=e("flo-bezier3"),l=e("flo-vector2d"),s=e("../classes/mat-tree");r.default=n},{"../../geometry/geometry":15,"../../mat-constants":18,"../classes/mat-tree":25,"flo-bezier3":40,"flo-vector2d":56}],36:[function(e,t,r){"use strict";function n(e,t){var r=h.default(e),n=p.default(r),a=-Number.POSITIVE_INFINITY,l=void 0;for(var f in n){var d=n[f],v=d.matCircle.circle.radius;v>a&&(l=d,a=v)}var m=i(t,n);if("undefined"!=typeof window&&window._debug_){window._debug_.generated.sat.tree=m}var g=new y.default(l),b={};u(m,o,{s:t,tree:m,cullHash:b});var w=[];if(s(b,w,g.startNode),c(w),"undefined"!=typeof window&&window._debug_){window._debug_.generated.timing.afterSat=performance.now()}return g}function a(e,t,r,n,i,o,u){var l=i.matCircle.circle,s=d(e,r,n,l),f=s.groups,c=s.newLimits;if(1===f.length&&6!==u){var v=f[0];t[v]||(t[v]={});return void a(e,t[v],r?0:1,c,i,o,u+1)}t[5]||(t[5]=new Map),t[5].set(o,i)}function i(e,t){var r=[[0,g],[0,b]],n={};for(var i in t){a(e,n,0,r,t[i],i,0)}return n}function o(e,t,r){var n=r.s,a=r.tree,i=r.cullHash;if(0!==e.matCircle.circle.radius&&!i[t]){var o=l(n,a,e);for(var u in o)i[u]||(i[u]=e)}}function u(e,t,r){function n(e){if(e){if(e.size)return void e.forEach(function(e,n){t(e,n,r)});e[5]&&n(e[5]),e[0]&&n(e[0]),e[2]&&n(e[2]),e[4]&&n(e[4]),e[1]&&n(e[1]),e[3]&&n(e[3])}}n(e)}function l(e,t,r){function n(t){var r=t[5];r&&r.forEach(function(t,n){var a=v.default.scale(t.matCircle.circle,e);v.default.engulfsCircle(i,a)&&(o[n]=t,r.delete(n))})}function a(t,r,i,o){if(null!==i){var u=d(e,r,i,l),s=u.groups,f=u.newLimits;if(1!==s.length){n(t);for(var c=0;c<=4;c++){var v=t[c];v&&a(v,0,null,o+1)}}else{n(t);var h=s[0],p=r?0:1;if(1===h||3===h){var m=t[h];m&&a(m,p,f,o+1)}else{var y=[];y.push(t[h]),h>0&&y.push(t[h-1]),h<4&&y.push(t[h+1]);var g=!0,b=!1,w=void 0;try{for(var _,I=y[Symbol.iterator]();!(g=(_=I.next()).done);g=!0){var x=_.value;x&&a(x,p,f,o+1)}}catch(e){b=!0,w=e}finally{try{!g&&I.return&&I.return()}finally{if(b)throw w}}}}}else{n(t);for(var T=0;T<=4;T++){var M=t[T];M&&a(M,0,null,o+1)}}}var i=v.default.scale(r.matCircle.circle,e),o={},u=[[0,g],[0,b]],l=r.matCircle.circle;return a(t,0,u,0),o}function s(e,t,r,n){var a=m.default.makeSimpleKey(r.matCircle.circle.center),i=!e[a],o=!0,u=!1,l=void 0;try{for(var f,c=r.branches[Symbol.iterator]();!(o=(f=c.next()).done);o=!0){var d=f.value;d!==n&&(s(e,t,d,r)&&(i=!0))}}catch(e){u=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(u)throw l}}return!!i||(t.push({satNode:r,priorNode:n}),!1)}function f(e){var t=e.satNode,r=e.priorNode,n=r.branches.indexOf(t);n>=0&&r.branches.splice(n,1)}function c(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){f(a.value)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}function d(e,t,r,n){var a=r[t],i=a[0],o=a[1],u=(o-i)/4,l=u+u,s=n.radius,f=n.center[t]-i,c=f-s*e,d=f+s*e,v=[,],h=[],p=Math.floor(c/u),m=Math.floor(d/u)+1,y=m-p,g=void 0;if(1===y){g=2*Math.floor(p/2)+1,h.push(g);var b=i+u*(g-1);v=[b,b+l]}else if(2===y){g=p+1,h.push(g);var w=i+u*(g-1);v=[w,w+l]}var _=[,];if(1===h.length){var I=t?0:1;_[I]=r[I],_[t]=v}return{groups:h,newLimits:_}}Object.defineProperty(r,"__esModule",{value:!0});var v=e("../../geometry/classes/circle"),h=e("./copy-mat"),p=e("./get-nodes-as-hash"),m=e("../../geometry/classes/point-on-shape"),y=e("../classes/mat-tree"),g=1620,b=1560;r.default=n},{"../../geometry/classes/circle":6,"../../geometry/classes/point-on-shape":9,"../classes/mat-tree":25,"./copy-mat":29,"./get-nodes-as-hash":34}],37:[function(e,t,r){"use strict";function n(e,t){function r(e,n){t(e,n);for(var a=0;a<e.branches.length;a++){var i=e.branches[a];i!==n&&r(i,e)}}r(e.startNode)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},{}],38:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){SVGPathElement.prototype.getPathData&&SVGPathElement.prototype.setPathData||o()}function o(){var e={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},t=function(){function t(e){a(this,t),this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}return u(t,[{key:"parseSegment",value:function(){var t=this._string[this._currentIndex],r=e[t]?e[t]:null;if(null===r){if(null===this._prevCommand)return null;if(null===(r=("+"===t||"-"===t||"."===t||t>="0"&&t<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;this._prevCommand=r;var n=null,a=r.toUpperCase();return"H"===a||"V"===a?n=[this._parseNumber()]:"M"===a||"L"===a||"T"===a?n=[this._parseNumber(),this._parseNumber()]:"S"===a||"Q"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===a?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===a&&(this._skipOptionalSpaces(),n=[]),null===n||n.indexOf(null)>=0?null:{type:r,values:n}}},{key:"hasMoreData",value:function(){return this._currentIndex<this._endIndex}},{key:"peekSegmentType",value:function(){var t=this._string[this._currentIndex];return e[t]?e[t]:null}},{key:"initialCommandIsMoveTo",value:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e}},{key:"_isCurrentSpace",value:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)}},{key:"_skipOptionalSpaces",value:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex}},{key:"_skipOptionalSpacesOrDelimiter",value:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)}},{key:"_parseNumber",value:function(){var e=0,t=0,r=1,n=0,a=1,i=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,a=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")&&"."!==this._string[this._currentIndex])return null;for(var u=this._currentIndex;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==u)for(var l=this._currentIndex-1,s=1;l>=u;)t+=s*(Number(this._string[l])-0),l-=1,s*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)r*=10,n+=Number(this._string.charAt(this._currentIndex))/r,this._currentIndex+=1}if(this._currentIndex!==o&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)e*=10,e+=Number(this._string[this._currentIndex]),this._currentIndex+=1}var f=t+n;return f*=a,e&&(f*=Math.pow(10,i*e)),o===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),f)}},{key:"_parseArcFlag",value:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}}]),t}(),r=-1!==window.navigator.userAgent.indexOf("MSIE "),i=function(e){if(!e||0===e.length)return[];var r=new t(e),n=[];if(r.initialCommandIsMoveTo())for(;r.hasMoreData();){var a=r.parseSegment();if(null===a)break;n.push(a)}return n},o=SVGPathElement.prototype.setAttribute,l=SVGPathElement.prototype.removeAttribute,s=Symbol(),f=Symbol(),c=function(e){return Math.PI*e/180},d=function(e,t,r){return{x:e*Math.cos(r)-t*Math.sin(r),y:e*Math.sin(r)+t*Math.cos(r)}},v=function e(t,r,a,i,o,u,l,s,f,v){var h,p,m,y,g=c(l),b=[];if(v)h=v[0],p=v[1],m=v[2],y=v[3];else{var w=d(t,r,-g);t=w.x,r=w.y;var _=d(a,i,-g);a=_.x,i=_.y;var I=(t-a)/2,x=(r-i)/2,T=I*I/(o*o)+x*x/(u*u);T>1&&(T=Math.sqrt(T),o*=T,u*=T);var M;M=s===f?-1:1;var P=o*o,O=u*u,N=P*O-P*x*x-O*I*I,S=P*x*x+O*I*I,C=M*Math.sqrt(Math.abs(N/S));m=C*o*x/u+(t+a)/2,y=C*-u*I/o+(r+i)/2,h=Math.asin(Number(((r-y)/u).toFixed(9))),p=Math.asin(Number(((i-y)/u).toFixed(9))),t<m&&(h=Math.PI-h),a<m&&(p=Math.PI-p),h<0&&(h=2*Math.PI+h),p<0&&(p=2*Math.PI+p),f&&h>p&&(h-=2*Math.PI),!f&&p>h&&(p-=2*Math.PI)}var E=p-h;if(Math.abs(E)>120*Math.PI/180){var k=p,A=a,z=i;p=f&&p>h?h+120*Math.PI/180*1:h+120*Math.PI/180*-1,a=m+o*Math.cos(p),i=y+u*Math.sin(p),b=e(a,i,A,z,o,u,l,0,f,[p,k,m,y])}E=p-h;var L=Math.cos(h),B=Math.sin(h),F=Math.cos(p),R=Math.sin(p),D=Math.tan(E/4),j=4/3*o*D,q=4/3*u*D,H=[t,r],V=[t+j*B,r-q*L],G=[a+j*R,i-q*F],Y=[a,i];if(V[0]=2*H[0]-V[0],V[1]=2*H[1]-V[1],v)return[V,G,Y].concat(n(b));var U,Q,K=(U=[]).concat.apply(U,[V,G,Y].concat(n(b))),Z=[];return K.forEach(function(e,t){t%2?Q.push(d(K[t-1],K[t],g).y):Q.push(d(K[t],K[t+1],g).x),6===Q.length&&(Z.push(Q),Q=[])}),Z},h=function(e){return e.map(function(e){return{type:e.type,values:e.values.slice()}})},p=function(e){var t=[],r=null,n=null,a=null,i=null;return e.forEach(function(e){var o=e.type;if("M"===o){var u=e.values[0],l=e.values[1];t.push({type:"M",values:[u,l]}),a=u,i=l,r=u,n=l}else if("m"===o){var u=r+e.values[0],l=n+e.values[1];t.push({type:"M",values:[u,l]}),a=u,i=l,r=u,n=l}else if("L"===o){var u=e.values[0],l=e.values[1];t.push({type:"L",values:[u,l]}),r=u,n=l}else if("l"===o){var u=r+e.values[0],l=n+e.values[1];t.push({type:"L",values:[u,l]}),r=u,n=l}else if("C"===o){var s=e.values[0],f=e.values[1],c=e.values[2],d=e.values[3],u=e.values[4],l=e.values[5];t.push({type:"C",values:[s,f,c,d,u,l]}),r=u,n=l}else if("c"===o){
var s=r+e.values[0],f=n+e.values[1],c=r+e.values[2],d=n+e.values[3],u=r+e.values[4],l=n+e.values[5];t.push({type:"C",values:[s,f,c,d,u,l]}),r=u,n=l}else if("Q"===o){var s=e.values[0],f=e.values[1],u=e.values[2],l=e.values[3];t.push({type:"Q",values:[s,f,u,l]}),r=u,n=l}else if("q"===o){var s=r+e.values[0],f=n+e.values[1],u=r+e.values[2],l=n+e.values[3];t.push({type:"Q",values:[s,f,u,l]}),r=u,n=l}else if("A"===o){var u=e.values[5],l=e.values[6];t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],u,l]}),r=u,n=l}else if("a"===o){var u=r+e.values[5],l=n+e.values[6];t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],u,l]}),r=u,n=l}else if("H"===o){var u=e.values[0];t.push({type:"H",values:[u]}),r=u}else if("h"===o){var u=r+e.values[0];t.push({type:"H",values:[u]}),r=u}else if("V"===o){var l=e.values[0];t.push({type:"V",values:[l]}),n=l}else if("v"===o){var l=n+e.values[0];t.push({type:"V",values:[l]}),n=l}else if("S"===o){var c=e.values[0],d=e.values[1],u=e.values[2],l=e.values[3];t.push({type:"S",values:[c,d,u,l]}),r=u,n=l}else if("s"===o){var c=r+e.values[0],d=n+e.values[1],u=r+e.values[2],l=n+e.values[3];t.push({type:"S",values:[c,d,u,l]}),r=u,n=l}else if("T"===o){var u=e.values[0],l=e.values[1];t.push({type:"T",values:[u,l]}),r=u,n=l}else if("t"===o){var u=r+e.values[0],l=n+e.values[1];t.push({type:"T",values:[u,l]}),r=u,n=l}else"Z"!==o&&"z"!==o||(t.push({type:"Z",values:[]}),r=a,n=i)}),t},m=function(e){var t,r,n,a,i,o,u,l=[];return e.forEach(function(e){if("M"===e.type){var s=e.values[0],f=e.values[1];l.push({type:"M",values:[s,f]}),o=s,u=f,a=s,i=f}else if("C"===e.type){var c=e.values[0],d=e.values[1],h=e.values[2],p=e.values[3],s=e.values[4],f=e.values[5];l.push({type:"C",values:[c,d,h,p,s,f]}),r=h,n=p,a=s,i=f}else if("L"===e.type){var s=e.values[0],f=e.values[1];l.push({type:"L",values:[s,f]}),a=s,i=f}else if("H"===e.type){var s=e.values[0];l.push({type:"L",values:[s,i]}),a=s}else if("V"===e.type){var f=e.values[0];l.push({type:"L",values:[a,f]}),i=f}else if("S"===e.type){var m,y,h=e.values[0],p=e.values[1],s=e.values[2],f=e.values[3];"C"===t||"S"===t?(m=a+(a-r),y=i+(i-n)):(m=a,y=i),l.push({type:"C",values:[m,y,h,p,s,f]}),r=h,n=p,a=s,i=f}else if("T"===e.type){var c,d,s=e.values[0],f=e.values[1];"Q"===t||"T"===t?(c=a+(a-r),d=i+(i-n)):(c=a,d=i);var m=a+2*(c-a)/3,y=i+2*(d-i)/3,g=s+2*(c-s)/3,b=f+2*(d-f)/3;l.push({type:"C",values:[m,y,g,b,s,f]}),r=c,n=d,a=s,i=f}else if("Q"===e.type){var c=e.values[0],d=e.values[1],s=e.values[2],f=e.values[3],m=a+2*(c-a)/3,y=i+2*(d-i)/3,g=s+2*(c-s)/3,b=f+2*(d-f)/3;l.push({type:"C",values:[m,y,g,b,s,f]}),r=c,n=d,a=s,i=f}else if("A"===e.type){var w=e.values[0],_=e.values[1],I=e.values[2],x=e.values[3],T=e.values[4],s=e.values[5],f=e.values[6];if(0===w||0===_)l.push({type:"C",values:[a,i,s,f,s,f]}),a=s,i=f;else if(a!==s||i!==f){var M=v(a,i,s,f,w,_,I,x,T,void 0);M.forEach(function(e){l.push({type:"C",values:e}),a=s,i=f})}}else"Z"===e.type&&(l.push(e),a=o,i=u);t=e.type}),l};SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[s]=null,this[f]=null),o.call(this,e,t)},SVGPathElement.prototype.removeAttribute=function(e){"d"===e&&(this[s]=null,this[f]=null),l.call(this,e)},SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[f])return h(this[f]);var t;this[s]?t=h(this[s]):(t=i(this.getAttribute("d")||""),this[s]=h(t));var r=m(p(t));return this[f]=h(r),r}if(this[s])return h(this[s]);var t=i(this.getAttribute("d")||"");return this[s]=h(t),t},SVGPathElement.prototype.setPathData=function(e){if(0===e.length)r?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,a=e.length;n<a;n+=1){var i=e[n];n>0&&(t+=" "),t+=i.type,i.values&&i.values.length>0&&(t+=" "+i.values.join(" "))}this.setAttribute("d",t)}}}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0}),r.default=i},{}],39:[function(e,t,r){"use strict";function n(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return o.default.manhattanLength(e)<t}function r(e){for(var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],1);t<e.length;t++){var r=e[t-1],n=e[t];if(o.default.manhattanDistanceBetween(r,n)>s)return!1}return!0}function n(e,t,r){var n=[[0,o.default.manhattanDistanceBetween(t[0],t[1]),o.default.manhattanDistanceBetween(t[0],t[2]),o.default.manhattanDistanceBetween(t[0],t[3])],[o.default.manhattanDistanceBetween(t[1],t[0]),0,o.default.manhattanDistanceBetween(t[1],t[2]),o.default.manhattanDistanceBetween(t[1],t[3])],[o.default.manhattanDistanceBetween(t[2],t[0]),o.default.manhattanDistanceBetween(t[2],t[1]),0,o.default.manhattanDistanceBetween(t[2],t[3])],[o.default.manhattanDistanceBetween(t[3],t[0]),o.default.manhattanDistanceBetween(t[3],t[1]),o.default.manhattanDistanceBetween(t[3],t[2]),0]],a=t;(n[0][1]<s&&n[1][2]<s||n[1][2]<s&&n[2][3]<s)&&(a=[t[0],o.default.interpolate(t[0],t[3],1/3),o.default.interpolate(t[0],t[3],2/3),t[3]]),n[0][1]<s&&(a[1]=o.default.interpolate(t[0],t[2],.1)),n[2][3]<s&&(a[2]=o.default.interpolate(t[1],t[3],.9)),n[1][2]<s&&(a[1]=o.default.interpolate(t[0],t[1],.9),a[2]=o.default.interpolate(t[2],t[3],.1)),e.push(new u.default(r,a))}l.default();var a="Invalid SVG - every new path must start with an M or m.",i=e.getPathData();if(console.dir(e),i.length<2)return[];for(var f=!1,c=void 0,d=void 0,v=[],h=[],p=void 0,m=void 0,y=void 0,g=void 0,b=0;b<i.length;b++){var w=i[b],_=w.values,I=w.type,x=0,T=0;I==I.toLowerCase()&&(x=y,T=g);var M=I;I=I.toUpperCase();var P=void 0;switch(I){case"M":if(f&&"Z"!==M){var O=(_[0]+x-y)/3,N=(_[1]+T-g)/3;P=[[y,g],[y+1*O,g+1*N],[y+2*O,g+2*N],[y+3*O,g+3*N]],c=void 0,d=void 0,t([O,N])||n(h,P,p++)}h.length&&(v.push(h),h=[]),f=!0,y=_[0],g=_[1],m=[y,g],p=0;break;case"C":if(!f)throw new Error(a);P=[[y,g],[x+_[0],T+_[1]],[x+_[2],T+_[3]],[x+_[4],T+_[5]]],c=P[2],d=void 0,y=P[3][0],g=P[3][1],r(P)||n(h,P,p++);break;case"S":if(!f)throw new Error(a);var S=void 0,C=void 0;c?(S=y-c[0]+y,C=g-c[1]+g):(S=y,C=g),P=[[y,g],[S,C],[x+_[0],T+_[1]],[x+_[2],T+_[3]]],c=P[2],d=void 0,y=P[3][0],g=P[3][1],r(P)||n(h,P,p++);break;case"L":if(!f)throw new Error(a);var E=(_[0]+x-y)/3,k=(_[1]+T-g)/3;P=[[y,g],[y+1*E,g+1*k],[y+2*E,g+2*k],[y+3*E,g+3*k]],c=void 0,d=void 0,y=P[3][0],g=P[3][1],t([E,k])||n(h,P,p++);break;case"H":if(!f)throw new Error(a);var A=(_[0]+x-y)/3;P=[[y,g],[y+1*A,g],[y+2*A,g],[y+3*A,g]],c=void 0,d=void 0,y=P[3][0],g=P[3][1],Math.abs(A)>s&&n(h,P,p++);break;case"V":if(!f)throw new Error(a);var z=(_[0]+T-g)/3;P=[[y,g],[y,g+1*z],[y,g+2*z],[y,g+3*z]],c=void 0,d=void 0,y=P[3][0],g=P[3][1],Math.abs(z)>s&&n(h,P,p++);break;case"Q":if(!f)throw new Error(a);var L=[y,g],B=[x+_[0],T+_[1]],F=[x+_[2],T+_[3]];P=[L,[L[0]+2/3*(B[0]-L[0]),L[1]+2/3*(B[1]-L[1])],[F[0]+2/3*(B[0]-F[0]),F[1]+2/3*(B[1]-F[1])],F],c=void 0,d=B,y=P[3][0],g=P[3][1],r(P)||n(h,P,p++);break;case"T":if(!f)throw new Error(a);var R=void 0,D=void 0;d?(R=y-d[0]+y,D=g-d[1]+g):(R=y,D=g);var j=[y,g],q=[R,D],H=[x+_[0],T+_[1]];P=[j,[j[0]+2/3*(q[0]-j[0]),j[1]+2/3*(q[1]-j[1])],[H[0]+2/3*(q[0]-H[0]),H[1]+2/3*(q[1]-H[1])],H],c=void 0,d=q,y=P[3][0],g=P[3][1],r(P)||n(h,P,p++);break;case"A":if(!f)throw new Error(a);c=void 0,d=void 0,n(h,P,p++);break;case"Z":if(!f)throw new Error(a);var V=(m[0]+x-y)/3,G=(m[1]+T-g)/3;P=[[y,g],[y+1*V,g+1*G],[y+2*V,g+2*G],[y+3*V,g+3*G]],c=void 0,d=void 0,y=P[3][0],g=P[3][1],t([V,G])||n(h,P,p++);break;default:throw new Error("Invalid SVG - command not recognized.")}}return h.length&&(v.push(h),h=[]),v}function a(e){var t=e.getAsArray().map(function(e){return e.item});return f.getPathStrFromBeziers(t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=t,n="",a=!0,i=!1,o=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var s=u.value;s===e[0]&&(n="M "+s[0][0].toFixed(r)+" "+s[0][1].toFixed(r)+"\n"),n+="C "+s[1][0].toFixed(r)+" "+s[1][1].toFixed(r)+" "+s[2][0].toFixed(r)+" "+s[2][1].toFixed(r)+" "+s[3][0].toFixed(r)+" "+s[3][1].toFixed(r)+" \n"}}catch(e){i=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(i)throw o}}return n}Object.defineProperty(r,"__esModule",{value:!0});var o=e("flo-vector2d"),u=e("../geometry/classes/path-curve"),l=e("./path-data-polyfill/path-data-polyfill"),s=1e-6,f={getBeziersFromSvgElem:n,getPathStrFromBezierLoop:a,getPathStrFromBeziers:i};r.default=f},{"../geometry/classes/path-curve":8,"./path-data-polyfill/path-data-polyfill":38,"flo-vector2d":56}],40:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){var t=Y(e,2),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=i[0],u=i[1],l=(o-n)/3,s=(u-a)/3;return[[n,a],[n+l,a+s],[n+2*l,a+2*s],[o,u]]}function i(e,t){function r(e){return 0===e?[i,o]:1===e?[l,s]:[f(e),c(e)]}var n=Y(e,4),a=Y(n[0],2),i=a[0],o=a[1],u=Y(n[3],2),l=u[0],s=u[1],f=m(e),c=y(e);return void 0===t?r:r(t)}function o(e,t){function r(e){var t=n(e),r=a(e),u=i(e);return(t*o(e)-r*u)/Math.sqrt(Math.pow(t*t+r*r,3))}var n=g(e),a=b(e),i=w(e),o=_(e);return void 0===t?r:r(t)}function u(e,t){function r(e){var t=n(e),r=a(e),u=i(e);return(t*o(e)-r*u)/(t*t+r*r)}var n=g(e),a=b(e),i=w(e),o=_(e);return void 0===t?r:r(t)}function l(e,t){function r(e){var t=e*e,r=1-e,n=t*h,a=t*p,u=2*e-3*t,f=(3*e-1)*r,v=r*r,m=3*(n+u*c-f*l-v*i),y=3*(a+u*d-f*s-v*o),g=6*(e*p-(3*e-1)*d+(3*e-2)*s+r*o),b=Math.sqrt(m*m+y*y);return 4*(m*(p-3*d+3*s-o)-y*(h-3*c+3*l-i))*Math.pow(b,3)-(m*g-a*y)*(2*g*y+2*a*m)*b}var n=Y(e,4),a=Y(n[0],2),i=a[0],o=a[1],u=Y(n[1],2),l=u[0],s=u[1],f=Y(n[2],2),c=f[0],d=f[1],v=Y(n[3],2),h=v[0],p=v[1];return void 0===t?r:r(t)}function s(e,t){function r(e){var t=n(e),r=a(e),i=Math.sqrt(t*t+r*r);return[t/i,r/i]}var n=g(e),a=b(e);return void 0===t?r:r(t)}function f(e,t){function r(e){var t=n(e);return[t[1],-t[0]]}var n=s(e);return void 0===t?r:r(t)}function c(e,t){function r(t){return Z.default(u(e),t)}s(e);return void 0===t?r:r(t)}function d(e,t){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1];return Z.default(function(t){return Math.abs(u(e)(t))},t)}return void 0===t?r:r(t)}function v(e,t){function r(t){if(e[0]===e[1])return 0;var r=Y(t,4),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2),u=o[0],l=o[1],s=Y(r[2],2),f=s[0],c=s[1],d=Y(r[3],2),v=d[0],h=d[1];if(a===u&&u===f&&f===v&&i===l&&l===c&&c===h)return 0;var m=p(t);return Z.default(m,e)}return void 0===t?r:r(t)}function h(e,t){function r(e){return U.default.brent(function(t){return n(t)-e},0,1)}var n=function(t){return v([0,t],e)};return void 0===t?r:r(t)}function p(e,t){function r(e){var t=n(e),r=a(e);return Math.sqrt(t*t+r*r)}var n=g(e),a=b(e);return void 0===t?r:r(t)}function m(e,t){function r(t){return 0===t?e[0][0]:1===t?e[3][0]:a(t)}var n=te(e),a=U.default.evaluate(n);return void 0===t?r:r(t)}function y(e,t){function r(t){return 0===t?e[0][1]:1===t?e[3][1]:a(t)}var n=re(e),a=U.default.evaluate(n);return void 0===t?r:r(t)}function g(e,t){var r=ne(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function b(e,t){var r=ae(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function w(e,t){var r=ie(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function _(e,t){var r=oe(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function I(e,t){var r=ue(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function x(e,t){var r=le(e),n=U.default.evaluate(r);return void 0===t?n:n(t)}function T(e,t,r){var n=Q.default.transform(e[0],function(e){return-e}),a=Q.default.translateThenRotatePs(n,-t,r,e);return de(a)}function M(e){return function(t,r){if(t===r){var n=i(e,t);return[n,n,n,n]}return P(O(e,t),(r-t)/(1-t))}}function P(e,t){var r=Y(e,4),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2),u=o[0],l=o[1],s=Y(r[2],2),f=s[0],c=s[1],d=Y(r[3],2),v=d[0],h=d[1],p=1-t,m=t*t,y=m*t,g=p*p,b=g*p;return[[a,i],[t*u+p*a,t*l+p*i],[m*f+2*p*t*u+g*a,m*c+2*p*t*l+g*i],[y*v+3*p*m*f+3*g*t*u+b*a,y*h+3*p*m*c+3*g*t*l+b*i]]}function O(e,t){var r=Y(e,4),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2),u=o[0],l=o[1],s=Y(r[2],2),f=s[0],c=s[1],d=Y(r[3],2),v=d[0],h=d[1],p=1-t,m=t*t,y=m*t,g=p*p,b=g*p;return[[y*v+3*p*m*f+3*g*t*u+b*a,y*h+3*p*m*c+3*g*t*l+b*i],[m*v+2*t*p*f+g*u,m*h+2*t*p*c+g*l],[t*v+p*f,t*h+p*c],[v,h]]}function N(e,t){var r=Y(e,4),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2),u=o[0],l=o[1],s=Y(r[2],2),f=s[0],c=s[1],d=Y(r[3],2),v=d[0],h=d[1],p=1-t,m=t*t,y=m*t,g=p*p,b=g*p,w=[[a,i],[t*u+p*a,t*l+p*i],[m*f+2*p*t*u+g*a,m*c+2*p*t*l+g*i],[y*v+3*p*m*f+3*g*t*u+b*a,y*h+3*p*m*c+3*g*t*l+b*i]];return[w,[w[3],[m*v+2*t*p*f+g*u,m*h+2*t*p*c+g*l],[t*v+p*f,t*h+p*c],[v,h]]]}function S(e,t){return e.map(function(e){return[e[0]*t,e[1]*t]})}function C(e,t){var r=Y(t,2),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2),u=o[0],l=o[1],s=u-a,f=l-i;if(0===s&&0===f)return[];e=$([-a,-i],e);var c=Math.sqrt(s*s+f*f);return e=J(-f/c,s/c,e),U.default.allRoots(re(e),0,1)}function E(e,t){return e=e.map(function(e){return[e[0],e[1]-t]}),U.default.allRoots(re(e),0,1)}function k(e,t){return e=e.map(function(e){return[e[0]-t,e[1]]}),U.default.allRoots(te(e),0,1)}function A(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=i[0],u=i[1],l=Y(t[2],2),s=l[0],f=l[1],c=Y(t[3],2),d=c[0],v=c[1];return[[.95*n+.15*o+-.15*s+.05*d,.95*a+.15*u+-.15*f+.05*v],[-.25*n+.75*o+.75*s+-.25*d,-.25*a+.75*u+.75*f+-.25*v],[.05*n+-.15*o+.15*s+.95*d,.05*a+-.15*u+.15*f+.95*v]]}function z(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=i[0],u=i[1],l=Y(t[2],2),s=l[0],f=l[1],c=Y(t[3],2),d=c[0],v=c[1];return[[n,a],[[(3*o-n)/2,(3*u-a)/2],[(3*s-d)/2,(3*f-v)/2]],[d,v]]}function L(e,t,r){var n=e[0],a=(e[1],e[2]);return R([n,B(e[1],r),a],t)}function B(e,t){var r=Y(e,2),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2);return[a*(1-t)+o[0]*t,i*(1-t)+o[1]*t]}function F(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=i[0],u=i[1],l=Y(t[2],2),s=l[0],f=l[1],c=Y(t[3],2);return[[n,a],[o,u],[s,f],[c[0],c[1]]]}function R(e,t){var r=Y(e,3),n=Y(r[0],2),a=n[0],i=n[1],o=Y(r[1],2),u=o[0],l=o[1],s=Y(r[2],2),f=s[0],c=s[1];return[a*Math.pow(1-t,2)+2*u*(1-t)*t+f*Math.pow(t,2),i*Math.pow(1-t,2)+2*l*(1-t)*t+c*Math.pow(t,2)]}function D(e){var t=Y(e,3),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=i[0],u=i[1],l=Y(t[2],2),s=l[0],f=l[1];return[[n,a],[1/3*n+2/3*o,1/3*a+2/3*u],[2/3*o+1/3*s,2/3*u+1/3*f],[s,f]]}function j(e,t){function r(e,t,r){var n=i(e)(r),a=f(e)(0),o=Q.default.translate(n,a),u=C(t,[n,o]),l=void 0,s=void 0,c=Number.POSITIVE_INFINITY,d=!0,v=!1,h=void 0;try{for(var p,m=u[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){var y=p.value,g=i(t)(y),b=Q.default.distanceBetween(g,n);b<c&&(l=y,s=g,c=b)}}catch(e){v=!0,h=e}finally{try{!d&&m.return&&m.return()}finally{if(v)throw h}}return{pp:n,t:l,p:s,d:c}}var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6,a=Y(e,4),o=(a[0],a[1],a[2],a[3],Y(t,4)),u=(o[0],o[1],o[2],o[3],r(e,t,0)),l=(u.pp,u.t),s=(u.p,u.d),c=r(e,t,1),d=(c.pp,c.t),v=(c.p,c.d),h=r(t,e,0),p=(h.pp,h.t),m=(h.p,h.d),y=r(t,e,1),g=(y.pp,y.t),b=(y.p,y.d),w=0,_=1,I=0,x=1,T=0;if(s<=n&&(w=l,T++),v<=n&&(_=d,T++),m<=n&&(I=p,T++),b<=n&&(x=g,T++),!(T<2)){if(I>x){var M=[x,I];I=M[0],x=M[1]}if(w>_){var P=[_,w];w=P[0],_=P[1]}for(var O=x-I,N=1;N<10;N++){var S=I+O*(N/10),E=r(e,t,S);E.pp,E.t,E.p;if(E.d>n)return}return{p:[I,x],q:[w,_]}}}function q(e,t,r,a){function o(n,a,i,f,c){var v=0===c?1:0,h=l(a,n),p=Y(h,2);a=p[0],n=p[1];var m=n,y=Y(m,4),g=y[0],b=(y[1],y[2],y[3]),w=a,_=Y(w,4),I=(_[0],_[1],_[2],_[3],V([g,b])),x=function(e){return I(n[e])},T=[1,2].map(x),P=Y(T,2),O=P[0],N=P[1],S=O*N>0?.75:4/9,C=S*Math.min(0,O,N),E=S*Math.max(0,O,N),k=u(a,I,C,E),A=k.tMin,z=k.tMax;if(A!==Number.POSITIVE_INFINITY){if(z-A>.7){var L=f[1]-f[0],B=i[1]-i[0];if(void 0!==j(a,n))return;if(L<=B){v=c;var F=[n,a];a=F[0],n=F[1];var R=[i,f];f=R[0],i=R[1]}var D=f[1]-f[0],q=f[0],H=q+D/2,G=H,U=f[1],Q=M(a)(0,.5),K=M(a)(.5,1);return o(Q,n,[q,H],i,v),void o(K,n,[G,U],i,v)}var Z=f[1]-f[0],X=A*Z+f[0],W=z*Z+f[0];if(a=M(a)(A,z),Math.abs(W-X)<r){var J=(W+X)/2,$=0===c?[e,t]:[t,e],ee=s(J,$[0],$[1]);if(void 0===ee)return;var te=0===c?[ee,J]:[J,ee];return void d.push(te)}o(a,n,[X,W],i,v)}}function u(e,t,r,a){var i=function(r){return t(e[r])},o=[0,1,2,3].map(i),u=Y(o,4),l=(u[0],u[1],u[2],u[3],z(e)),s=t(l[0]),f=t(l[2]),c=t(l[1][0]),d=t(l[1][1]),v=Math.min(c,d),h=Math.max(c,d),p=[s-2*v+f,-2*s+2*v,s],m=[s-2*h+f,-2*s+2*h,s],y=2*Math.max(U.default.hornerErrorBound(p,1),U.default.hornerErrorBound(m,1));r-=y,a+=y;var g=p.slice();g[2]=g[2]-r;var b=p.slice();b[2]=b[2]-a;var w=m.slice();w[2]=w[2]-r;var _=m.slice();_[2]=_[2]-a;var I=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,T=U.default.allRoots(g,0,1),M=U.default.allRoots(b,0,1),P=U.default.allRoots(w,0,1),O=U.default.allRoots(_,0,1);return I=Math.min.apply(Math,n(T).concat(n(M),n(P),n(O))),x=Math.max.apply(Math,n(T).concat(n(M),n(P),n(O))),s>=r&&s<=a&&(I=0),f>=r&&f<=a&&(x=1),I<0&&(I=0),x>1&&(x=1),{tMin:I,tMax:x}}function l(e,t){var r=e,n=Y(r,4),a=n[0],i=n[1],o=n[2],u=n[3],l=t,s=Y(l,4),c=s[0],d=s[1],v=s[2],h=s[3],p=f(a,i)+f(i,o)+f(o,u),m=f(c,d)+f(d,v)+f(v,h),y=void 0,g=void 0;return m<p?(y=(c[0]+d[0]+v[0]+h[0])/4,g=(c[1]+d[1]+v[1]+h[1])/4):(y=(a[0]+i[0]+o[0]+u[0])/4,g=(a[1]+i[1]+o[1]+u[1])/4),e=e.map(function(e){return[e[0]-y,e[1]-g]}),t=t.map(function(e){return[e[0]-y,e[1]-g]}),[e,t]}function s(e,t,r){var a=i(t)(e),o=Y(a,2),u=o[0],l=o[1],s=E(r,l),c=k(r,u);if(s.length||c.length){var d=[].concat(n(s),n(c)),v=void 0,h=Number.POSITIVE_INFINITY,p=!0,m=!1,y=void 0;try{for(var g,b=d[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){var w=g.value,_=i(r)(w),I=f(a,_);I<h&&(h=I,v=w)}}catch(e){m=!0,y=e}finally{try{!p&&b.return&&b.return()}finally{if(m)throw y}}return v}}var f=(Q.default.distanceBetween,Q.default.squaredDistanceBetween),c=24*Number.EPSILON;void 0===r&&(r=0),r=Math.max(r,c),void 0===a&&(a=1e-6),a=Math.max(a,1e-6);var d=[];return o(e,t,[0,1],[0,1],1),d}function H(e){var t=Y(e,2),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=i[0],u=i[1];return[a-u,o-n,n*u-o*a]}function V(e){var t=H(e),r=Y(t,3),n=r[0],a=r[1],i=r[2];return function(e){return n*e[0]+a*e[1]+i}}function G(e){return e.slice().reverse()}var Y=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var U=e("flo-poly"),Q=e("flo-vector2d"),K=e("flo-memoize"),Z=e("flo-gauss-quadrature"),X=e("flo-graham-scan"),W=Q.default,J=W.rotatePs,$=W.translatePs,ee=K.default.m1,te=ee(function(e){var t=Y(e,4),r=Y(t[0],1),n=r[0],a=Y(t[1],1),i=a[0],o=Y(t[2],1),u=o[0];return[Y(t[3],1)[0]-3*u+3*i-n,3*u-6*i+3*n,3*i-3*n,n]}),re=ee(function(e){var t=Y(e,4),r=Y(t[0],2),n=r[1],a=Y(t[1],2),i=a[1],o=Y(t[2],2),u=o[1];return[Y(t[3],2)[1]-3*u+3*i-n,3*u-6*i+3*n,3*i-3*n,n]}),ne=ee(function(e){return U.default.differentiate(te(e))}),ae=ee(function(e){return U.default.differentiate(re(e))}),ie=ee(function(e){return U.default.differentiate(ne(e))}),oe=ee(function(e){return U.default.differentiate(ae(e))}),ue=ee(function(e){return U.default.differentiate(ie(e))}),le=ee(function(e){return U.default.differentiate(oe(e))}),se=ee(X.default),fe=o,ce=ee(function(e){var t=Y(e,4),r=Y(t[0],2),n=r[0],a=r[1],i=Y(t[1],2),o=(i[0],i[1],Y(t[2],2)),u=(o[0],o[1],Y(t[3],2)),l=u[0],s=u[1],f=Math.sqrt((l-n)*(l-n)+(s-a)*(s-a)),c=(s-a)/f,d=(l-n)/f,v=T(e,c,d),h=Y(v,2),p=Y(h[0],2),m=p[0],y=p[1],g=Y(h[1],2),b=g[0],w=g[1],_=[v[0],[b,y],v[1],[m,w]];return Q.default.rotateThenTranslatePs(c,d,e[0],_)}),de=ee(function(e){return ve(e).box}),ve=ee(function(e){var t=[ne(e),ae(e)].map(function(e){return U.default.allRoots(e,0,1)});t[0].push(0,1),t[1].push(0,1);for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=void 0,u=void 0,l=void 0,s=void 0,f=0;f<t[0].length;f++){var c=t[0][f],d=m(e,c);d<r&&(r=d,o=c),d>n&&(n=d,l=c)}for(var v=0;v<t[1].length;v++){var h=t[1][v],p=y(e,h);p<a&&(a=p,u=h),p>i&&(i=p,s=h)}return{ts:[[o,u],[l,s]],box:[[r,a],[n,i]]}}),he={rotate:J,getX:te,getY:re,getDx:ne,getDy:ae,getDdx:ie,getDdy:oe,getDddx:ue,getDddy:le,getBounds:ve,bezier3Intersection:q,lineIntersection:C,tsAtX:k,tsAtY:E,getBoundingHull:se,fromLine:a,translate:$,evaluate:i,"κ":o,"dκMod":l,curvature:fe,tangent:s,normal:f,totalCurvature:c,totalAbsoluteCurvature:d,len:v,getTAtLength:h,evaluateX:m,evaluateY:y,evaluateDx:g,evaluateDy:b,evaluateDdx:w,evaluateDdy:_,evaluateDddx:I,evaluateDddy:x,getBoundingBoxTight:ce,getBoundingBox:de,fromTo:M,splitAt:N,scale:S,toCubic:D,toQuadratic:A,toHybridQuadratic:z,evaluateHybridQuadratic:L,evaluateQuadratic:R,evaluateLinear:B,coincident:j,from0ToT:P,fromTTo1:O,clone:F,reverse:G};r.default=he},{"flo-gauss-quadrature":41,"flo-graham-scan":42,"flo-memoize":47,"flo-poly":48,"flo-vector2d":56}],41:[function(e,t,r){"use strict";function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;if(t[0]===t[1])return 0;for(var n=i[r],o=n.weights,u=n.abscissas,l=a(t,2),s=l[0],f=l[1],c=0,d=(f-s)/2,v=(f+s)/2,h=0;h<=r-1;h++)c+=o[h]*e(d*u[h]+v);return d*c}var a=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var i={2:{weights:[1,1],abscissas:[-.5773502691896257,.5773502691896257]},4:{weights:[.6521451548625461,.6521451548625461,.3478548451374538,.3478548451374538],abscissas:[-.3399810435848563,.3399810435848563,-.8611363115940526,.8611363115940526]},8:{weights:[.362683783378362,.362683783378362,.3137066458778873,.3137066458778873,.2223810344533745,.2223810344533745,.1012285362903763,.1012285362903763],abscissas:[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363]},16:{abscissas:[-.9894009349916499,-.9445750230732326,-.8656312023878318,-.755404408355003,-.6178762444026438,-.45801677765722737,-.2816035507792589,-.09501250983763744,.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],weights:[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685,.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]}};r.default=n},{}],42:[function(t,r,n){(function(a){!function(t){if("object"==typeof n&&void 0!==r)r.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:this,i.FloGrahamScan=t()}}(function(){var e;return function e(r,n,a){function i(u,l){if(!n[u]){if(!r[u]){var s="function"==typeof t&&t;if(!l&&s)return s(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[u]={exports:{}};r[u][0].call(c.exports,function(e){var t=r[u][1][e];return i(t||e)},c,c.exports,e,r,n,a)}return n[u].exports}for(var o="function"==typeof t&&t,u=0;u<a.length;u++)i(a[u]);return i}({1:[function(e,t,r){"use strict";function n(e,t){for(var r=[],n=0;n<e.length;n++)r.push(n);r.sort(function(r,n){var a=t(e[r],e[n]);return 0!==a?a:r-n});for(var a=[],i=0;i<e.length;i++)a.push(e[r[i]]);return a}function a(e,t,r){if(t!==r){var n=e[t];e[t]=e[r],e[r]=n}}function i(e){for(var t=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],r=void 0,n=0;n<e.length;n++){var a=e[n][1];(a<t[1]||a===t[1]&&e[n][0]<t[0])&&(r=n,t=e[n])}return r}function o(e,t,r){r=void 0===r?s:r;var o=e.slice(),f=o.length,c=i(o),d=o.splice(c,1),v=u(d,1),h=v[0];o=n(o,function(e,t){var n=l.cross(l.fromTo(h,t),l.fromTo(h,e));return 0!==(n=Math.abs(n)<r?0:n)?n:(n=e[1]-t[1],n=Math.abs(n)<r?0:n,0!==n?n:e[0]-t[0])}),o.unshift(h);for(var p=1,m=2;m<f;m++){for(;function(e,n,a){var i=l.ccw(e,n,a,r);return t?i<0:i<=0}(o[p-1],o[p],o[m]);)if(p>1)p-=1;else{if(m===f-1){p-=1;break}m+=1}p+=1,a(o,p,m)}return o.slice(0,p+1)}var u=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=e("flo-vector2d"),s=1e-10;t.exports=o},{"flo-vector2d":2}],2:[function(t,r,n){(function(a){!function(t){if("object"==typeof n&&void 0!==r)r.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:this,i.FloVector2d=t()}}(function(){return function e(r,n,a){function i(u,l){if(!n[u]){if(!r[u]){var s="function"==typeof t&&t;if(!l&&s)return s(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[u]={exports:{}};r[u][0].call(c.exports,function(e){var t=r[u][1][e];return i(t||e)},c,c.exports,e,r,n,a)}return n[u].exports}for(var o="function"==typeof t&&t,u=0;u<a.length;u++)i(a[u]);return i}({1:[function(e,t,r){"use strict";function n(e,t){return e[0]*t[0]+e[1]*t[1]}function a(e,t){return e[0]*t[1]-e[1]*t[0]}function i(e,t,r,n){n=void 0===n?j:n;var a=(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0]);return Math.abs(a)<=n?0:a}function o(e,t,r){r=void 0===r?j:r;var n=D(e,2),a=n[0],i=n[1],o=D(t,2),u=o[0],l=o[1],s=(i[0]-a[0])*(l[1]-u[1])-(i[1]-a[1])*(l[0]-u[0]),f=(a[1]-u[1])*(l[0]-u[0])-(a[0]-u[0])*(l[1]-u[1]),c=(a[1]-u[1])*(i[0]-a[0])-(a[0]-u[0])*(i[1]-a[1]);if(Math.abs(s)<=r)return void Math.abs(f);var d=f/s,v=c/s;return 0<=d&&d<=1&&0<=v&&v<=1?[a[0]+d*(i[0]-a[0]),a[1]+d*(i[1]-a[1])]:void 0}function u(e,t){return!(i(e[0],e[1],t[0])*i(e[0],e[1],t[1])>0)&&!(i(t[0],t[1],e[0])*i(t[0],t[1],e[1])>0)}function l(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function s(e,t){return[e[0]*t,e[1]*t]}function f(e){return[-e[0],-e[1]]}function c(e){var t=1/y(e);return[e[0]*t,e[1]*t]}function d(e,t){var r=t/t(e);return[e[0]*r,e[1]*r]}function v(e,t){return[t[0]-e[0],t[1]-e[1]]}function h(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function p(e){var t=e[0],r=e[1];return[(t[0]+r[0])/2,(t[1]+r[1])/2]}function m(e,t){return Math.sqrt(l(e,t))}function y(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function g(e){return e[0]*e[0]+e[1]*e[1]}function b(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])}function w(e){return Math.abs(e[0])+Math.abs(e[1])}function _(e,t){var r=e[0],n=e[1],a=t[0][0],i=t[0][1],o=t[1][0],u=t[1][1],l=u-i,s=o-a,f=l*r-s*n+o*i-u*a,c=Math.sqrt(l*l+s*s);return Math.abs(f/c)}function I(e,t){var r=t[0],n=t[1],a=l(r,n);if(0==a)return l(e,r);var i=((e[0]-r[0])*(n[0]-r[0])+(e[1]-r[1])*(n[1]-r[1]))/a;return i=Math.max(0,Math.min(1,i)),l(e,[r[0]+i*(n[0]-r[0]),r[1]+i*(n[1]-r[1])])}function x(e){var t=e[0],r=e[1],n=e[2],a=.5*P([squaredNorm(t),t[1],1],[squaredNorm(r),r[1],1],[squaredNorm(n),n[1],1]),i=.5*P([t[0],squaredNorm(t),1],[r[0],squaredNorm(r),1],[n[0],squaredNorm(n),1]),o=P([t[0],t[1],1],[r[0],r[1],1],[n[0],n[1],1]);P([t[0],t[1],squaredNorm(t)],[r[0],r[1],squaredNorm(r)],[n[0],n[1],squaredNorm(n)]);return[a/o,i/o]}function T(e){var t=e[0],r=e[1],n=e[2],a=m(r,n),i=m(t,n),o=m(t,r),u=a+i+o;return[(a*t[0]+i*r[0]+o*n[0])/u,(a*t[1]+i*r[1]+o*n[1])/u]}function M(e){if(3===e.length){var t=e[0],r=e[1],n=e[2];return[(t[0]+r[0]+n[0])/3,(t[1]+r[1]+n[1])/3]}for(var a=0,i=0;i<e.length;i++){var o=e[i],u=i===e.length-1?e[0]:e[i+1];a+=o[0]*u[1]-u[0]*o[1]}a/=2;for(var l=[0,0],s=0;s<e.length;s++){var f=e[s],c=s===e.length-1?e[0]:e[s+1];l[0]=l[0]+(f[0]+c[0])*(f[0]*c[1]-c[0]*f[1]),l[1]=l[1]+(f[1]+c[1])*(f[0]*c[1]-c[0]*f[1])}return[l[0]/(6*a),l[1]/(6*a)]}function P(e,t,r){return e[0]*(t[1]*r[2]-t[2]*r[1])-e[1]*(t[0]*r[2]-t[2]*r[0])+e[2]*(t[0]*r[1]-t[1]*r[0])}function O(e,t){return[e[0]+t[0],e[1]+t[1]]}function N(e,t){return e[0]===t[0]&&e[1]===t[1]}function S(e,t,r){return[e[0]*r-e[1]*t,e[0]*t+e[1]*r]}function C(e,t,r){return[+e[0]*r+e[1]*t,-e[0]*t+e[1]*r]}function E(e){return[-e[1],e[0]]}function k(e){return[e[1],-e[0]]}function A(e,t){return[t(e[0]),t(e[1])]}function z(e,t,r){r=void 0===r?l:r;for(var n=void 0,a=Number.POSITIVE_INFINITY,i=0;i<t.length;i++){var o=t[i],u=r(e,o);u<a&&(n=o,a=u)}return n}function L(e,t){for(var r=[],n=0;n<e.length;n++)r.push([e[n][0]+t[0],e[n][1]+t[1]]);return r}function B(e,t,r){return e.map(function(e){return S(e,t,r)})}function F(e,t,r,n){return e.map(function(e){return S(O(e,t),r,n)})}function R(e,t,r,n){return e.map(function(e){return O(S(e,r,n),t)})}var D=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=1e-10,q={dot:n,cross:a,ccw:i,segSegIntersection:o,doesSegSegIntersect:u,squaredDistanceBetween:l,scale:s,reverse:f,toUnitVector:c,toLength:d,fromTo:v,interpolate:h,mean:p,distanceBetween:m,length:y,lengthSquared:g,manhattanDistanceBetween:b,manhattanLength:w,distanceBetweenPointAndLine:_,squaredDistanceBetweenPointAndLineSegment:I,circumCenter:x,inCenter:T,centroid:M,equal:N,rotate:S,reverseRotate:C,rotateBy90Degrees:E,rotateByNeg90Degrees:k,transform:A,getClosestTo:z,translatePoints:L,rotatePoints:B,translateThenRotatePoints:F,rotateThenTranslatePoints:R};t.exports=q},{}]},{},[1])(1)})}).call(this,void 0!==a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"flo-vector2d":56}],43:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return e&&e.color===p.default.RED}function i(e,t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}function o(e,t){var r=e?m.default.LEFT:m.default.RIGHT,n=t[r];return t[r]=n[e],n[e]&&(n[e].parent=t),n[e]=t,t.parent=n,n.color=t.color,t.color=p.default.RED,n}function u(e){return e[m.default.LEFT]?(a(e[m.default.LEFT])||a(e[m.default.LEFT][m.default.LEFT])||(e=f(e)),e[m.default.LEFT]=u(e[m.default.LEFT]),e[m.default.LEFT]&&(e[m.default.LEFT].parent=e),d(e)):null}function l(e){return e===p.default.RED?p.default.BLACK:p.default.RED}function s(e){e.color=l(e.color),e[m.default.LEFT].color=l(e[m.default.LEFT].color),e[m.default.RIGHT].color=l(e[m.default.RIGHT].color)}function f(e){if(s(e),a(e[m.default.RIGHT][m.default.LEFT])){var t=o(m.default.RIGHT,e[m.default.RIGHT]);e[m.default.RIGHT]=t,t.parent=e,e=o(m.default.LEFT,e),s(e)}return e}function c(e){return s(e),a(e[m.default.LEFT][m.default.LEFT])&&(e=o(m.default.RIGHT,e),s(e)),e}function d(e){return a(e[m.default.RIGHT])&&(e=o(m.default.LEFT,e)),a(e[m.default.LEFT])&&a(e[m.default.LEFT][m.default.LEFT])&&(e=o(m.default.RIGHT,e)),a(e[m.default.LEFT])&&a(e[m.default.RIGHT])&&s(e),e}var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var h=e("./src/tree-node"),p=e("./src/tree-node-color"),m=e("./src/tree-node-direction"),y=function(){function e(t,r,a){n(this,e),this.getMinNode=this.getMinOrMaxNode(m.default.LEFT),this.getMaxNode=this.getMinOrMaxNode(m.default.RIGHT);var i=this;if(i.setComparator(t,a),i.replaceDups=a,i.root=null,r){var o=!0,u=!1,l=void 0;try{for(var s,f=r[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var c=s.value;i.insert(c)}}catch(e){u=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(u)throw l}}}}return v(e,[{key:"setComparator",value:function(e,t){this.compare=t?e:function(t,r){return e(t,r[0])}}},{key:"isEmpty",value:function(){return!this.root}},{key:"find",value:function(e){for(var t=this,r=this.root;r;){var n=t.compare(e,r.data);if(0===n)return r;r=r[n>0?m.default.RIGHT:m.default.LEFT]}return null}},{key:"toArrayInOrder",value:function(){function e(r){r&&(e(r[m.default.LEFT]),t.push(r),e(r[m.default.RIGHT]))}var t=[];return e(this.root),t}},{key:"insert",value:function(e){function t(e,n){if(!e)return new h.default(n,!r.replaceDups);var i=r.compare(n,e.data);if(0===i)r.replaceDups?e.data=n:e.data.push(n);else{var u=i>0?m.default.RIGHT:m.default.LEFT;e[u]=t(e[u],n),e[u].parent=e}return a(e[m.default.RIGHT])&&!a(e[m.default.LEFT])&&(e=o(m.default.LEFT,e)),a(e[m.default.LEFT])&&a(e[m.default.LEFT][m.default.LEFT])&&(e=o(m.default.RIGHT,e)),a(e[m.default.LEFT])&&a(e[m.default.RIGHT])&&s(e),e}var r=this;r.root=t(r.root,e),r.root.color=p.default.BLACK,r.root.parent=void 0}},{key:"remove",value:function(e,t){function r(e,l){var s=n.compare(l,e.data);return!n.replaceDups&&0===s&&!t&&e.data.length>1?(i(l,e.data),e):s<0&&!e[m.default.LEFT]||s>0&&!e[m.default.RIGHT]?e:s<0?(a(e[m.default.LEFT])||a(e[m.default.LEFT][m.default.LEFT])||(e=f(e)),e[m.default.LEFT]=r(e[m.default.LEFT],l),e[m.default.LEFT]&&(e[m.default.LEFT].parent=e),d(e)):a(e[m.default.LEFT])&&(e=o(m.default.RIGHT,e),s=n.compare(l,e.data),!n.replaceDups&&0===s&&!t&&e.data.length>1)?(i(l,e.data),e):0!==s||e[m.default.RIGHT]?a(e[m.default.RIGHT])||a(e[m.default.RIGHT][m.default.LEFT])||(e=c(e),s=n.compare(l,e.data),n.replaceDups||0!==s||t||!(e.data.length>1))?(0===s?(e.data=n.min(e[m.default.RIGHT]),e[m.default.RIGHT]=u(e[m.default.RIGHT])):e[m.default.RIGHT]=r(e[m.default.RIGHT],l),e[m.default.RIGHT]&&(e[m.default.RIGHT].parent=e),d(e)):(i(l,e.data),e):null}var n=this;n.root=r(n.root,e),n.root&&(n.root.color=p.default.BLACK,n.root.parent=void 0)}},{key:"findBounds",value:function(e){var t=this,r=t.root,n=[void 0,void 0];if(null===r)return n;for(;r;){var a=t.compare(e,r.data);a>=0?n[0]=r:n[1]=r,r=r[a>=0?m.default.RIGHT:m.default.LEFT]}return n}},{key:"findBoundsExcl",value:function(e){function t(n){for(;n;){var i=r.compare(e,n.data);if(0===i)return t(n[m.default.LEFT]),void t(n[m.default.RIGHT]);i>0?a[0]=n:i<0&&(a[1]=n),n=n[i>0?m.default.RIGHT:m.default.LEFT]}}var r=this,n=r.root,a=[void 0,void 0];return null===n?a:(t(n),a)}},{key:"findAllInOrder",value:function(e){function t(a){for(;a;){var i=r.compare(e,a.data);if(0===i)return t(a[m.default.LEFT]),n.push(a),void t(a[m.default.RIGHT]);a=a[i>0?m.default.RIGHT:m.default.LEFT]}}var r=this,n=[];return t(r.root),n}},{key:"getMinOrMaxNode",value:function(e){return function(t){if(t){for(;t[e];)t=t[e];return t}}}},{key:"min",value:function(e){return this.getMinNode(e).data}},{key:"max",value:function(e){return this.getMaxNode(e).data}}]),e}();r.default=y},{"./src/tree-node":46,"./src/tree-node-color":44,"./src/tree-node-direction":45}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n;!function(e){e[e.BLACK=0]="BLACK",e[e.RED=1]="RED"}(n||(n={})),r.default=n},{}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(n||(n={})),r.default=n},{}],46:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./tree-node-color"),i=function e(t,r){n(this,e),this.data=r?[t]:t,this.color=a.default.RED};r.default=i},{"./tree-node-color":44}],47:[function(e,t,r){"use strict";function n(e){if(!a)return e;var t=new WeakMap;return function(r){var n=t.get(r);return void 0!==n?n:(n=e(r),t.set(r,n),n)}}Object.defineProperty(r,"__esModule",{value:!0});var a="function"==typeof WeakMap,i={m1:n};r.default=i},{}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./src/core-operators"),a=e("./src/root-operators"),i=e("./src/root-bounds"),o=e("./src/all-roots-recursive"),u=e("./src/random"),l=e("./src/error-analysis"),s=e("./src/from-roots"),f=(n.default.multiply,Object.assign({},n.default,a.default,i.default,l.default,{random:u.default,fromRoots:s.default,allRoots:o.default}));r.default=f},{"./src/all-roots-recursive":49,"./src/core-operators":50,"./src/error-analysis":51,"./src/from-roots":52,"./src/random":53,"./src/root-bounds":54,"./src/root-operators":55}],49:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-b,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+b;e=f(e);var o=e.length-1,u=a(t,r);if(2===o)return p(e).filter(u);if(o>2){var l=void 0,s=void 0;t===-b||r===+b?(l=t===-b?g(e):t,s=r===+b?y(e):r):(l=t,s=r);var c=d(e),v=n(c,l,s).filter(u);return v[0]!==l&&v.unshift(l),v[v.length-1]!==s&&v.push(s),i(e,v)}return 1===o?[-e[1]/e[0]].filter(u):[]}function a(e,t){return function(r){return r>=e&&r<=t}}function i(e,t){for(var r=[],n=c(e),a=void 0,i=t[0],o=1;o<t.length;o++){var u=void 0,l=t[o],s=n(i),f=n(l);0===s*f?0===s?u=i:0===f&&o===t.length-1&&(u=l):s*f<0&&(u=h(n,i,l)),void 0!==u&&u!==a&&(r.push(u),a=u),i=l}return r}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./core-operators"),u=e("./root-operators"),l=e("./root-bounds"),s=o.default,f=s.clip0,c=s.evaluate,d=s.differentiate,v=(s.toCasStr,u.default),h=v.brent,p=v.quadraticRoots,m=l.default,y=(m.rootMagnitudeUpperBound_fujiwara,m.positiveRootUpperBound_LMQ),g=(m.positiveRootLowerBound_LMQ,m.negativeRootUpperBound_LMQ,m.negativeRootLowerBound_LMQ),b=Number.POSITIVE_INFINITY;r.default=n},{"./core-operators":50,"./root-bounds":54,"./root-operators":55}],50:[function(e,t,r){"use strict";function n(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function a(e,t){var r=e.length-1,n=t.length-1,a=r-n,i=0,o=0;a>0?o=-a:a<0&&(i=+a);for(var u=Math.max(r,n),l=[],s=0;s<u+1;s++){var f=e[s+i],c=t[s+o];l.push((f||0)+(c||0))}return w(l)}function i(e,t){var r=e.length-1,n=t.length-1,a=r-n,i=0,o=0;a>0?o=-a:a<0&&(i=+a);for(var u=Math.max(r,n),l=[],s=0;s<u+1;s++){var f=e[s+i],c=t[s+o];l.push((f||0)-(c||0))}return w(l)}function o(e){return s(-1,e)}function u(e){for(var t=[],r=e.length-1,n=0;n<r;n++)t.push((r-n)*e[n]);return t}function l(e,t){for(var r=e.length-1,n=t.length-1,a=r+n,i=new Array(a+1).fill(0),o=0;o<r+1;o++)for(var u=0;u<n+1;u++)i[a-(o+u)]+=e[r-o]*t[n-u];return w(i)}function s(e,t){if(0===e)return[];for(var r=t.length-1,n=[],a=0;a<r+1;a++)n.push(e*t[a]);return w(n)}function f(e){return e.length-1}function c(e,t){function r(t){for(var r=e[0],n=1;n<e.length;n++)r=e[n]+r*t;return r}return void 0===t?r:r(t)}function d(e){return e[e.length-1]}function v(e){for(var t=e.length-1,r=0,n=Math.sign(e[0]),a=1;a<t+1;a++){var i=Math.sign(e[a]);i!==n&&0!==i&&(r++,n=i)}return r}function h(e,t){for(var r=e.length-1,n=[e[0]],a=1;a<r;a++)n.push(e[a]+t*n[a-1]);return n}function p(e){return e.slice().reverse()}function m(e,t,r){for(var n=e.length-1,a=[],i=0;i<n+1;i++)a.push(new Array(n+1).fill(0));a[0][0]=1;for(var o=1;o<=n;o++){a[0][o]=r*a[0][o-1];for(var u=1;u<=o;u++)a[u][o]=r*a[u][o-1]+t*a[u-1][o-1]}for(var l=new Array(n+1).fill(0),s=0;s<=n;s++){l[n-s]=0;for(var f=s;f<=n;f++){var c=a[s][f]*e[n-f];l[n-s]+=c}}return l}function y(e){for(var t=e.length-1,r=e.slice(),n=0;n<t+1;n++)n%2&&(r[n]=-r[n]);return r}function g(e){var t=[];t.push(e),t.push(u(e));for(var r=1;t[r].length-1>0;){for(var n=function(e,t){var r=(e.length,t.length,e[1]/e[0]-t[1]/t[0]);return i(l(s(e[0]/t[0],t),[1,r]),e)}(t[r-1],t[r]);t[r].length-n.length<1;)n.shift();t.push(n),r++}return t}function b(e,t){t=void 0===t?Number.EPSILON:t;var r=_(e);if(0===r)return[];if(Math.abs(e[0])>t*r)return e;for(var n=e.slice(1);Math.abs(n[0])<t*r;)n=n.slice(1);return b(n,t)}function w(e){return 0!==e[0]?e:w(e.slice(1))}function _(e){for(var t=0,r=0;r<e.length;r++){var n=Math.abs(e[r]);n>t&&(t=n)}return t}function I(e){for(var t=e.length-1,r="",n=0;n<t+1;n++){var a=e[n].toString();r+=n===t?a:n===t-1?"x*"+a+" + ":"x^"+(t-n).toString()+"*"+a+" + "}return r}Object.defineProperty(r,"__esModule",{value:!0});var x={equal:n,add:a,subtract:i,multiplyByConst:s,negate:o,differentiate:u,multiply:l,degree:f,evaluate:c,evaluateAt0:d,signChanges:v,invert:p,changeVariables:m,reflectAboutYAxis:y,sturmChain:g,clip:b,clip0:w,deflate:h,maxCoefficient:_,toCasStr:I};r.default=x},{}],51:[function(e,t,r){"use strict";function n(e,t){for(var r=e.length-1,n=0,a=0;a<r;a++)n+=Math.abs(e[a]*Math.pow(t,r-a));return n}function a(e,t){var r=Number.EPSILON;return 2*(e.length-1)*r*n(e,t)}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./core-operators"),o=(i.default.evaluate,{hornerErrorBound:a});r.default=o},{"./core-operators":50}],52:[function(e,t,r){"use strict";function n(e){for(var t=[1],r=0;r<e.length;r++)t=i(t,[1,-e[r]]);return t}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./core-operators"),i=a.default.multiply;r.default=n},{"./core-operators":50}],53:[function(e,t,r){"use strict";function n(e){return function(t,r,n,a){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=[],l=0;l<t;l++){var s=e(r,n,a,i,o),c=s.p;i=s.seed,u.push(c)}return u}}function a(e){return(134775813*e+1)%c}function i(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=[],l=0;l<e;l++){n=a(n);n=o(n,u,n/c*(r-t)+t,i)}return u=u.slice(0,e),{vs:u,seed:n}}function o(e,t,r,n){return e=a(e),t.push(r),e/c<n&&(e=o(e,t,r,n)),e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=i(e,t,r,n,a);return n=o.seed,{p:s.default(o.vs),seed:n}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;t=void 0===t?-1:t,r=void 0===r?1:r,n=void 0===n?f:n;var a=i(e,t,r,n);return n=a.seed,{p:a.vs,seed:n}}Object.defineProperty(r,"__esModule",{value:!0});var s=e("./from-roots"),f=123456789,c=4294967296,d=n(u),v=n(l),h={flatRoots:u,flatRootsArr:d,flatCoefficients:l,flatCoefficientsArr:v};r.default=h},{"./from-roots":52}],54:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){return Math.max.apply(Math,n(e.map(function(e){return Math.abs(e)})))}function i(e){e.length;return 1+1/e[0]*a(e.slice(1))}function o(e){for(var t=e.length-1,r=e[0],n=[],a=1;a<t;a++){var i=Math.pow(Math.abs(e[a]/r),1/a);n.push(i)}return n.push(Math.pow(Math.abs(e[t]/2*r),1/t)),2*Math.max.apply(void 0,n)}function u(e){var t=e.length-1;if(t<1)return 0;e[0]<0&&(e=h(e));for(var r=[],n=0;n<t;n++)r.push(1);for(var a=0,i=0;i<=t;i++)if(!(e[i]>=0)){for(var o=Number.POSITIVE_INFINITY,u=!1,l=0;l<i;l++)if(!(e[l]<=0)){var s=r[l],f=void 0;f=s>20?Math.pow(2,s):m[s];var c=Math.pow(-e[i]/(e[l]/f),1/(i-l));r[l]++,o>c&&(o=c),u=!0}u&&a<o&&(a=o)}return a}function l(e){var t=u(v(e));return 0===t?0:1/t}function s(e){return-l(p(e))}function f(e){return-u(p(e))}Object.defineProperty(r,"__esModule",{value:!0});var c=e("./core-operators"),d=c.default,v=d.invert,h=d.negate,p=d.reflectAboutYAxis,m=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152],y={rootMagnitudeUpperBound_fujiwara:o,positiveRootUpperBound_LMQ:u,positiveRootLowerBound_LMQ:l,negativeRootUpperBound_LMQ:s,negativeRootLowerBound_LMQ:f,rootMagnitudeUpperBound_rouche:i};r.default=y},{"./core-operators":50}],55:[function(e,t,r){"use strict";function n(e){var t=u(e,3),r=t[0],n=t[1],a=t[2],i=n*n-4*r*a;if(i<0)return[];if(0===i)return[-n/(2*r)];i=Math.sqrt(i);var o=void 0,l=void 0;return n>=0?(o=(-n-i)/(2*r),l=2*a/(-n-i)):(o=2*a/(-n+i),l=(-n+i)/(2*r)),o<l?[o,l]:[l,o]}function a(e,t,r){var n=f(e),a=(c(e),n.map(function(e){return c(e)(t)})),i=n.map(function(e){return c(e)(r)});return d(a)-d(i)}function i(e,t,r){if(t===r)return t;if(r<t){var n=[r,t];t=n[0],r=n[1]}var a=e(t),i=e(r);if(0===a)return t;if(0===i)return r;if(a*i>0)throw new Error("Root not bracketed");for(;;){var o=t+(r-t)/2,u=e(o);if(0===u)return o;a*u<0?r=o:t=o;var l=2*Number.EPSILON*Math.abs(r);if(Math.abs(t-r)<=l)return r}}function o(e,t,r){if(t===r)return t;var n=e(t),a=e(r);if(n*a>0)throw new Error("Root not bracketed");var i=void 0;if(Math.abs(n)<Math.abs(a)){i=t,t=r,r=i;var o=n;n=a,a=o}i=t;for(var u=!0,l=void 0;;){var s=2*Number.EPSILON*Math.abs(r),f=e(i),c=void 0;if(n!==f&&a!==f){var d=n-f,v=n-a,h=a-f;c=((t*a*h-r*n*d)*f+i*n*v*a)/(v*d*h)}else c=r-a*((r-t)/(a-n));var p=(3*t+r)/4,m=Math.abs(r-i),y=Math.abs(c-r),g=Math.abs(i-l);!(c>p&&c<r||c<p&&c>r)||u&&(y>=m/2||m<s)||!u&&(y>=g/2||g<s)?(c=(t+r)/2,u=!0):u=!1;var b=e(c);if(l=i,i=r,n*b<0?r=c:t=c,Math.abs(n)<Math.abs(a)){var w=t;t=r,r=w}if(0===a)return r;if(0===b)return c;if(Math.abs(t-r)<=s)return r;n=e(t),a=e(r)}}var u=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(r,"__esModule",{value:!0});var l=e("./core-operators"),s=l.default,f=s.sturmChain,c=s.evaluate,d=s.signChanges,v={quadraticRoots:n,numRootsWithin:a,brent:o,bisection:i};r.default=v},{"./core-operators":50}],56:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(){n(this,e)}return i(e,null,[{key:"dot",value:function(e,t){return e[0]*t[0]+e[1]*t[1]}},{key:"cross",value:function(e,t){return e[0]*t[1]-e[1]*t[0]}},{key:"ccw",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-10,a=(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0]);return Math.abs(a)<=n?0:a}},{key:"segSegIntersection",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10,n=a(e,2),i=n[0],o=n[1],u=a(t,2),l=u[0],s=u[1],f=(o[0]-i[0])*(s[1]-l[1])-(o[1]-i[1])*(s[0]-l[0]),c=(i[1]-l[1])*(s[0]-l[0])-(i[0]-l[0])*(s[1]-l[1]),d=(i[1]-l[1])*(o[0]-i[0])-(i[0]-l[0])*(o[1]-i[1]);if(Math.abs(f)<=r)return void Math.abs(c);var v=c/f,h=d/f;return 0<=v&&v<=1&&0<=h&&h<=1?[i[0]+v*(o[0]-i[0]),i[1]+v*(o[1]-i[1])]:void 0}},{key:"doesSegSegIntersect",value:function(t,r){var n=e.ccw;return!(n(t[0],t[1],r[0])*n(t[0],t[1],r[1])>0)&&!(n(r[0],r[1],t[0])*n(r[0],r[1],t[1])>0)}},{key:"squaredDistanceBetween",value:function(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}},{key:"scale",value:function(e,t){return[e[0]*t,e[1]*t]}},{key:"reverse",value:function(e){return[-e[0],-e[1]]}},{key:"toUnitVector",value:function(t){var r=1/e.len(t);return[t[0]*r,t[1]*r]}},{key:"toLength",value:function(t,r){var n=r/e.len(t);return[t[0]*n,t[1]*n]}},{key:"fromTo",value:function(e,t){return[t[0]-e[0],t[1]-e[1]]}},{key:"interpolate",value:function(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}},{key:"mean",value:function(e){var t=e[0],r=e[1];return[(t[0]+r[0])/2,(t[1]+r[1])/2]}},{key:"distanceBetween",value:function(t,r){return Math.sqrt(e.squaredDistanceBetween(t,r))}},{key:"len",value:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}},{key:"lengthSquared",value:function(e){return e[0]*e[0]+e[1]*e[1]}},{key:"manhattanDistanceBetween",value:function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])}},{key:"manhattanLength",value:function(e){return Math.abs(e[0])+Math.abs(e[1])}},{key:"distanceBetweenPointAndLine",value:function(e,t){var r=a(e,2),n=r[0],i=r[1],o=a(t,2),u=a(o[0],2),l=u[0],s=u[1],f=a(o[1],2),c=f[0],d=f[1],v=d-s,h=c-l,p=v*n-h*i+c*s-d*l,m=Math.sqrt(h*h+v*v);return Math.abs(p/m)}},{key:"squaredDistanceBetweenPointAndLineSegment",value:function(t,r){var n=e.squaredDistanceBetween,a=r[0],i=r[1],o=n(a,i);if(0==o)return n(t,a);var u=((t[0]-a[0])*(i[0]-a[0])+(t[1]-a[1])*(i[1]-a[1]))/o;return u=Math.max(0,Math.min(1,u)),n(t,[a[0]+u*(i[0]-a[0]),a[1]+u*(i[1]-a[1])])}},{key:"circumCenter",value:function(t){var r=t[0],n=t[1],a=t[2],i=e.lengthSquared,o=.5*e.det3([i(r),r[1],1],[i(n),n[1],1],[i(a),a[1],1]),u=.5*e.det3([r[0],i(r),1],[n[0],i(n),1],[a[0],i(a),1]),l=e.det3([r[0],r[1],1],[n[0],n[1],1],[a[0],a[1],1]);e.det3([r[0],r[1],i(r)],[n[0],n[1],i(n)],[a[0],a[1],i(a)]);return[o/l,u/l]}},{key:"inCenter",value:function(t){var r=e.distanceBetween,n=t[0],a=t[1],i=t[2],o=r(a,i),u=r(n,i),l=r(n,a),s=o+u+l;return[(o*n[0]+u*a[0]+l*i[0])/s,(o*n[1]+u*a[1]+l*i[1])/s]}},{key:"centroid",value:function(e){if(3===e.length){var t=e[0],r=e[1],n=e[2];return[(t[0]+r[0]+n[0])/3,(t[1]+r[1]+n[1])/3]}for(var a=0,i=0;i<e.length;i++){var o=e[i],u=i===e.length-1?e[0]:e[i+1];a+=o[0]*u[1]-u[0]*o[1]}a/=2;for(var l=[0,0],s=0;s<e.length;s++){var f=e[s],c=s===e.length-1?e[0]:e[s+1];l[0]=l[0]+(f[0]+c[0])*(f[0]*c[1]-c[0]*f[1]),l[1]=l[1]+(f[1]+c[1])*(f[0]*c[1]-c[0]*f[1])}return[l[0]/(6*a),l[1]/(6*a)]}},{key:"det3",value:function(e,t,r){return e[0]*(t[1]*r[2]-t[2]*r[1])-e[1]*(t[0]*r[2]-t[2]*r[0])+e[2]*(t[0]*r[1]-t[1]*r[0])}},{key:"translate",value:function(e,t){function r(t){return[e[0]+t[0],e[1]+t[1]]}return void 0===t?r:r(t)}},{key:"rotate",value:function(t,r,n){function a(e){return[e[0]*r-e[1]*t,e[0]*t+e[1]*r]}e.translatePs([1,2]);return void 0===n?a:a(n)}},{key:"equal",value:function(e,t){return e[0]===t[0]&&e[1]===t[1]}},{key:"reverseRotate",value:function(e,t,r){return[+r[0]*t+r[1]*e,-r[0]*e+r[1]*t]}},{key:"rotate90Degrees",value:function(e){return[-e[1],e[0]]}},{key:"rotateNeg90Degrees",value:function(e){return[e[1],-e[0]]}},{key:"transform",value:function(e,t){return[t(e[0]),t(e[1])]}},{key:"getClosestTo",value:function(t,r){for(var n=void 0,a=Number.POSITIVE_INFINITY,i=0;i<r.length;i++){var o=r[i],u=e.squaredDistanceBetween(t,o);u<a&&(n=o,a=u)}return n}},{key:"translateThenRotatePs",value:function(t,r,n,a){var i=e.translate(t);return a.map(function(t){return e.rotate(r,n,i(t))})}},{key:"rotateThenTranslatePs",value:function(t,r,n,a){return a.map(function(a){return e.translate(n,e.rotate(t,r,a))})}}]),e}();o.translatePs=function(e){function t(t,r){var n=e(t),a=function(e){return e.map(n)};return void 0===r?a:a(r)}return t}(o.translate),o.rotatePs=function(e){function t(t,r,n){var a=e(t,r),i=function(e){return e.map(a)};return void 0===n?i:i(n)}return t}(o.rotate),r.default=o},{}]},{},[1])(1)});
//# sourceMappingURL=index.min.js.map
